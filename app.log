2025-03-24 16:18:27,806 - root - INFO - Firecrawl library imported successfully
2025-03-24 16:18:27,808 - root - INFO - SerpAPI library imported successfully
2025-03-24 16:18:27,809 - tools - INFO - Directly registering tool instances...
2025-03-24 16:18:27,809 - tools - INFO - Creating FirecrawlerTool instance
2025-03-24 16:18:27,810 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-24 16:18:27,810 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-24 16:18:27,810 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-24 16:18:27,810 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-24 16:18:27,810 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-24 16:18:27,810 - tools - INFO - Creating CategoryTreeTool instance
2025-03-24 16:18:27,811 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-24 16:18:27,811 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-24 16:18:27,811 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-24 16:18:27,811 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-24 16:18:27,811 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-24 16:18:27,812 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-24 16:18:27,812 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-24 16:18:27,812 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-24 16:18:27,835 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-24 16:18:27,835 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-24 16:18:27,835 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-24 16:18:27,835 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-24 16:18:27,835 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-24 16:18:27,835 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-24 16:18:27,835 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-24 16:18:33,896 - api - INFO - API: Starting new conversation
2025-03-24 16:18:33,897 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 16:18:33,897 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 16:18:33,897 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:18:33,897 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 16:18:33,897 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:18:35,833 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:18:35,835 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:18:35,835 - workflow_orchestrator - INFO - Conversation started
2025-03-24 16:18:35,835 - api - INFO - API: Conversation started successfully
2025-03-24 16:18:43,090 - api - INFO - API: Processing message in stage: initial
2025-03-24 16:18:43,090 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-24 16:18:43,090 - workflow_orchestrator - INFO - No URL found in initial stage message
2025-03-24 16:18:43,090 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:18:43,090 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 16:18:43,090 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:18:44,636 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:18:44,637 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:18:44,637 - api - INFO - API: Message processed, new stage: initial
2025-03-24 16:18:49,755 - api - INFO - API: Processing message in stage: initial
2025-03-24 16:18:49,755 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-24 16:18:49,755 - workflow_orchestrator - INFO - URL detected in initial stage, enabling auto-flow
2025-03-24 16:18:49,755 - workflow_orchestrator - INFO - Processing URL in initial stage
2025-03-24 16:18:49,756 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-24 16:18:49,756 - workflow_orchestrator - INFO - Analyzing URL: https://sleepyowl.co/
2025-03-24 16:18:49,756 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-24 16:18:49,756 - tools - INFO - Executing tool requested: firecrawler
2025-03-24 16:18:49,756 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://sleepyowl.co/', 'depth': 2}
2025-03-24 16:18:49,756 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://sleepyowl.co/, depth: 2
2025-03-24 16:18:49,756 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://sleepyowl.co/
2025-03-24 16:18:52,903 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://sleepyowl.co/
2025-03-24 16:18:52,903 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://sleepyowl.co/
2025-03-24 16:18:52,903 - tools.firecrawler_tool - INFO - Product title: 
2025-03-24 16:18:52,903 - tools.firecrawler_tool - INFO - Product price: 
2025-03-24 16:18:52,903 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-24 16:18:52,903 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-24 16:18:52,903 - workflow_orchestrator - INFO - Generating response with product information
2025-03-24 16:18:52,903 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:18:52,904 - workflow_orchestrator - INFO - Using system prompt for stage: url_analysis
2025-03-24 16:18:52,904 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:19:08,045 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:19:08,046 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:19:08,046 - workflow_orchestrator - INFO - Auto-flow enabled, proceeding through workflow stages automatically
2025-03-24 16:19:08,046 - workflow_orchestrator - INFO - Transition to market_research stage
2025-03-24 16:19:08,046 - workflow_orchestrator - INFO - Starting market research
2025-03-24 16:19:08,046 - workflow_orchestrator - INFO - Using product title for market research: ''
2025-03-24 16:19:08,046 - workflow_orchestrator - WARNING - No product title available for market research
2025-03-24 16:19:08,046 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:19:08,047 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-24 16:19:08,047 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:19:27,214 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:19:27,221 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:19:27,222 - workflow_orchestrator - INFO - Transition to category_mapping stage
2025-03-24 16:19:27,222 - workflow_orchestrator - INFO - Starting category mapping
2025-03-24 16:19:27,222 - workflow_orchestrator - INFO - Category mapping with 0 features and 0 keywords
2025-03-24 16:19:27,222 - workflow_orchestrator - INFO - Executing category tree tool
2025-03-24 16:19:27,222 - tools - INFO - Executing tool requested: category_tree
2025-03-24 16:19:27,222 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': '', 'product_features': [], 'product_keywords': [], 'max_categories': 3, 'max_subcategories': 5}
2025-03-24 16:19:27,222 - tools.category_tree_tool - INFO - Executing category tree tool with description: ...
2025-03-24 16:19:27,222 - tools.category_tree_tool - INFO - Category mapping completed with 0 categories and 0 audience segments
2025-03-24 16:19:27,222 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-24 16:19:27,222 - workflow_orchestrator - INFO - Successfully completed category mapping, storing results
2025-03-24 16:19:27,222 - workflow_orchestrator - INFO - Generating response with category information
2025-03-24 16:19:27,222 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:19:27,222 - workflow_orchestrator - INFO - Using system prompt for stage: category_mapping
2025-03-24 16:19:27,222 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:19:28,725 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:19:28,726 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:19:28,726 - workflow_orchestrator - INFO - Transition to audience_segmentation stage
2025-03-24 16:19:28,726 - workflow_orchestrator - INFO - Generating audience segments
2025-03-24 16:19:28,726 - workflow_orchestrator - ERROR - No audience segments found in category data
2025-03-24 16:19:28,726 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:19:28,726 - workflow_orchestrator - INFO - Using system prompt for stage: audience_segmentation
2025-03-24 16:19:28,726 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:19:46,895 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:19:46,916 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:19:46,916 - workflow_orchestrator - INFO - Transition to marketing_strategy stage
2025-03-24 16:19:46,916 - workflow_orchestrator - INFO - Generating marketing strategies
2025-03-24 16:19:46,916 - workflow_orchestrator - INFO - Creating marketing strategies prompt
2025-03-24 16:19:46,916 - workflow_orchestrator - INFO - Calling _generate_marketing_strategies method
2025-03-24 16:19:46,916 - workflow_orchestrator - INFO - Generating marketing strategies with GPT-4
2025-03-24 16:20:07,065 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:20:07,067 - workflow_orchestrator - INFO - Received marketing strategies response from GPT-4
2025-03-24 16:20:07,067 - workflow_orchestrator - INFO - Parsed 7 marketing strategies
2025-03-24 16:20:07,067 - workflow_orchestrator - INFO - Generated 7 marketing strategies
2025-03-24 16:20:07,067 - workflow_orchestrator - INFO - Creating response with marketing strategies
2025-03-24 16:20:07,067 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:20:07,067 - workflow_orchestrator - INFO - Using system prompt for stage: marketing_strategy
2025-03-24 16:20:07,067 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:20:20,891 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:20:20,893 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:20:20,893 - workflow_orchestrator - INFO - Transition to final_summary stage
2025-03-24 16:20:20,893 - workflow_orchestrator - INFO - Generating final summary
2025-03-24 16:20:20,893 - workflow_orchestrator - INFO - Creating final summary for product: 
2025-03-24 16:20:20,893 - workflow_orchestrator - INFO - Final summary generated successfully
2025-03-24 16:20:20,893 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:20:20,893 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-24 16:20:20,893 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:20:33,399 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:20:33,400 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:20:33,400 - api - INFO - API: Message processed, new stage: final_summary
2025-03-24 16:23:11,644 - root - INFO - Firecrawl library imported successfully
2025-03-24 16:23:11,646 - root - INFO - SerpAPI library imported successfully
2025-03-24 16:23:11,647 - tools - INFO - Directly registering tool instances...
2025-03-24 16:23:11,647 - tools - INFO - Creating FirecrawlerTool instance
2025-03-24 16:23:11,648 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-24 16:23:11,648 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-24 16:23:11,648 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-24 16:23:11,648 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-24 16:23:11,648 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-24 16:23:11,648 - tools - INFO - Creating CategoryTreeTool instance
2025-03-24 16:23:11,649 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-24 16:23:11,649 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-24 16:23:11,649 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-24 16:23:11,649 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-24 16:23:11,649 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-24 16:23:11,650 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-24 16:23:11,650 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-24 16:23:11,650 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-24 16:23:11,672 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-24 16:23:11,672 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-24 16:23:11,672 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-24 16:23:11,673 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-24 16:23:11,673 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-24 16:23:11,673 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-24 16:23:11,673 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-24 16:23:15,279 - api - INFO - API: Starting new conversation
2025-03-24 16:23:15,279 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 16:23:15,280 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 16:23:15,280 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:23:15,280 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 16:23:15,280 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:23:20,313 - api - INFO - API: Starting new conversation
2025-03-24 16:23:20,313 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 16:23:20,313 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 16:23:20,313 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:23:20,313 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 16:23:20,313 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:23:21,304 - api - INFO - API: Processing message in stage: initial
2025-03-24 16:23:21,304 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-24 16:23:21,304 - workflow_orchestrator - INFO - URL detected in initial stage, enabling auto-flow
2025-03-24 16:23:21,304 - workflow_orchestrator - INFO - Processing URL in initial stage
2025-03-24 16:23:21,304 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-24 16:23:21,304 - workflow_orchestrator - INFO - Analyzing URL: https://sleepyowl.co/
2025-03-24 16:23:21,304 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-24 16:23:21,305 - tools - INFO - Executing tool requested: firecrawler
2025-03-24 16:23:21,305 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://sleepyowl.co/', 'depth': 2}
2025-03-24 16:23:21,305 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://sleepyowl.co/, depth: 2
2025-03-24 16:23:21,305 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://sleepyowl.co/
2025-03-24 16:23:24,493 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://sleepyowl.co/
2025-03-24 16:23:24,493 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://sleepyowl.co/
2025-03-24 16:23:24,493 - tools.firecrawler_tool - INFO - Product title: 
2025-03-24 16:23:24,493 - tools.firecrawler_tool - INFO - Product price: 
2025-03-24 16:23:24,493 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-24 16:23:24,493 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-24 16:23:24,493 - workflow_orchestrator - INFO - Generating response with product information
2025-03-24 16:23:24,493 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:23:24,493 - workflow_orchestrator - INFO - Using system prompt for stage: url_analysis
2025-03-24 16:23:24,493 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:23:24,499 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:23:24,528 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:23:24,528 - workflow_orchestrator - INFO - Conversation started
2025-03-24 16:23:24,528 - api - INFO - API: Conversation started successfully
2025-03-24 16:23:31,019 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:23:31,020 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:23:31,020 - workflow_orchestrator - INFO - Conversation started
2025-03-24 16:23:31,020 - api - INFO - API: Conversation started successfully
2025-03-24 16:23:41,592 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:23:41,593 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:23:41,593 - workflow_orchestrator - INFO - Auto-flow enabled, proceeding through workflow stages automatically
2025-03-24 16:23:41,593 - workflow_orchestrator - INFO - Transition to market_research stage
2025-03-24 16:23:41,593 - workflow_orchestrator - INFO - Starting market research
2025-03-24 16:23:41,593 - workflow_orchestrator - INFO - Using product title for market research: ''
2025-03-24 16:23:41,593 - workflow_orchestrator - WARNING - No product title available for market research
2025-03-24 16:23:41,593 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:23:41,593 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-24 16:23:41,593 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:23:58,519 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:23:58,520 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:23:58,520 - workflow_orchestrator - INFO - Transition to category_mapping stage
2025-03-24 16:23:58,520 - workflow_orchestrator - INFO - Starting category mapping
2025-03-24 16:23:58,520 - workflow_orchestrator - INFO - Category mapping with 0 features and 0 keywords
2025-03-24 16:23:58,520 - workflow_orchestrator - INFO - Executing category tree tool
2025-03-24 16:23:58,521 - tools - INFO - Executing tool requested: category_tree
2025-03-24 16:23:58,521 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': '', 'product_features': [], 'product_keywords': [], 'max_categories': 3, 'max_subcategories': 5}
2025-03-24 16:23:58,521 - tools.category_tree_tool - INFO - Executing category tree tool with description: ...
2025-03-24 16:23:58,521 - tools.category_tree_tool - INFO - Category mapping completed with 0 categories and 0 audience segments
2025-03-24 16:23:58,521 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-24 16:23:58,521 - workflow_orchestrator - INFO - Successfully completed category mapping, storing results
2025-03-24 16:23:58,521 - workflow_orchestrator - INFO - Generating response with category information
2025-03-24 16:23:58,521 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:23:58,521 - workflow_orchestrator - INFO - Using system prompt for stage: category_mapping
2025-03-24 16:23:58,521 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:24:28,740 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:24:28,742 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:24:28,742 - workflow_orchestrator - INFO - Transition to audience_segmentation stage
2025-03-24 16:24:28,742 - workflow_orchestrator - INFO - Generating audience segments
2025-03-24 16:24:28,742 - workflow_orchestrator - ERROR - No audience segments found in category data
2025-03-24 16:24:28,742 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:24:28,742 - workflow_orchestrator - INFO - Using system prompt for stage: audience_segmentation
2025-03-24 16:24:28,743 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:25:09,094 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:25:09,095 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:25:09,095 - workflow_orchestrator - INFO - Transition to marketing_strategy stage
2025-03-24 16:25:09,095 - workflow_orchestrator - INFO - Generating marketing strategies
2025-03-24 16:25:09,095 - workflow_orchestrator - INFO - Creating marketing strategies prompt
2025-03-24 16:25:09,095 - workflow_orchestrator - INFO - Calling _generate_marketing_strategies method
2025-03-24 16:25:09,095 - workflow_orchestrator - INFO - Generating marketing strategies with GPT-4
2025-03-24 16:25:34,845 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:25:34,846 - workflow_orchestrator - INFO - Received marketing strategies response from GPT-4
2025-03-24 16:25:34,846 - workflow_orchestrator - INFO - Parsed 18 marketing strategies
2025-03-24 16:25:34,846 - workflow_orchestrator - INFO - Generated 18 marketing strategies
2025-03-24 16:25:34,846 - workflow_orchestrator - INFO - Creating response with marketing strategies
2025-03-24 16:25:34,846 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:25:34,846 - workflow_orchestrator - INFO - Using system prompt for stage: marketing_strategy
2025-03-24 16:25:34,846 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:26:04,745 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:26:04,746 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:26:04,746 - workflow_orchestrator - INFO - Transition to final_summary stage
2025-03-24 16:26:04,747 - workflow_orchestrator - INFO - Generating final summary
2025-03-24 16:26:04,747 - workflow_orchestrator - INFO - Creating final summary for product: 
2025-03-24 16:26:04,747 - workflow_orchestrator - INFO - Final summary generated successfully
2025-03-24 16:26:04,747 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:26:04,747 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-24 16:26:04,747 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:26:30,190 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:26:30,191 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:26:30,191 - api - INFO - API: Message processed, new stage: final_summary
2025-03-24 16:45:36,585 - root - INFO - Firecrawl library imported successfully
2025-03-24 16:45:36,588 - root - INFO - SerpAPI library imported successfully
2025-03-24 16:45:36,591 - tools - INFO - Directly registering tool instances...
2025-03-24 16:45:36,591 - tools - INFO - Creating FirecrawlerTool instance
2025-03-24 16:45:36,592 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-24 16:45:36,592 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-24 16:45:36,592 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-24 16:45:36,593 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-24 16:45:36,593 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-24 16:45:36,593 - tools - INFO - Creating CategoryTreeTool instance
2025-03-24 16:45:36,593 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-24 16:45:36,594 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-24 16:45:36,594 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-24 16:45:36,594 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-24 16:45:36,594 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-24 16:45:36,596 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-24 16:45:36,596 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-24 16:45:36,596 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-24 16:45:36,617 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-24 16:45:36,617 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-24 16:45:36,617 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-24 16:45:36,617 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-24 16:45:36,617 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-24 16:45:36,617 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-24 16:45:36,617 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-24 16:45:39,269 - api - INFO - API: Starting new conversation
2025-03-24 16:45:39,269 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 16:45:39,269 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 16:45:39,269 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:45:39,269 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 16:45:39,270 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:45:40,727 - api - INFO - API: Processing message in stage: initial
2025-03-24 16:45:40,727 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-24 16:45:40,727 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-24 16:45:40,727 - workflow_orchestrator - INFO - URL detected in initial stage, enabling auto-flow
2025-03-24 16:45:40,727 - workflow_orchestrator - INFO - Processing URL in initial stage
2025-03-24 16:45:40,727 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-24 16:45:40,727 - workflow_orchestrator - INFO - Analyzing URL: https://sleepyowl.co/
2025-03-24 16:45:40,727 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-24 16:45:40,728 - tools - INFO - Executing tool requested: firecrawler
2025-03-24 16:45:40,728 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://sleepyowl.co/', 'depth': 2}
2025-03-24 16:45:40,728 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://sleepyowl.co/, depth: 2
2025-03-24 16:45:40,728 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://sleepyowl.co/
2025-03-24 16:45:45,418 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://sleepyowl.co/
2025-03-24 16:45:45,418 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://sleepyowl.co/
2025-03-24 16:45:45,418 - tools.firecrawler_tool - INFO - Product title: 
2025-03-24 16:45:45,418 - tools.firecrawler_tool - INFO - Product price: 
2025-03-24 16:45:45,418 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-24 16:45:45,418 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-24 16:45:45,418 - workflow_orchestrator - WARNING - Product data missing title
2025-03-24 16:45:45,418 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-24 16:45:45,418 - workflow_orchestrator - WARNING - Product data missing description
2025-03-24 16:45:45,418 - workflow_orchestrator - INFO - Generating response with product information
2025-03-24 16:45:45,418 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:45:45,418 - workflow_orchestrator - INFO - Using system prompt for stage: url_analysis
2025-03-24 16:45:45,418 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:45:50,628 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:45:50,667 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:45:50,667 - workflow_orchestrator - INFO - Conversation started
2025-03-24 16:45:50,667 - api - INFO - API: Conversation started successfully
2025-03-24 16:46:11,312 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:46:11,313 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:46:11,314 - workflow_orchestrator - INFO - Auto-flow enabled, proceeding through workflow stages automatically
2025-03-24 16:46:11,314 - workflow_orchestrator - INFO - Transition to market_research stage
2025-03-24 16:46:11,314 - workflow_orchestrator - INFO - Starting market research
2025-03-24 16:46:11,314 - workflow_orchestrator - INFO - Using product title for market research: 'Unknown Product'
2025-03-24 16:46:11,314 - workflow_orchestrator - INFO - Executing SERP analysis for query: 'Unknown Product'
2025-03-24 16:46:11,314 - tools - INFO - Executing tool requested: serp_analysis
2025-03-24 16:46:11,314 - tools - INFO - Executing tool: serp_analysis with parameters: {'query': 'Unknown Product', 'results_count': 10}
2025-03-24 16:46:11,314 - tools.serp_analysis_tool - INFO - Using SerpAPI to analyze query: Unknown Product
2025-03-24 16:46:11,443 - tools.serp_analysis_tool - INFO - Successfully analyzed market data for query: Unknown Product
2025-03-24 16:46:11,443 - tools.serp_analysis_tool - INFO - Found 5 competitors and 10 keywords
2025-03-24 16:46:11,443 - tools - INFO - Tool execution completed: serp_analysis, success: True
2025-03-24 16:46:11,443 - workflow_orchestrator - INFO - Successfully completed market research, storing results
2025-03-24 16:46:11,443 - workflow_orchestrator - INFO - Generating response with market information
2025-03-24 16:46:11,443 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:46:11,443 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-24 16:46:11,444 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:46:35,074 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:46:35,075 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:46:35,075 - workflow_orchestrator - INFO - Transition to category_mapping stage
2025-03-24 16:46:35,075 - workflow_orchestrator - INFO - Starting category mapping
2025-03-24 16:46:35,076 - workflow_orchestrator - INFO - Category mapping input - Description length: 39, Features count: 1, Keywords count: 10
2025-03-24 16:46:35,076 - workflow_orchestrator - INFO - Sample features: Product available online
2025-03-24 16:46:35,076 - workflow_orchestrator - INFO - Sample keywords: products, designer, brand, have, been
2025-03-24 16:46:35,076 - workflow_orchestrator - INFO - Category mapping with 1 features and 10 keywords
2025-03-24 16:46:35,076 - workflow_orchestrator - INFO - Executing category tree tool
2025-03-24 16:46:35,076 - tools - INFO - Executing tool requested: category_tree
2025-03-24 16:46:35,076 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://sleepyowl.co/', 'product_features': ['Product available online'], 'product_keywords': ['products', 'designer', 'brand', 'have', 'been', 'released', 'japanese', 'since', 'whether', 'author'], 'max_categories': 3, 'max_subcategories': 5}
2025-03-24 16:46:35,076 - tools.category_tree_tool - INFO - Executing category tree tool with description: Online product at https://sleepyowl.co/...
2025-03-24 16:46:35,076 - tools.category_tree_tool - INFO - Starting category matching with description length: 39, features count: 1, keywords count: 10
2025-03-24 16:46:35,076 - tools.category_tree_tool - INFO - Combined text length for matching: 137
2025-03-24 16:46:35,076 - tools.category_tree_tool - INFO - Available top-level categories for matching: ['Demographics', 'Financial', 'Home', 'Life Events', 'Interests', 'Shopping and Fashion', 'Technology', 'Behaviors']
2025-03-24 16:46:35,076 - tools.category_tree_tool - WARNING - No category matches found, creating default category
2025-03-24 16:46:35,076 - tools.category_tree_tool - INFO - Creating completely new default category
2025-03-24 16:46:35,076 - tools.category_tree_tool - INFO - Returning 1 categories. Top category: General Consumer Products
2025-03-24 16:46:35,076 - tools.category_tree_tool - INFO - Generating audience segments from 1 matched categories
2025-03-24 16:46:35,076 - tools.category_tree_tool - INFO - Creating segments for category: General Consumer Products with 1 subcategories
2025-03-24 16:46:35,076 - tools.category_tree_tool - INFO - Adding general audience segments due to limited specific segments
2025-03-24 16:46:35,076 - tools.category_tree_tool - INFO - Generated 4 audience segments
2025-03-24 16:46:35,076 - tools.category_tree_tool - INFO - Category mapping completed with 1 categories and 4 audience segments
2025-03-24 16:46:35,077 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-24 16:46:35,077 - workflow_orchestrator - INFO - Successfully completed category mapping, storing results
2025-03-24 16:46:35,077 - workflow_orchestrator - INFO - Generating response with category information
2025-03-24 16:46:35,077 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:46:35,077 - workflow_orchestrator - INFO - Using system prompt for stage: category_mapping
2025-03-24 16:46:35,077 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:47:04,845 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:47:04,883 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:47:04,883 - workflow_orchestrator - INFO - Transition to audience_segmentation stage
2025-03-24 16:47:04,883 - workflow_orchestrator - INFO - Generating audience segments
2025-03-24 16:47:04,883 - workflow_orchestrator - INFO - Found 4 audience segments in category data
2025-03-24 16:47:04,883 - workflow_orchestrator - INFO - Segment 1: General Consumer Products Enthusiasts
2025-03-24 16:47:04,884 - workflow_orchestrator - INFO - Segment 2: Value-Conscious Shoppers
2025-03-24 16:47:04,884 - workflow_orchestrator - INFO - Segment 3: Convenience Shoppers
2025-03-24 16:47:04,884 - workflow_orchestrator - INFO - Segment 4: Quality-Focused Consumers
2025-03-24 16:47:04,884 - workflow_orchestrator - INFO - Generating response with audience segments
2025-03-24 16:47:04,884 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:47:04,884 - workflow_orchestrator - INFO - Using system prompt for stage: audience_segmentation
2025-03-24 16:47:04,884 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:47:30,468 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:47:30,469 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:47:30,469 - workflow_orchestrator - INFO - Transition to marketing_strategy stage
2025-03-24 16:47:30,469 - workflow_orchestrator - INFO - Generating marketing strategies
2025-03-24 16:47:30,469 - workflow_orchestrator - INFO - Creating marketing strategies prompt
2025-03-24 16:47:30,469 - workflow_orchestrator - INFO - Calling _generate_marketing_strategies method
2025-03-24 16:47:30,470 - workflow_orchestrator - INFO - Generating marketing strategies with GPT-4
2025-03-24 16:47:44,392 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:47:44,393 - workflow_orchestrator - INFO - Received marketing strategies response from GPT-4
2025-03-24 16:47:44,393 - workflow_orchestrator - INFO - Parsed 7 marketing strategies
2025-03-24 16:47:44,393 - workflow_orchestrator - INFO - Generated 7 marketing strategies
2025-03-24 16:47:44,393 - workflow_orchestrator - INFO - Creating response with marketing strategies
2025-03-24 16:47:44,393 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:47:44,393 - workflow_orchestrator - INFO - Using system prompt for stage: marketing_strategy
2025-03-24 16:47:44,393 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:48:13,679 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:48:13,680 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:48:13,680 - workflow_orchestrator - INFO - Transition to final_summary stage
2025-03-24 16:48:13,680 - workflow_orchestrator - INFO - Generating final summary
2025-03-24 16:48:13,680 - workflow_orchestrator - INFO - Creating final summary for product: Unknown Product
2025-03-24 16:48:13,680 - workflow_orchestrator - INFO - Final summary generated successfully
2025-03-24 16:48:13,680 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:48:13,680 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-24 16:48:13,680 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:48:41,432 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:48:41,434 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:48:41,434 - api - INFO - API: Message processed, new stage: final_summary
2025-03-24 16:54:09,896 - root - INFO - Firecrawl library imported successfully
2025-03-24 16:54:09,899 - root - INFO - SerpAPI library imported successfully
2025-03-24 16:54:09,903 - tools - INFO - Directly registering tool instances...
2025-03-24 16:54:09,903 - tools - INFO - Creating FirecrawlerTool instance
2025-03-24 16:54:09,904 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-24 16:54:09,904 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-24 16:54:09,904 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-24 16:54:09,904 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-24 16:54:09,904 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-24 16:54:09,904 - tools - INFO - Creating CategoryTreeTool instance
2025-03-24 16:54:09,905 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-24 16:54:09,905 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-24 16:54:09,905 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-24 16:54:09,905 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-24 16:54:09,905 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-24 16:54:09,906 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-24 16:54:09,906 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-24 16:54:09,906 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-24 16:54:09,927 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-24 16:54:09,927 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-24 16:54:09,927 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-24 16:54:09,927 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-24 16:54:09,927 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-24 16:54:09,927 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-24 16:54:09,927 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-24 16:54:12,776 - api - INFO - API: Starting new conversation
2025-03-24 16:54:12,776 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 16:54:12,776 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 16:54:12,776 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:54:12,776 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 16:54:12,776 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:54:14,313 - api - INFO - API: Processing message in stage: initial
2025-03-24 16:54:14,313 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-24 16:54:14,313 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-24 16:54:14,313 - workflow_orchestrator - INFO - URL detected in initial stage, enabling auto-flow
2025-03-24 16:54:14,313 - workflow_orchestrator - INFO - Processing URL in initial stage
2025-03-24 16:54:14,313 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-24 16:54:14,313 - workflow_orchestrator - INFO - Analyzing URL: https://sleepyowl.co/
2025-03-24 16:54:14,313 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-24 16:54:14,313 - tools - INFO - Executing tool requested: firecrawler
2025-03-24 16:54:14,313 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://sleepyowl.co/', 'depth': 2}
2025-03-24 16:54:14,313 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://sleepyowl.co/, depth: 2
2025-03-24 16:54:14,313 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://sleepyowl.co/
2025-03-24 16:54:17,550 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://sleepyowl.co/
2025-03-24 16:54:17,550 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://sleepyowl.co/
2025-03-24 16:54:17,550 - tools.firecrawler_tool - INFO - Product title: 
2025-03-24 16:54:17,550 - tools.firecrawler_tool - INFO - Product price: 
2025-03-24 16:54:17,551 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-24 16:54:17,551 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-24 16:54:17,551 - workflow_orchestrator - WARNING - Product data missing title
2025-03-24 16:54:17,551 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-24 16:54:17,551 - workflow_orchestrator - WARNING - Product data missing description
2025-03-24 16:54:17,551 - workflow_orchestrator - INFO - Generating response with product information
2025-03-24 16:54:17,551 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:54:17,551 - workflow_orchestrator - INFO - Using system prompt for stage: url_analysis
2025-03-24 16:54:17,551 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:54:21,496 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:54:21,534 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:54:21,534 - workflow_orchestrator - INFO - Conversation started
2025-03-24 16:54:21,534 - api - INFO - API: Conversation started successfully
2025-03-24 16:54:30,297 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:54:30,298 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:54:30,298 - workflow_orchestrator - INFO - Auto-flow enabled, proceeding through workflow stages automatically
2025-03-24 16:54:30,298 - workflow_orchestrator - INFO - Transition to market_research stage
2025-03-24 16:54:30,298 - workflow_orchestrator - INFO - Starting market research
2025-03-24 16:54:30,298 - workflow_orchestrator - INFO - Using product title for market research: 'Unknown Product'
2025-03-24 16:54:30,298 - workflow_orchestrator - INFO - Executing SERP analysis for query: 'Unknown Product'
2025-03-24 16:54:30,298 - tools - INFO - Executing tool requested: serp_analysis
2025-03-24 16:54:30,298 - tools - INFO - Executing tool: serp_analysis with parameters: {'query': 'Unknown Product', 'results_count': 10}
2025-03-24 16:54:30,298 - tools.serp_analysis_tool - INFO - Using SerpAPI to analyze query: Unknown Product
2025-03-24 16:54:30,424 - tools.serp_analysis_tool - INFO - Successfully analyzed market data for query: Unknown Product
2025-03-24 16:54:30,424 - tools.serp_analysis_tool - INFO - Found 5 competitors and 10 keywords
2025-03-24 16:54:30,424 - tools - INFO - Tool execution completed: serp_analysis, success: True
2025-03-24 16:54:30,424 - workflow_orchestrator - INFO - Successfully completed market research, storing results
2025-03-24 16:54:30,424 - workflow_orchestrator - INFO - Generating response with market information
2025-03-24 16:54:30,425 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:54:30,425 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-24 16:54:30,425 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:54:45,260 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:54:45,261 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:54:45,261 - workflow_orchestrator - INFO - Transition to category_mapping stage
2025-03-24 16:54:45,261 - workflow_orchestrator - INFO - Starting LLM-guided category mapping
2025-03-24 16:54:45,261 - workflow_orchestrator - INFO - Starting recursive category exploration for product: Unknown Product
2025-03-24 16:54:45,261 - workflow_orchestrator - INFO - Getting all top-level categories
2025-03-24 16:54:45,261 - tools - INFO - Executing tool requested: category_tree
2025-03-24 16:54:45,261 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://sleepyowl.co/', 'mode': 'explore_toplevel'}
2025-03-24 16:54:45,261 - tools.category_tree_tool - INFO - Getting all top-level categories for LLM to choose from
2025-03-24 16:54:45,261 - tools.category_tree_tool - INFO - Getting all top-level categories
2025-03-24 16:54:45,261 - tools.category_tree_tool - INFO - Found 8 top-level categories
2025-03-24 16:54:45,261 - tools.category_tree_tool - INFO - Returning 8 top-level categories for LLM exploration
2025-03-24 16:54:45,261 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-24 16:54:45,262 - workflow_orchestrator - INFO - Getting LLM to select relevant top-level categories
2025-03-24 16:54:53,427 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:54:53,428 - workflow_orchestrator - INFO - LLM selected 3 top-level categories: ['Shopping and Fashion', 'Interests', 'Technology']
2025-03-24 16:54:53,428 - workflow_orchestrator - INFO - Exploring subcategories for Shopping and Fashion
2025-03-24 16:54:53,428 - tools - INFO - Executing tool requested: category_tree
2025-03-24 16:54:53,428 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://sleepyowl.co/', 'mode': 'explore_subcategories', 'parent_category': 'Shopping and Fashion'}
2025-03-24 16:54:53,428 - tools.category_tree_tool - INFO - Getting subcategories for category: Shopping and Fashion
2025-03-24 16:54:53,428 - tools.category_tree_tool - INFO - Looking for subcategories of: Shopping and Fashion
2025-03-24 16:54:53,428 - tools.category_tree_tool - INFO - Found 3 subcategories for Shopping and Fashion
2025-03-24 16:54:53,428 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Shopping and Fashion
2025-03-24 16:54:53,428 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-24 16:54:53,429 - workflow_orchestrator - INFO - Getting LLM to select relevant subcategories for Shopping and Fashion
2025-03-24 16:54:55,287 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:54:55,288 - workflow_orchestrator - INFO - LLM selected 1 subcategories for Shopping and Fashion
2025-03-24 16:54:55,288 - workflow_orchestrator - INFO - Exploring subcategories for Interests
2025-03-24 16:54:55,288 - tools - INFO - Executing tool requested: category_tree
2025-03-24 16:54:55,288 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://sleepyowl.co/', 'mode': 'explore_subcategories', 'parent_category': 'Interests'}
2025-03-24 16:54:55,288 - tools.category_tree_tool - INFO - Getting subcategories for category: Interests
2025-03-24 16:54:55,288 - tools.category_tree_tool - INFO - Looking for subcategories of: Interests
2025-03-24 16:54:55,288 - tools.category_tree_tool - INFO - Found 2 subcategories for Interests
2025-03-24 16:54:55,288 - tools.category_tree_tool - INFO - Returning 2 subcategories for parent category: Interests
2025-03-24 16:54:55,289 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-24 16:54:55,289 - workflow_orchestrator - INFO - Getting LLM to select relevant subcategories for Interests
2025-03-24 16:54:57,744 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:54:57,745 - workflow_orchestrator - INFO - LLM selected 1 subcategories for Interests
2025-03-24 16:54:57,745 - workflow_orchestrator - INFO - Exploring subcategories for Technology
2025-03-24 16:54:57,745 - tools - INFO - Executing tool requested: category_tree
2025-03-24 16:54:57,745 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://sleepyowl.co/', 'mode': 'explore_subcategories', 'parent_category': 'Technology'}
2025-03-24 16:54:57,745 - tools.category_tree_tool - INFO - Getting subcategories for category: Technology
2025-03-24 16:54:57,745 - tools.category_tree_tool - INFO - Looking for subcategories of: Technology
2025-03-24 16:54:57,745 - tools.category_tree_tool - INFO - Found 2 subcategories for Technology
2025-03-24 16:54:57,745 - tools.category_tree_tool - INFO - Returning 2 subcategories for parent category: Technology
2025-03-24 16:54:57,745 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-24 16:54:57,746 - workflow_orchestrator - INFO - Getting LLM to select relevant subcategories for Technology
2025-03-24 16:54:58,768 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:54:58,769 - workflow_orchestrator - INFO - LLM selected 1 subcategories for Technology
2025-03-24 16:54:59,115 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-03-24 16:54:59,116 - workflow_orchestrator - ERROR - Error in category mapping: Error code: 400 - {'error': {'message': "'messages' must contain the word 'json' in some form, to use 'response_format' of type 'json_object'.", 'type': 'invalid_request_error', 'param': 'messages', 'code': None}}
Traceback (most recent call last):
  File "/home/srinivasan/FIles/frontend/agent/workflow_orchestrator.py", line 667, in _handle_category_mapping
    audience_segments_response = await self.client.chat.completions.create(
  File "/home/srinivasan/.local/lib/python3.10/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
  File "/home/srinivasan/.local/lib/python3.10/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
  File "/home/srinivasan/.local/lib/python3.10/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
  File "/home/srinivasan/.local/lib/python3.10/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "'messages' must contain the word 'json' in some form, to use 'response_format' of type 'json_object'.", 'type': 'invalid_request_error', 'param': 'messages', 'code': None}}
2025-03-24 16:54:59,117 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:54:59,117 - workflow_orchestrator - INFO - Using system prompt for stage: category_mapping
2025-03-24 16:54:59,117 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:55:21,706 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:55:21,717 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:55:21,717 - workflow_orchestrator - INFO - Transition to audience_segmentation stage
2025-03-24 16:55:21,717 - workflow_orchestrator - INFO - Generating audience segments
2025-03-24 16:55:21,717 - workflow_orchestrator - ERROR - Missing category data for audience segmentation
2025-03-24 16:55:21,717 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:55:21,717 - workflow_orchestrator - INFO - Using system prompt for stage: audience_segmentation
2025-03-24 16:55:21,717 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:56:01,943 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:56:01,963 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:56:01,963 - workflow_orchestrator - INFO - Transition to marketing_strategy stage
2025-03-24 16:56:01,963 - workflow_orchestrator - INFO - Generating marketing strategies
2025-03-24 16:56:01,963 - workflow_orchestrator - INFO - Creating marketing strategies prompt
2025-03-24 16:56:01,963 - workflow_orchestrator - INFO - Calling _generate_marketing_strategies method
2025-03-24 16:56:01,963 - workflow_orchestrator - INFO - Generating marketing strategies with GPT-4
2025-03-24 16:56:20,181 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:56:20,182 - workflow_orchestrator - INFO - Received marketing strategies response from GPT-4
2025-03-24 16:56:20,183 - workflow_orchestrator - INFO - Parsed 6 marketing strategies
2025-03-24 16:56:20,183 - workflow_orchestrator - INFO - Generated 6 marketing strategies
2025-03-24 16:56:20,183 - workflow_orchestrator - INFO - Creating response with marketing strategies
2025-03-24 16:56:20,183 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:56:20,183 - workflow_orchestrator - INFO - Using system prompt for stage: marketing_strategy
2025-03-24 16:56:20,183 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:57:04,310 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:57:04,311 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:57:04,311 - workflow_orchestrator - INFO - Transition to final_summary stage
2025-03-24 16:57:04,311 - workflow_orchestrator - INFO - Generating final summary
2025-03-24 16:57:04,311 - workflow_orchestrator - INFO - Creating final summary for product: Unknown Product
2025-03-24 16:57:04,311 - workflow_orchestrator - INFO - Final summary generated successfully
2025-03-24 16:57:04,311 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 16:57:04,311 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-24 16:57:04,311 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 16:57:50,595 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 16:57:50,596 - workflow_orchestrator - INFO - Received AI response
2025-03-24 16:57:50,596 - api - INFO - API: Message processed, new stage: final_summary
2025-03-24 18:21:21,802 - root - INFO - Firecrawl library imported successfully
2025-03-24 18:21:21,807 - root - INFO - SerpAPI library imported successfully
2025-03-24 18:21:21,808 - tools - INFO - Directly registering tool instances...
2025-03-24 18:21:21,809 - tools - INFO - Creating FirecrawlerTool instance
2025-03-24 18:21:21,809 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-24 18:21:21,809 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-24 18:21:21,809 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-24 18:21:21,809 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-24 18:21:21,809 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-24 18:21:21,810 - tools - INFO - Creating CategoryTreeTool instance
2025-03-24 18:21:21,810 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-24 18:21:21,810 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-24 18:21:21,810 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-24 18:21:21,810 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-24 18:21:21,810 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-24 18:21:21,812 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-24 18:21:21,812 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-24 18:21:21,812 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-24 18:21:21,836 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-24 18:21:21,836 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-24 18:21:21,836 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-24 18:21:21,836 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-24 18:21:21,836 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-24 18:21:21,836 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-24 18:21:21,836 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-24 18:21:45,317 - api - INFO - API: Starting new conversation
2025-03-24 18:21:45,318 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:21:45,318 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:21:45,318 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:21:45,318 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:21:45,318 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:21:50,364 - api - INFO - API: Starting new conversation
2025-03-24 18:21:50,364 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:21:50,364 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:21:50,364 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:21:50,364 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:21:50,364 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:21:54,044 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:21:54,056 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:21:54,056 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:21:54,056 - api - INFO - API: Conversation started successfully
2025-03-24 18:21:55,408 - api - INFO - API: Starting new conversation
2025-03-24 18:21:55,408 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:21:55,409 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:21:55,409 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:21:55,409 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:21:55,409 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:22:00,159 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:22:00,161 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:22:00,161 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:22:00,161 - api - INFO - API: Conversation started successfully
2025-03-24 18:22:00,476 - api - INFO - API: Starting new conversation
2025-03-24 18:22:00,476 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:22:00,476 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:22:00,476 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:22:00,476 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:22:00,476 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:22:03,962 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:22:03,964 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:22:03,964 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:22:03,964 - api - INFO - API: Conversation started successfully
2025-03-24 18:22:05,515 - api - INFO - API: Starting new conversation
2025-03-24 18:22:05,515 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:22:05,515 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:22:05,515 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:22:05,515 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:22:05,515 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:22:08,345 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:22:08,347 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:22:08,347 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:22:08,347 - api - INFO - API: Conversation started successfully
2025-03-24 18:22:15,302 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:22:15,305 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:22:15,305 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:22:15,305 - api - INFO - API: Conversation started successfully
2025-03-24 18:25:19,786 - root - INFO - Firecrawl library imported successfully
2025-03-24 18:25:19,789 - root - INFO - SerpAPI library imported successfully
2025-03-24 18:25:19,790 - tools - INFO - Directly registering tool instances...
2025-03-24 18:25:19,790 - tools - INFO - Creating FirecrawlerTool instance
2025-03-24 18:25:19,790 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-24 18:25:19,790 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-24 18:25:19,790 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-24 18:25:19,791 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-24 18:25:19,791 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-24 18:25:19,791 - tools - INFO - Creating CategoryTreeTool instance
2025-03-24 18:25:19,791 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-24 18:25:19,791 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-24 18:25:19,792 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-24 18:25:19,792 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-24 18:25:19,792 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-24 18:25:19,798 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-24 18:25:19,799 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-24 18:25:19,800 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-24 18:25:19,915 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-24 18:25:19,915 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-24 18:25:19,916 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-24 18:25:19,916 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-24 18:25:19,916 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-24 18:25:19,916 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-24 18:25:19,916 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-24 18:25:21,972 - api - INFO - API: Starting new conversation
2025-03-24 18:25:21,974 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:25:21,974 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:25:21,975 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:25:21,976 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:25:21,976 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:25:27,108 - api - INFO - API: Starting new conversation
2025-03-24 18:25:27,108 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:25:27,108 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:25:27,108 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:25:27,108 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:25:27,108 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:25:32,259 - api - INFO - API: Starting new conversation
2025-03-24 18:25:32,259 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:25:32,259 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:25:32,259 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:25:32,259 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:25:32,259 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:25:34,018 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:25:34,020 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:25:34,020 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:25:34,020 - api - INFO - API: Conversation started successfully
2025-03-24 18:25:36,578 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:25:36,579 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:25:36,579 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:25:36,579 - api - INFO - API: Conversation started successfully
2025-03-24 18:25:37,390 - api - INFO - API: Starting new conversation
2025-03-24 18:25:37,390 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:25:37,390 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:25:37,390 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:25:37,390 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:25:37,390 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:25:40,778 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:25:40,779 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:25:40,779 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:25:40,779 - api - INFO - API: Conversation started successfully
2025-03-24 18:25:43,586 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:25:43,593 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:25:43,593 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:25:43,593 - api - INFO - API: Conversation started successfully
2025-03-24 18:26:09,160 - root - INFO - Firecrawl library imported successfully
2025-03-24 18:26:09,163 - root - INFO - SerpAPI library imported successfully
2025-03-24 18:26:09,164 - tools - INFO - Directly registering tool instances...
2025-03-24 18:26:09,164 - tools - INFO - Creating FirecrawlerTool instance
2025-03-24 18:26:09,165 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-24 18:26:09,165 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-24 18:26:09,165 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-24 18:26:09,165 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-24 18:26:09,165 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-24 18:26:09,165 - tools - INFO - Creating CategoryTreeTool instance
2025-03-24 18:26:09,166 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-24 18:26:09,166 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-24 18:26:09,166 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-24 18:26:09,166 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-24 18:26:09,166 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-24 18:26:09,167 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-24 18:26:09,167 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-24 18:26:09,167 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-24 18:26:09,193 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-24 18:26:09,194 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-24 18:26:09,194 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-24 18:26:09,194 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-24 18:26:09,194 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-24 18:26:09,194 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-24 18:26:09,194 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-24 18:26:15,541 - api - INFO - API: Starting new conversation
2025-03-24 18:26:15,541 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:26:15,541 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:26:15,541 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:26:15,541 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:26:15,541 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:26:17,836 - api - INFO - API: Processing message in stage: initial
2025-03-24 18:26:17,836 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-24 18:26:17,836 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-24 18:26:17,836 - workflow_orchestrator - INFO - No analysis request or URL detected, maintaining conversation mode
2025-03-24 18:26:17,836 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:26:17,836 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:26:17,836 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:26:20,481 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:26:20,484 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:26:20,484 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:26:20,484 - api - INFO - API: Conversation started successfully
2025-03-24 18:26:23,784 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:26:23,786 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:26:23,786 - api - INFO - API: Message processed, new stage: initial
2025-03-24 18:31:30,639 - root - INFO - Firecrawl library imported successfully
2025-03-24 18:31:30,642 - root - INFO - SerpAPI library imported successfully
2025-03-24 18:31:30,643 - tools - INFO - Directly registering tool instances...
2025-03-24 18:31:30,643 - tools - INFO - Creating FirecrawlerTool instance
2025-03-24 18:31:30,644 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-24 18:31:30,644 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-24 18:31:30,644 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-24 18:31:30,644 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-24 18:31:30,644 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-24 18:31:30,644 - tools - INFO - Creating CategoryTreeTool instance
2025-03-24 18:31:30,645 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-24 18:31:30,645 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-24 18:31:30,645 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-24 18:31:30,645 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-24 18:31:30,645 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-24 18:31:30,646 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-24 18:31:30,646 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-24 18:31:30,647 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-24 18:31:30,672 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-24 18:31:30,672 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-24 18:31:30,672 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-24 18:31:30,672 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-24 18:31:30,672 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-24 18:31:30,672 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-24 18:31:30,672 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-24 18:31:33,210 - api - INFO - API: Starting new conversation
2025-03-24 18:31:33,210 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:31:33,210 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:31:33,210 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:31:33,210 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:31:33,210 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:31:38,270 - api - INFO - API: Starting new conversation
2025-03-24 18:31:38,270 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:31:38,270 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:31:38,270 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:31:38,270 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:31:38,270 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:31:42,862 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:31:42,868 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:31:42,868 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:31:42,868 - api - INFO - API: Conversation started successfully
2025-03-24 18:31:43,332 - api - INFO - API: Starting new conversation
2025-03-24 18:31:43,332 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:31:43,332 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:31:43,332 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:31:43,332 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:31:43,332 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:31:48,377 - api - INFO - API: Starting new conversation
2025-03-24 18:31:48,377 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:31:48,377 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:31:48,377 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:31:48,377 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:31:48,377 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:31:50,531 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:31:50,533 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:31:50,534 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:31:50,534 - api - INFO - API: Conversation started successfully
2025-03-24 18:31:55,991 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:31:55,995 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:31:55,995 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:31:55,995 - api - INFO - API: Conversation started successfully
2025-03-24 18:31:57,142 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:31:57,143 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:31:57,143 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:31:57,143 - api - INFO - API: Conversation started successfully
2025-03-24 18:39:44,593 - root - INFO - Firecrawl library imported successfully
2025-03-24 18:39:44,597 - root - INFO - SerpAPI library imported successfully
2025-03-24 18:39:44,598 - tools - INFO - Directly registering tool instances...
2025-03-24 18:39:44,598 - tools - INFO - Creating FirecrawlerTool instance
2025-03-24 18:39:44,599 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-24 18:39:44,599 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-24 18:39:44,599 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-24 18:39:44,599 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-24 18:39:44,599 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-24 18:39:44,600 - tools - INFO - Creating CategoryTreeTool instance
2025-03-24 18:39:44,600 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-24 18:39:44,600 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-24 18:39:44,600 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-24 18:39:44,600 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-24 18:39:44,600 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-24 18:39:44,601 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-24 18:39:44,601 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-24 18:39:44,602 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-24 18:39:44,626 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-24 18:39:44,626 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-24 18:39:44,626 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-24 18:39:44,626 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-24 18:39:44,626 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-24 18:39:44,626 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-24 18:39:44,626 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-24 18:40:04,785 - api - INFO - API: Starting new conversation
2025-03-24 18:40:04,785 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:40:04,785 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:40:04,785 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:40:04,785 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:40:04,785 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:40:21,990 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:40:22,011 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:40:22,011 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:40:22,011 - api - INFO - API: Conversation started successfully
2025-03-24 18:41:25,258 - api - INFO - API: Starting new conversation
2025-03-24 18:41:25,258 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:41:25,258 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:41:25,258 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:41:25,258 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:41:25,258 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:41:33,421 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:41:33,441 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:41:33,441 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:41:33,441 - api - INFO - API: Conversation started successfully
2025-03-24 18:43:35,913 - root - INFO - Firecrawl library imported successfully
2025-03-24 18:43:35,915 - root - INFO - SerpAPI library imported successfully
2025-03-24 18:43:35,916 - tools - INFO - Directly registering tool instances...
2025-03-24 18:43:35,916 - tools - INFO - Creating FirecrawlerTool instance
2025-03-24 18:43:35,916 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-24 18:43:35,916 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-24 18:43:35,916 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-24 18:43:35,916 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-24 18:43:35,916 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-24 18:43:35,917 - tools - INFO - Creating CategoryTreeTool instance
2025-03-24 18:43:35,917 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-24 18:43:35,917 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-24 18:43:35,917 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-24 18:43:35,917 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-24 18:43:35,917 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-24 18:43:35,919 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-24 18:43:35,919 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-24 18:43:35,919 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-24 18:43:35,941 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-24 18:43:35,941 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-24 18:43:35,941 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-24 18:43:35,942 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-24 18:43:35,942 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-24 18:43:35,942 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-24 18:43:35,942 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-24 18:43:44,878 - api - INFO - API: Starting new conversation
2025-03-24 18:43:44,878 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:43:44,878 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:43:44,878 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:43:44,879 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:43:44,879 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:43:53,738 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:43:53,764 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:43:53,764 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:43:53,764 - api - INFO - API: Conversation started successfully
2025-03-24 18:44:25,778 - api - INFO - API: Processing message in stage: initial
2025-03-24 18:44:25,778 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-24 18:44:25,778 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-24 18:44:25,778 - workflow_orchestrator - INFO - URL detected but no explicit analysis request. Asking for confirmation.
2025-03-24 18:44:25,778 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:44:25,778 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:44:25,778 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:44:40,260 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:44:40,261 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:44:40,262 - api - INFO - API: Message processed, new stage: initial
2025-03-24 18:45:33,996 - api - INFO - API: Processing message in stage: initial
2025-03-24 18:45:33,996 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-24 18:45:33,996 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-24 18:45:33,996 - workflow_orchestrator - INFO - Analysis requested but no URL provided
2025-03-24 18:45:33,996 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:45:33,996 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:45:33,997 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:45:54,505 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:45:54,506 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:45:54,506 - api - INFO - API: Message processed, new stage: initial
2025-03-24 18:46:24,169 - api - INFO - API: Processing message in stage: initial
2025-03-24 18:46:24,169 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-24 18:46:24,169 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-24 18:46:24,169 - workflow_orchestrator - INFO - URL detected but no explicit analysis request. Asking for confirmation.
2025-03-24 18:46:24,169 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:46:24,169 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:46:24,169 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:46:44,376 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:46:44,377 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:46:44,377 - api - INFO - API: Message processed, new stage: initial
2025-03-24 18:48:19,407 - root - INFO - Firecrawl library imported successfully
2025-03-24 18:48:19,409 - root - INFO - SerpAPI library imported successfully
2025-03-24 18:48:19,410 - tools - INFO - Directly registering tool instances...
2025-03-24 18:48:19,410 - tools - INFO - Creating FirecrawlerTool instance
2025-03-24 18:48:19,411 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-24 18:48:19,411 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-24 18:48:19,411 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-24 18:48:19,412 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-24 18:48:19,412 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-24 18:48:19,412 - tools - INFO - Creating CategoryTreeTool instance
2025-03-24 18:48:19,412 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-24 18:48:19,412 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-24 18:48:19,412 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-24 18:48:19,413 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-24 18:48:19,413 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-24 18:48:19,414 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-24 18:48:19,414 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-24 18:48:19,414 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-24 18:48:19,435 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-24 18:48:19,435 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-24 18:48:19,435 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-24 18:48:19,436 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-24 18:48:19,436 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-24 18:48:19,436 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-24 18:48:19,436 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-24 18:48:24,892 - api - INFO - API: Starting new conversation
2025-03-24 18:48:24,893 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:48:24,893 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:48:24,893 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:48:24,893 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:48:24,893 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:48:26,181 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:48:26,183 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:48:26,183 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:48:26,183 - api - INFO - API: Conversation started successfully
2025-03-24 18:48:35,236 - api - INFO - API: Processing message in stage: initial
2025-03-24 18:48:35,236 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-24 18:48:35,236 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-24 18:48:35,236 - workflow_orchestrator - INFO - Analysis requested with URL, starting workflow
2025-03-24 18:48:35,236 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-24 18:48:35,236 - workflow_orchestrator - INFO - Analyzing URL: https://sleepyowl.co/
2025-03-24 18:48:35,236 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-24 18:48:35,236 - tools - INFO - Executing tool requested: firecrawler
2025-03-24 18:48:35,236 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://sleepyowl.co/', 'depth': 2}
2025-03-24 18:48:35,236 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://sleepyowl.co/, depth: 2
2025-03-24 18:48:35,236 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://sleepyowl.co/
2025-03-24 18:48:42,212 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://sleepyowl.co/
2025-03-24 18:48:42,212 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://sleepyowl.co/
2025-03-24 18:48:42,212 - tools.firecrawler_tool - INFO - Product title: 
2025-03-24 18:48:42,212 - tools.firecrawler_tool - INFO - Product price: 
2025-03-24 18:48:42,212 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-24 18:48:42,212 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-24 18:48:42,212 - workflow_orchestrator - WARNING - Product data missing title
2025-03-24 18:48:42,212 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-24 18:48:42,212 - workflow_orchestrator - WARNING - Product data missing description
2025-03-24 18:48:42,213 - workflow_orchestrator - INFO - Generating response with product information
2025-03-24 18:48:42,213 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:48:42,213 - workflow_orchestrator - INFO - Using system prompt for stage: url_analysis
2025-03-24 18:48:42,213 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:49:05,455 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:49:05,458 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:49:05,458 - api - INFO - API: Message processed, new stage: url_analysis
2025-03-24 18:53:37,587 - root - INFO - Firecrawl library imported successfully
2025-03-24 18:53:37,589 - root - INFO - SerpAPI library imported successfully
2025-03-24 18:53:37,590 - tools - INFO - Directly registering tool instances...
2025-03-24 18:53:37,590 - tools - INFO - Creating FirecrawlerTool instance
2025-03-24 18:53:37,591 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-24 18:53:37,591 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-24 18:53:37,591 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-24 18:53:37,591 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-24 18:53:37,591 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-24 18:53:37,591 - tools - INFO - Creating CategoryTreeTool instance
2025-03-24 18:53:37,592 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-24 18:53:37,592 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-24 18:53:37,592 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-24 18:53:37,592 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-24 18:53:37,592 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-24 18:53:37,593 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-24 18:53:37,593 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-24 18:53:37,593 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-24 18:53:37,616 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-24 18:53:37,616 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-24 18:53:37,616 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-24 18:53:37,616 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-24 18:53:37,616 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-24 18:53:37,616 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-24 18:53:37,616 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-24 18:53:59,651 - api - INFO - API: Starting new conversation
2025-03-24 18:53:59,651 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:53:59,651 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:53:59,652 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:53:59,652 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:53:59,652 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:54:01,380 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:54:01,382 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:54:01,382 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:54:01,382 - api - INFO - API: Conversation started successfully
2025-03-24 18:54:12,291 - api - INFO - API: Processing message in stage: initial
2025-03-24 18:54:12,291 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-24 18:54:12,291 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-24 18:54:12,291 - workflow_orchestrator - INFO - Analysis requested with URL, starting workflow
2025-03-24 18:54:12,291 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-24 18:54:12,291 - workflow_orchestrator - INFO - Analyzing URL: https://sleepyowl.co/
2025-03-24 18:54:12,291 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-24 18:54:12,291 - tools - INFO - Executing tool requested: firecrawler
2025-03-24 18:54:12,291 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://sleepyowl.co/', 'depth': 2}
2025-03-24 18:54:12,291 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://sleepyowl.co/, depth: 2
2025-03-24 18:54:12,291 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://sleepyowl.co/
2025-03-24 18:54:19,276 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://sleepyowl.co/
2025-03-24 18:54:19,276 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://sleepyowl.co/
2025-03-24 18:54:19,276 - tools.firecrawler_tool - INFO - Product title: 
2025-03-24 18:54:19,276 - tools.firecrawler_tool - INFO - Product price: 
2025-03-24 18:54:19,276 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-24 18:54:19,276 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-24 18:54:19,276 - workflow_orchestrator - WARNING - Product data missing title
2025-03-24 18:54:19,276 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-24 18:54:19,276 - workflow_orchestrator - WARNING - Product data missing description
2025-03-24 18:54:19,277 - workflow_orchestrator - INFO - Generating response with product information
2025-03-24 18:54:19,277 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:54:19,277 - workflow_orchestrator - INFO - Using system prompt for stage: url_analysis
2025-03-24 18:54:19,277 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:54:36,826 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:54:36,834 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:54:36,834 - api - INFO - API: Message processed, new stage: url_analysis
2025-03-24 18:56:19,388 - api - INFO - API: Starting new conversation
2025-03-24 18:56:19,388 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:56:19,388 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:56:19,388 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:56:19,388 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:56:19,388 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:56:20,771 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:56:20,772 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:56:20,772 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:56:20,772 - api - INFO - API: Conversation started successfully
2025-03-24 18:56:27,981 - api - INFO - API: Processing message in stage: initial
2025-03-24 18:56:27,981 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-24 18:56:27,981 - workflow_orchestrator - INFO - Current data state - Product data exists: True, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-24 18:56:27,981 - workflow_orchestrator - INFO - Product data - Title: Unknown Product, Features count: 1
2025-03-24 18:56:27,982 - workflow_orchestrator - INFO - Analysis requested with URL, starting workflow
2025-03-24 18:56:27,982 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-24 18:56:27,982 - workflow_orchestrator - INFO - Analyzing URL: https://sleepyowl.co/
2025-03-24 18:56:27,982 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-24 18:56:27,982 - tools - INFO - Executing tool requested: firecrawler
2025-03-24 18:56:27,982 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://sleepyowl.co/', 'depth': 2}
2025-03-24 18:56:27,982 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://sleepyowl.co/, depth: 2
2025-03-24 18:56:27,982 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://sleepyowl.co/
2025-03-24 18:56:34,438 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://sleepyowl.co/
2025-03-24 18:56:34,439 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://sleepyowl.co/
2025-03-24 18:56:34,439 - tools.firecrawler_tool - INFO - Product title: 
2025-03-24 18:56:34,439 - tools.firecrawler_tool - INFO - Product price: 
2025-03-24 18:56:34,439 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-24 18:56:34,439 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-24 18:56:34,439 - workflow_orchestrator - WARNING - Product data missing title
2025-03-24 18:56:34,439 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-24 18:56:34,439 - workflow_orchestrator - WARNING - Product data missing description
2025-03-24 18:56:34,439 - workflow_orchestrator - INFO - Generating response with product information
2025-03-24 18:56:34,439 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:56:34,439 - workflow_orchestrator - INFO - Using system prompt for stage: url_analysis
2025-03-24 18:56:34,439 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:56:50,053 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:56:50,054 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:56:50,054 - api - INFO - API: Message processed, new stage: url_analysis
2025-03-24 18:57:08,744 - root - INFO - Firecrawl library imported successfully
2025-03-24 18:57:08,746 - root - INFO - SerpAPI library imported successfully
2025-03-24 18:57:08,747 - tools - INFO - Directly registering tool instances...
2025-03-24 18:57:08,748 - tools - INFO - Creating FirecrawlerTool instance
2025-03-24 18:57:08,748 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-24 18:57:08,748 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-24 18:57:08,748 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-24 18:57:08,749 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-24 18:57:08,749 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-24 18:57:08,749 - tools - INFO - Creating CategoryTreeTool instance
2025-03-24 18:57:08,749 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-24 18:57:08,749 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-24 18:57:08,749 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-24 18:57:08,750 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-24 18:57:08,750 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-24 18:57:08,751 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-24 18:57:08,751 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-24 18:57:08,751 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-24 18:57:08,775 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-24 18:57:08,775 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-24 18:57:08,775 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-24 18:57:08,775 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-24 18:57:08,775 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-24 18:57:08,776 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-24 18:57:08,776 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-24 18:57:16,497 - api - INFO - API: Starting new conversation
2025-03-24 18:57:16,497 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:57:16,498 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:57:16,498 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:57:16,498 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:57:16,498 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:57:18,109 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:57:18,111 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:57:18,111 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:57:18,111 - api - INFO - API: Conversation started successfully
2025-03-24 18:57:26,930 - api - INFO - API: Processing message in stage: initial
2025-03-24 18:57:26,930 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-24 18:57:26,930 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-24 18:57:26,930 - workflow_orchestrator - INFO - Analysis requested with URL, starting workflow
2025-03-24 18:57:26,930 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-24 18:57:26,930 - workflow_orchestrator - INFO - Analyzing URL: https://sleepyowl.co/
2025-03-24 18:57:26,930 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-24 18:57:26,930 - tools - INFO - Executing tool requested: firecrawler
2025-03-24 18:57:26,930 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://sleepyowl.co/', 'depth': 2}
2025-03-24 18:57:26,930 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://sleepyowl.co/, depth: 2
2025-03-24 18:57:26,930 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://sleepyowl.co/
2025-03-24 18:57:30,528 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://sleepyowl.co/
2025-03-24 18:57:30,528 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://sleepyowl.co/
2025-03-24 18:57:30,528 - tools.firecrawler_tool - INFO - Product title: 
2025-03-24 18:57:30,528 - tools.firecrawler_tool - INFO - Product price: 
2025-03-24 18:57:30,528 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-24 18:57:30,528 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-24 18:57:30,528 - workflow_orchestrator - WARNING - Product data missing title
2025-03-24 18:57:30,528 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-24 18:57:30,528 - workflow_orchestrator - WARNING - Product data missing description
2025-03-24 18:57:30,528 - workflow_orchestrator - INFO - Generating response with product information
2025-03-24 18:57:30,528 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:57:30,528 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:57:30,528 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:57:33,171 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:57:33,172 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:57:33,172 - workflow_orchestrator - INFO - Advancing workflow stage to market_research
2025-03-24 18:57:33,172 - workflow_orchestrator - INFO - Starting market research
2025-03-24 18:57:33,172 - workflow_orchestrator - INFO - Using product title for market research: 'Unknown Product'
2025-03-24 18:57:33,172 - workflow_orchestrator - INFO - Executing SERP analysis for query: 'Unknown Product'
2025-03-24 18:57:33,172 - tools - INFO - Executing tool requested: serp_analysis
2025-03-24 18:57:33,172 - tools - INFO - Executing tool: serp_analysis with parameters: {'query': 'Unknown Product', 'results_count': 10}
2025-03-24 18:57:33,172 - tools.serp_analysis_tool - INFO - Using SerpAPI to analyze query: Unknown Product
2025-03-24 18:57:35,104 - tools.serp_analysis_tool - INFO - Successfully analyzed market data for query: Unknown Product
2025-03-24 18:57:35,104 - tools.serp_analysis_tool - INFO - Found 5 competitors and 10 keywords
2025-03-24 18:57:35,104 - tools - INFO - Tool execution completed: serp_analysis, success: True
2025-03-24 18:57:35,104 - workflow_orchestrator - INFO - Successfully completed market research, storing results
2025-03-24 18:57:35,104 - workflow_orchestrator - INFO - Generating response with market information
2025-03-24 18:57:35,105 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:57:35,105 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-24 18:57:35,105 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:57:57,426 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:57:57,427 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:57:57,427 - api - INFO - API: Message processed, new stage: market_research
2025-03-24 18:59:51,402 - root - INFO - Firecrawl library imported successfully
2025-03-24 18:59:51,404 - root - INFO - SerpAPI library imported successfully
2025-03-24 18:59:51,405 - tools - INFO - Directly registering tool instances...
2025-03-24 18:59:51,405 - tools - INFO - Creating FirecrawlerTool instance
2025-03-24 18:59:51,405 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-24 18:59:51,405 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-24 18:59:51,406 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-24 18:59:51,406 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-24 18:59:51,406 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-24 18:59:51,406 - tools - INFO - Creating CategoryTreeTool instance
2025-03-24 18:59:51,407 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-24 18:59:51,407 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-24 18:59:51,407 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-24 18:59:51,407 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-24 18:59:51,407 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-24 18:59:51,408 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-24 18:59:51,408 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-24 18:59:51,408 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-24 18:59:51,431 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-24 18:59:51,431 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-24 18:59:51,431 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-24 18:59:51,431 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-24 18:59:51,431 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-24 18:59:51,431 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-24 18:59:51,431 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-24 18:59:58,171 - api - INFO - API: Starting new conversation
2025-03-24 18:59:58,171 - workflow_orchestrator - INFO - Starting new conversation
2025-03-24 18:59:58,171 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-24 18:59:58,171 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 18:59:58,171 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 18:59:58,171 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 18:59:59,690 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 18:59:59,692 - workflow_orchestrator - INFO - Received AI response
2025-03-24 18:59:59,692 - workflow_orchestrator - INFO - Conversation started
2025-03-24 18:59:59,692 - api - INFO - API: Conversation started successfully
2025-03-24 19:00:06,008 - api - INFO - API: Processing message in stage: initial
2025-03-24 19:00:06,008 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-24 19:00:06,008 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-24 19:00:06,008 - workflow_orchestrator - INFO - Analysis requested with URL, starting workflow
2025-03-24 19:00:06,008 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-24 19:00:06,008 - workflow_orchestrator - INFO - Analyzing URL: https://sleepyowl.co/
2025-03-24 19:00:06,008 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-24 19:00:06,008 - tools - INFO - Executing tool requested: firecrawler
2025-03-24 19:00:06,008 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://sleepyowl.co/', 'depth': 2}
2025-03-24 19:00:06,008 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://sleepyowl.co/, depth: 2
2025-03-24 19:00:06,008 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://sleepyowl.co/
2025-03-24 19:01:09,198 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://sleepyowl.co/
2025-03-24 19:01:09,199 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://sleepyowl.co/
2025-03-24 19:01:09,199 - tools.firecrawler_tool - INFO - Product title: 
2025-03-24 19:01:09,199 - tools.firecrawler_tool - INFO - Product price: 
2025-03-24 19:01:09,199 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-24 19:01:09,199 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-24 19:01:09,199 - workflow_orchestrator - WARNING - Product data missing title
2025-03-24 19:01:09,199 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-24 19:01:09,199 - workflow_orchestrator - WARNING - Product data missing description
2025-03-24 19:01:09,199 - workflow_orchestrator - INFO - Generating response with product information
2025-03-24 19:01:09,199 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 19:01:09,199 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-24 19:01:09,199 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 19:01:11,509 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 19:01:11,511 - workflow_orchestrator - INFO - Received AI response
2025-03-24 19:01:11,511 - workflow_orchestrator - INFO - Advancing workflow stage to market_research
2025-03-24 19:01:11,511 - workflow_orchestrator - INFO - Starting market research
2025-03-24 19:01:11,511 - workflow_orchestrator - INFO - Using product title for market research: 'Unknown Product'
2025-03-24 19:01:11,511 - workflow_orchestrator - INFO - Executing SERP analysis for query: 'Unknown Product'
2025-03-24 19:01:11,511 - tools - INFO - Executing tool requested: serp_analysis
2025-03-24 19:01:11,511 - tools - INFO - Executing tool: serp_analysis with parameters: {'query': 'Unknown Product', 'results_count': 10}
2025-03-24 19:01:11,511 - tools.serp_analysis_tool - INFO - Using SerpAPI to analyze query: Unknown Product
2025-03-24 19:01:12,180 - tools.serp_analysis_tool - INFO - Successfully analyzed market data for query: Unknown Product
2025-03-24 19:01:12,180 - tools.serp_analysis_tool - INFO - Found 5 competitors and 10 keywords
2025-03-24 19:01:12,180 - tools - INFO - Tool execution completed: serp_analysis, success: True
2025-03-24 19:01:12,180 - workflow_orchestrator - INFO - Successfully completed market research, storing results
2025-03-24 19:01:12,180 - workflow_orchestrator - INFO - Generating response with market information
2025-03-24 19:01:12,180 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 19:01:12,180 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-24 19:01:12,180 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 19:01:27,152 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 19:01:27,153 - workflow_orchestrator - INFO - Received AI response
2025-03-24 19:01:27,153 - workflow_orchestrator - INFO - Advancing workflow stage to category_mapping
2025-03-24 19:01:27,153 - workflow_orchestrator - INFO - Starting optimized category mapping
2025-03-24 19:01:27,153 - workflow_orchestrator - INFO - Getting all marketing categories
2025-03-24 19:01:27,153 - tools - INFO - Executing tool requested: category_tree
2025-03-24 19:01:27,153 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://sleepyowl.co/', 'mode': 'explore_toplevel'}
2025-03-24 19:01:27,153 - tools.category_tree_tool - INFO - Getting all top-level categories for LLM to choose from
2025-03-24 19:01:27,153 - tools.category_tree_tool - INFO - Getting all top-level categories
2025-03-24 19:01:27,153 - tools.category_tree_tool - INFO - Found 8 top-level categories
2025-03-24 19:01:27,153 - tools.category_tree_tool - INFO - Returning 8 top-level categories for LLM exploration
2025-03-24 19:01:27,153 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-24 19:01:27,153 - tools - INFO - Executing tool requested: category_tree
2025-03-24 19:01:27,153 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://sleepyowl.co/', 'mode': 'explore_subcategories', 'parent_category': 'Behaviors'}
2025-03-24 19:01:27,153 - tools.category_tree_tool - INFO - Getting subcategories for category: Behaviors
2025-03-24 19:01:27,153 - tools.category_tree_tool - INFO - Looking for subcategories of: Behaviors
2025-03-24 19:01:27,153 - tools.category_tree_tool - INFO - Found 3 subcategories for Behaviors
2025-03-24 19:01:27,153 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Behaviors
2025-03-24 19:01:27,153 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-24 19:01:27,153 - tools - INFO - Executing tool requested: category_tree
2025-03-24 19:01:27,153 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://sleepyowl.co/', 'mode': 'explore_subcategories', 'parent_category': 'Demographics'}
2025-03-24 19:01:27,153 - tools.category_tree_tool - INFO - Getting subcategories for category: Demographics
2025-03-24 19:01:27,153 - tools.category_tree_tool - INFO - Looking for subcategories of: Demographics
2025-03-24 19:01:27,153 - tools.category_tree_tool - INFO - Found 1 subcategories for Demographics
2025-03-24 19:01:27,153 - tools.category_tree_tool - INFO - Returning 1 subcategories for parent category: Demographics
2025-03-24 19:01:27,153 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-24 19:01:27,153 - tools - INFO - Executing tool requested: category_tree
2025-03-24 19:01:27,153 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://sleepyowl.co/', 'mode': 'explore_subcategories', 'parent_category': 'Financial'}
2025-03-24 19:01:27,154 - tools.category_tree_tool - INFO - Getting subcategories for category: Financial
2025-03-24 19:01:27,154 - tools.category_tree_tool - INFO - Looking for subcategories of: Financial
2025-03-24 19:01:27,154 - tools.category_tree_tool - INFO - Found 3 subcategories for Financial
2025-03-24 19:01:27,154 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Financial
2025-03-24 19:01:27,154 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-24 19:01:27,154 - tools - INFO - Executing tool requested: category_tree
2025-03-24 19:01:27,154 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://sleepyowl.co/', 'mode': 'explore_subcategories', 'parent_category': 'Home'}
2025-03-24 19:01:27,154 - tools.category_tree_tool - INFO - Getting subcategories for category: Home
2025-03-24 19:01:27,154 - tools.category_tree_tool - INFO - Looking for subcategories of: Home
2025-03-24 19:01:27,154 - tools.category_tree_tool - INFO - Found 3 subcategories for Home
2025-03-24 19:01:27,154 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Home
2025-03-24 19:01:27,154 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-24 19:01:27,154 - tools - INFO - Executing tool requested: category_tree
2025-03-24 19:01:27,154 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://sleepyowl.co/', 'mode': 'explore_subcategories', 'parent_category': 'Interests'}
2025-03-24 19:01:27,154 - tools.category_tree_tool - INFO - Getting subcategories for category: Interests
2025-03-24 19:01:27,154 - tools.category_tree_tool - INFO - Looking for subcategories of: Interests
2025-03-24 19:01:27,154 - tools.category_tree_tool - INFO - Found 2 subcategories for Interests
2025-03-24 19:01:27,154 - tools.category_tree_tool - INFO - Returning 2 subcategories for parent category: Interests
2025-03-24 19:01:27,154 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-24 19:01:27,155 - workflow_orchestrator - INFO - Making single comprehensive LLM call for category analysis
2025-03-24 19:01:56,119 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 19:01:56,120 - workflow_orchestrator - INFO - Generating response with category information
2025-03-24 19:01:56,120 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 19:01:56,121 - workflow_orchestrator - INFO - Using system prompt for stage: category_mapping
2025-03-24 19:01:56,121 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 19:02:16,792 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 19:02:16,793 - workflow_orchestrator - INFO - Received AI response
2025-03-24 19:02:16,794 - workflow_orchestrator - INFO - Advancing workflow stage to audience_segmentation
2025-03-24 19:02:16,794 - workflow_orchestrator - INFO - Generating audience segments
2025-03-24 19:02:16,794 - workflow_orchestrator - INFO - Found 3 audience segments in category data
2025-03-24 19:02:16,794 - workflow_orchestrator - INFO - Segment 1: Affluent Fashion Enthusiasts
2025-03-24 19:02:16,794 - workflow_orchestrator - INFO - Segment 2: Educated Urban Professionals
2025-03-24 19:02:16,794 - workflow_orchestrator - INFO - Segment 3: High-Net-Worth Individuals
2025-03-24 19:02:16,794 - workflow_orchestrator - INFO - Generating response with audience segments
2025-03-24 19:02:16,794 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 19:02:16,794 - workflow_orchestrator - INFO - Using system prompt for stage: audience_segmentation
2025-03-24 19:02:16,794 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 19:02:49,439 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 19:02:49,441 - workflow_orchestrator - INFO - Received AI response
2025-03-24 19:02:49,441 - workflow_orchestrator - INFO - Advancing workflow stage to marketing_strategy
2025-03-24 19:02:49,441 - workflow_orchestrator - INFO - Generating marketing strategies
2025-03-24 19:02:49,441 - workflow_orchestrator - INFO - Creating marketing strategies prompt
2025-03-24 19:02:49,441 - workflow_orchestrator - INFO - Calling _generate_marketing_strategies method
2025-03-24 19:02:49,441 - workflow_orchestrator - INFO - Generating marketing strategies with GPT-4
2025-03-24 19:03:03,974 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 19:03:03,979 - workflow_orchestrator - INFO - Received marketing strategies response from GPT-4
2025-03-24 19:03:03,979 - workflow_orchestrator - INFO - Parsed 6 marketing strategies
2025-03-24 19:03:03,979 - workflow_orchestrator - INFO - Generated 6 marketing strategies
2025-03-24 19:03:03,979 - workflow_orchestrator - INFO - Creating response with marketing strategies
2025-03-24 19:03:03,979 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 19:03:03,979 - workflow_orchestrator - INFO - Using system prompt for stage: marketing_strategy
2025-03-24 19:03:03,979 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 19:03:21,499 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 19:03:21,500 - workflow_orchestrator - INFO - Received AI response
2025-03-24 19:03:21,500 - workflow_orchestrator - INFO - Advancing workflow stage to final_summary
2025-03-24 19:03:21,500 - workflow_orchestrator - INFO - Generating final summary
2025-03-24 19:03:21,500 - workflow_orchestrator - INFO - Creating final summary for product: Unknown Product
2025-03-24 19:03:21,500 - workflow_orchestrator - INFO - Final summary generated successfully
2025-03-24 19:03:21,500 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 19:03:21,500 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-24 19:03:21,501 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 19:03:23,850 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 19:03:23,851 - workflow_orchestrator - INFO - Received AI response
2025-03-24 19:03:23,851 - api - INFO - API: Message processed, new stage: final_summary
2025-03-24 19:17:56,942 - api - INFO - API: Processing message in stage: final_summary
2025-03-24 19:17:56,942 - workflow_orchestrator - INFO - Processing user message in stage: final_summary
2025-03-24 19:17:56,942 - workflow_orchestrator - INFO - Current data state - Product data exists: True, Market data exists: True, Category data exists: True, Final results exists: True
2025-03-24 19:17:56,942 - workflow_orchestrator - INFO - Product data - Title: Unknown Product, Features count: 1
2025-03-24 19:17:56,942 - workflow_orchestrator - INFO - Market data - Keywords count: 10, Competitors count: 5
2025-03-24 19:17:56,942 - workflow_orchestrator - INFO - Category data - Categories count: 3, Segments count: 3
2025-03-24 19:17:56,942 - workflow_orchestrator - INFO - In final_summary stage, processing follow-up question
2025-03-24 19:17:56,942 - workflow_orchestrator - INFO - Getting AI response
2025-03-24 19:17:56,942 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-24 19:17:56,942 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-24 19:18:14,883 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 19:18:14,885 - workflow_orchestrator - INFO - Received AI response
2025-03-24 19:18:14,885 - api - INFO - API: Message processed, new stage: final_summary
2025-03-25 02:48:17,430 - root - INFO - Firecrawl library imported successfully
2025-03-25 02:48:17,432 - root - INFO - SerpAPI library imported successfully
2025-03-25 02:48:17,433 - tools - INFO - Directly registering tool instances...
2025-03-25 02:48:17,433 - tools - INFO - Creating FirecrawlerTool instance
2025-03-25 02:48:17,434 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-25 02:48:17,434 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-25 02:48:17,434 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-25 02:48:17,434 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-25 02:48:17,434 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-25 02:48:17,434 - tools - INFO - Creating CategoryTreeTool instance
2025-03-25 02:48:17,435 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-25 02:48:17,435 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-25 02:48:17,435 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-25 02:48:17,435 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-25 02:48:17,435 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-25 02:48:17,436 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-25 02:48:17,436 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-25 02:48:17,436 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-25 02:48:17,462 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-25 02:48:17,462 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-25 02:48:17,462 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-25 02:48:17,462 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-25 02:48:17,462 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-25 02:48:17,462 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-25 02:48:17,462 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-25 02:48:25,224 - api - INFO - API: Starting new conversation
2025-03-25 02:48:25,224 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 02:48:25,224 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 02:48:25,224 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 02:48:25,224 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 02:48:25,224 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 02:48:26,501 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 02:48:26,503 - workflow_orchestrator - INFO - Received AI response
2025-03-25 02:48:26,503 - workflow_orchestrator - INFO - Conversation started
2025-03-25 02:48:26,503 - api - INFO - API: Conversation started successfully
2025-03-25 02:48:42,502 - api - INFO - API: Processing message in stage: initial
2025-03-25 02:48:42,502 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 02:48:42,502 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-25 02:48:42,502 - workflow_orchestrator - INFO - Analysis requested with URL, starting workflow
2025-03-25 02:48:42,502 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-25 02:48:42,502 - workflow_orchestrator - INFO - Analyzing URL: https://thesleepcompany.in/
2025-03-25 02:48:42,502 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-25 02:48:42,502 - tools - INFO - Executing tool requested: firecrawler
2025-03-25 02:48:42,502 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://thesleepcompany.in/', 'depth': 2}
2025-03-25 02:48:42,502 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://thesleepcompany.in/, depth: 2
2025-03-25 02:48:42,502 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://thesleepcompany.in/
2025-03-25 02:48:47,646 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://thesleepcompany.in/
2025-03-25 02:48:47,646 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://thesleepcompany.in/
2025-03-25 02:48:47,646 - tools.firecrawler_tool - INFO - Product title: 
2025-03-25 02:48:47,646 - tools.firecrawler_tool - INFO - Product price: 
2025-03-25 02:48:47,646 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-25 02:48:47,646 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-25 02:48:47,646 - workflow_orchestrator - WARNING - Product data missing title
2025-03-25 02:48:47,646 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-25 02:48:47,647 - workflow_orchestrator - WARNING - Product data missing description
2025-03-25 02:48:47,647 - workflow_orchestrator - INFO - Generating response with product information
2025-03-25 02:48:47,647 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 02:48:47,647 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 02:48:47,647 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 02:48:49,379 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 02:48:49,381 - workflow_orchestrator - INFO - Received AI response
2025-03-25 02:48:49,381 - workflow_orchestrator - INFO - Advancing workflow stage to market_research
2025-03-25 02:48:49,381 - workflow_orchestrator - INFO - Starting market research
2025-03-25 02:48:49,381 - workflow_orchestrator - INFO - Using product title for market research: 'Unknown Product'
2025-03-25 02:48:49,381 - workflow_orchestrator - INFO - Executing SERP analysis for query: 'Unknown Product'
2025-03-25 02:48:49,381 - tools - INFO - Executing tool requested: serp_analysis
2025-03-25 02:48:49,381 - tools - INFO - Executing tool: serp_analysis with parameters: {'query': 'Unknown Product', 'results_count': 10}
2025-03-25 02:48:49,381 - tools.serp_analysis_tool - INFO - Using SerpAPI to analyze query: Unknown Product
2025-03-25 02:48:49,429 - tools.serp_analysis_tool - INFO - Successfully analyzed market data for query: Unknown Product
2025-03-25 02:48:49,430 - tools.serp_analysis_tool - INFO - Found 5 competitors and 10 keywords
2025-03-25 02:48:49,430 - tools - INFO - Tool execution completed: serp_analysis, success: True
2025-03-25 02:48:49,430 - workflow_orchestrator - INFO - Successfully completed market research, storing results
2025-03-25 02:48:49,430 - workflow_orchestrator - INFO - Generating response with market information
2025-03-25 02:48:49,430 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 02:48:49,430 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-25 02:48:49,430 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 02:49:10,209 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 02:49:10,210 - workflow_orchestrator - INFO - Received AI response
2025-03-25 02:49:10,210 - workflow_orchestrator - INFO - Advancing workflow stage to category_mapping
2025-03-25 02:49:10,210 - workflow_orchestrator - INFO - Starting optimized category mapping
2025-03-25 02:49:10,210 - workflow_orchestrator - INFO - Getting all marketing categories
2025-03-25 02:49:10,210 - tools - INFO - Executing tool requested: category_tree
2025-03-25 02:49:10,210 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_toplevel'}
2025-03-25 02:49:10,210 - tools.category_tree_tool - INFO - Getting all top-level categories for LLM to choose from
2025-03-25 02:49:10,210 - tools.category_tree_tool - INFO - Getting all top-level categories
2025-03-25 02:49:10,210 - tools.category_tree_tool - INFO - Found 8 top-level categories
2025-03-25 02:49:10,210 - tools.category_tree_tool - INFO - Returning 8 top-level categories for LLM exploration
2025-03-25 02:49:10,210 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 02:49:10,211 - tools - INFO - Executing tool requested: category_tree
2025-03-25 02:49:10,211 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Behaviors'}
2025-03-25 02:49:10,211 - tools.category_tree_tool - INFO - Getting subcategories for category: Behaviors
2025-03-25 02:49:10,211 - tools.category_tree_tool - INFO - Looking for subcategories of: Behaviors
2025-03-25 02:49:10,211 - tools.category_tree_tool - INFO - Found 3 subcategories for Behaviors
2025-03-25 02:49:10,211 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Behaviors
2025-03-25 02:49:10,211 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 02:49:10,211 - tools - INFO - Executing tool requested: category_tree
2025-03-25 02:49:10,211 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Demographics'}
2025-03-25 02:49:10,211 - tools.category_tree_tool - INFO - Getting subcategories for category: Demographics
2025-03-25 02:49:10,211 - tools.category_tree_tool - INFO - Looking for subcategories of: Demographics
2025-03-25 02:49:10,211 - tools.category_tree_tool - INFO - Found 1 subcategories for Demographics
2025-03-25 02:49:10,211 - tools.category_tree_tool - INFO - Returning 1 subcategories for parent category: Demographics
2025-03-25 02:49:10,211 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 02:49:10,211 - tools - INFO - Executing tool requested: category_tree
2025-03-25 02:49:10,211 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Financial'}
2025-03-25 02:49:10,211 - tools.category_tree_tool - INFO - Getting subcategories for category: Financial
2025-03-25 02:49:10,211 - tools.category_tree_tool - INFO - Looking for subcategories of: Financial
2025-03-25 02:49:10,211 - tools.category_tree_tool - INFO - Found 3 subcategories for Financial
2025-03-25 02:49:10,211 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Financial
2025-03-25 02:49:10,211 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 02:49:10,211 - tools - INFO - Executing tool requested: category_tree
2025-03-25 02:49:10,212 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Home'}
2025-03-25 02:49:10,212 - tools.category_tree_tool - INFO - Getting subcategories for category: Home
2025-03-25 02:49:10,212 - tools.category_tree_tool - INFO - Looking for subcategories of: Home
2025-03-25 02:49:10,212 - tools.category_tree_tool - INFO - Found 3 subcategories for Home
2025-03-25 02:49:10,212 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Home
2025-03-25 02:49:10,212 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 02:49:10,212 - tools - INFO - Executing tool requested: category_tree
2025-03-25 02:49:10,212 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Interests'}
2025-03-25 02:49:10,212 - tools.category_tree_tool - INFO - Getting subcategories for category: Interests
2025-03-25 02:49:10,212 - tools.category_tree_tool - INFO - Looking for subcategories of: Interests
2025-03-25 02:49:10,212 - tools.category_tree_tool - INFO - Found 2 subcategories for Interests
2025-03-25 02:49:10,212 - tools.category_tree_tool - INFO - Returning 2 subcategories for parent category: Interests
2025-03-25 02:49:10,212 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 02:49:10,212 - workflow_orchestrator - INFO - Making single comprehensive LLM call for category analysis
2025-03-25 02:49:47,281 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 02:49:47,294 - workflow_orchestrator - INFO - Generating response with category information
2025-03-25 02:49:47,294 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 02:49:47,294 - workflow_orchestrator - INFO - Using system prompt for stage: category_mapping
2025-03-25 02:49:47,294 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 02:50:07,053 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 02:50:07,058 - workflow_orchestrator - INFO - Received AI response
2025-03-25 02:50:07,059 - workflow_orchestrator - INFO - Advancing workflow stage to audience_segmentation
2025-03-25 02:50:07,059 - workflow_orchestrator - INFO - Generating audience segments
2025-03-25 02:50:07,059 - workflow_orchestrator - INFO - Found 3 audience segments in category data
2025-03-25 02:50:07,059 - workflow_orchestrator - INFO - Segment 1: Affluent Tech-Savvy Professionals
2025-03-25 02:50:07,059 - workflow_orchestrator - INFO - Segment 2: Culturally Curious Online Shoppers
2025-03-25 02:50:07,059 - workflow_orchestrator - INFO - Segment 3: High-Income Trendsetters
2025-03-25 02:50:07,059 - workflow_orchestrator - INFO - Generating response with audience segments
2025-03-25 02:50:07,059 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 02:50:07,059 - workflow_orchestrator - INFO - Using system prompt for stage: audience_segmentation
2025-03-25 02:50:07,059 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 02:50:34,197 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 02:50:34,202 - workflow_orchestrator - INFO - Received AI response
2025-03-25 02:50:34,202 - workflow_orchestrator - INFO - Advancing workflow stage to marketing_strategy
2025-03-25 02:50:34,202 - workflow_orchestrator - INFO - Generating marketing strategies
2025-03-25 02:50:34,202 - workflow_orchestrator - INFO - Creating marketing strategies prompt
2025-03-25 02:50:34,202 - workflow_orchestrator - INFO - Calling _generate_marketing_strategies method
2025-03-25 02:50:34,202 - workflow_orchestrator - INFO - Generating marketing strategies with GPT-4
2025-03-25 02:50:57,420 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 02:50:57,427 - workflow_orchestrator - INFO - Received marketing strategies response from GPT-4
2025-03-25 02:50:57,427 - workflow_orchestrator - INFO - Parsed 5 marketing strategies
2025-03-25 02:50:57,427 - workflow_orchestrator - INFO - Generated 5 marketing strategies
2025-03-25 02:50:57,427 - workflow_orchestrator - INFO - Creating response with marketing strategies
2025-03-25 02:50:57,427 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 02:50:57,427 - workflow_orchestrator - INFO - Using system prompt for stage: marketing_strategy
2025-03-25 02:50:57,427 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 02:51:30,262 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 02:51:30,263 - workflow_orchestrator - INFO - Received AI response
2025-03-25 02:51:30,263 - workflow_orchestrator - INFO - Advancing workflow stage to final_summary
2025-03-25 02:51:30,263 - workflow_orchestrator - INFO - Generating final summary
2025-03-25 02:51:30,263 - workflow_orchestrator - INFO - Creating final summary for product: Unknown Product
2025-03-25 02:51:30,263 - workflow_orchestrator - INFO - Final summary generated successfully
2025-03-25 02:51:30,263 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 02:51:30,263 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-25 02:51:30,263 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 02:51:33,437 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 02:51:33,438 - workflow_orchestrator - INFO - Received AI response
2025-03-25 02:51:33,438 - api - INFO - API: Message processed, new stage: final_summary
2025-03-25 03:00:32,812 - root - INFO - Firecrawl library imported successfully
2025-03-25 03:00:32,814 - root - INFO - SerpAPI library imported successfully
2025-03-25 03:00:32,815 - tools - INFO - Directly registering tool instances...
2025-03-25 03:00:32,815 - tools - INFO - Creating FirecrawlerTool instance
2025-03-25 03:00:32,815 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-25 03:00:32,815 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-25 03:00:32,815 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-25 03:00:32,816 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-25 03:00:32,816 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-25 03:00:32,816 - tools - INFO - Creating CategoryTreeTool instance
2025-03-25 03:00:32,816 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-25 03:00:32,816 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-25 03:00:32,816 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-25 03:00:32,816 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-25 03:00:32,816 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-25 03:00:32,818 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-25 03:00:32,818 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-25 03:00:32,818 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-25 03:00:32,840 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-25 03:00:32,840 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-25 03:00:32,840 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-25 03:00:32,840 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-25 03:00:32,840 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-25 03:00:32,840 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-25 03:00:32,840 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-25 03:00:48,258 - api - INFO - API: Starting new conversation
2025-03-25 03:00:48,258 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 03:00:48,258 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 03:00:48,258 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:00:48,258 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:00:48,258 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:00:49,038 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:00:49,040 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:00:49,040 - workflow_orchestrator - INFO - Conversation started
2025-03-25 03:00:49,040 - api - INFO - API: Conversation started successfully
2025-03-25 03:01:09,378 - api - INFO - API: Processing message in stage: initial
2025-03-25 03:01:09,378 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 03:01:09,378 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-25 03:01:09,378 - workflow_orchestrator - INFO - Analysis requested with URL, starting workflow
2025-03-25 03:01:09,378 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-25 03:01:09,378 - workflow_orchestrator - INFO - Analyzing URL: https://thesleepcompany.in/
2025-03-25 03:01:09,378 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-25 03:01:09,378 - tools - INFO - Executing tool requested: firecrawler
2025-03-25 03:01:09,378 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://thesleepcompany.in/', 'depth': 2}
2025-03-25 03:01:09,378 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://thesleepcompany.in/, depth: 2
2025-03-25 03:01:09,378 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://thesleepcompany.in/
2025-03-25 03:01:17,388 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://thesleepcompany.in/
2025-03-25 03:01:17,388 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://thesleepcompany.in/
2025-03-25 03:01:17,388 - tools.firecrawler_tool - INFO - Product title: 
2025-03-25 03:01:17,388 - tools.firecrawler_tool - INFO - Product price: 
2025-03-25 03:01:17,389 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-25 03:01:17,389 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-25 03:01:17,389 - workflow_orchestrator - WARNING - Product data missing title
2025-03-25 03:01:17,389 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-25 03:01:17,389 - workflow_orchestrator - WARNING - Product data missing description
2025-03-25 03:01:17,389 - workflow_orchestrator - INFO - Generating response with product information
2025-03-25 03:01:17,389 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:01:17,389 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:01:17,389 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:01:19,165 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:01:19,166 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:01:19,166 - workflow_orchestrator - INFO - Advancing workflow stage to market_research
2025-03-25 03:01:19,167 - workflow_orchestrator - INFO - Starting market research
2025-03-25 03:01:19,167 - workflow_orchestrator - INFO - Using product title for market research: 'Unknown Product'
2025-03-25 03:01:19,167 - workflow_orchestrator - INFO - Executing SERP analysis for query: 'Unknown Product'
2025-03-25 03:01:19,167 - tools - INFO - Executing tool requested: serp_analysis
2025-03-25 03:01:19,167 - tools - INFO - Executing tool: serp_analysis with parameters: {'query': 'Unknown Product', 'results_count': 10}
2025-03-25 03:01:19,167 - tools.serp_analysis_tool - INFO - Using SerpAPI to analyze query: Unknown Product
2025-03-25 03:01:19,411 - tools.serp_analysis_tool - INFO - Successfully analyzed market data for query: Unknown Product
2025-03-25 03:01:19,411 - tools.serp_analysis_tool - INFO - Found 5 competitors and 10 keywords
2025-03-25 03:01:19,411 - tools - INFO - Tool execution completed: serp_analysis, success: True
2025-03-25 03:01:19,411 - workflow_orchestrator - INFO - Successfully completed market research, storing results
2025-03-25 03:01:19,411 - workflow_orchestrator - INFO - Generating response with market information
2025-03-25 03:01:19,412 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:01:19,412 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-25 03:01:19,412 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:01:37,294 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:01:37,295 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:01:37,295 - workflow_orchestrator - INFO - Advancing workflow stage to category_mapping
2025-03-25 03:01:37,295 - workflow_orchestrator - INFO - Starting optimized category mapping
2025-03-25 03:01:37,295 - workflow_orchestrator - INFO - Getting all marketing categories
2025-03-25 03:01:37,295 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:01:37,296 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_toplevel'}
2025-03-25 03:01:37,296 - tools.category_tree_tool - INFO - Getting all top-level categories for LLM to choose from
2025-03-25 03:01:37,296 - tools.category_tree_tool - INFO - Getting all top-level categories
2025-03-25 03:01:37,296 - tools.category_tree_tool - INFO - Found 8 top-level categories
2025-03-25 03:01:37,296 - tools.category_tree_tool - INFO - Returning 8 top-level categories for LLM exploration
2025-03-25 03:01:37,296 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:01:37,296 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:01:37,296 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Behaviors'}
2025-03-25 03:01:37,296 - tools.category_tree_tool - INFO - Getting subcategories for category: Behaviors
2025-03-25 03:01:37,296 - tools.category_tree_tool - INFO - Looking for subcategories of: Behaviors
2025-03-25 03:01:37,296 - tools.category_tree_tool - INFO - Found 3 subcategories for Behaviors
2025-03-25 03:01:37,296 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Behaviors
2025-03-25 03:01:37,296 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:01:37,296 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:01:37,296 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Demographics'}
2025-03-25 03:01:37,296 - tools.category_tree_tool - INFO - Getting subcategories for category: Demographics
2025-03-25 03:01:37,296 - tools.category_tree_tool - INFO - Looking for subcategories of: Demographics
2025-03-25 03:01:37,296 - tools.category_tree_tool - INFO - Found 1 subcategories for Demographics
2025-03-25 03:01:37,296 - tools.category_tree_tool - INFO - Returning 1 subcategories for parent category: Demographics
2025-03-25 03:01:37,296 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:01:37,296 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:01:37,297 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Financial'}
2025-03-25 03:01:37,297 - tools.category_tree_tool - INFO - Getting subcategories for category: Financial
2025-03-25 03:01:37,297 - tools.category_tree_tool - INFO - Looking for subcategories of: Financial
2025-03-25 03:01:37,297 - tools.category_tree_tool - INFO - Found 3 subcategories for Financial
2025-03-25 03:01:37,297 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Financial
2025-03-25 03:01:37,297 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:01:37,297 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:01:37,297 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Home'}
2025-03-25 03:01:37,297 - tools.category_tree_tool - INFO - Getting subcategories for category: Home
2025-03-25 03:01:37,297 - tools.category_tree_tool - INFO - Looking for subcategories of: Home
2025-03-25 03:01:37,297 - tools.category_tree_tool - INFO - Found 3 subcategories for Home
2025-03-25 03:01:37,297 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Home
2025-03-25 03:01:37,297 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:01:37,297 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:01:37,297 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Interests'}
2025-03-25 03:01:37,297 - tools.category_tree_tool - INFO - Getting subcategories for category: Interests
2025-03-25 03:01:37,297 - tools.category_tree_tool - INFO - Looking for subcategories of: Interests
2025-03-25 03:01:37,297 - tools.category_tree_tool - INFO - Found 2 subcategories for Interests
2025-03-25 03:01:37,297 - tools.category_tree_tool - INFO - Returning 2 subcategories for parent category: Interests
2025-03-25 03:01:37,297 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:01:37,298 - workflow_orchestrator - INFO - Making single comprehensive LLM call for category analysis
2025-03-25 03:01:49,641 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:01:49,661 - workflow_orchestrator - INFO - Generating response with category information
2025-03-25 03:01:49,661 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:01:49,661 - workflow_orchestrator - INFO - Using system prompt for stage: category_mapping
2025-03-25 03:01:49,661 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:01:59,318 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:01:59,320 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:01:59,320 - workflow_orchestrator - INFO - Advancing workflow stage to audience_segmentation
2025-03-25 03:01:59,320 - workflow_orchestrator - INFO - Generating audience segments
2025-03-25 03:01:59,320 - workflow_orchestrator - INFO - Found 4 audience segments in category data
2025-03-25 03:01:59,320 - workflow_orchestrator - INFO - Segment 1: Health-Conscious Consumers
2025-03-25 03:01:59,320 - workflow_orchestrator - INFO - Segment 2: Young Professionals
2025-03-25 03:01:59,320 - workflow_orchestrator - INFO - Segment 3: Homeowners Seeking Comfort
2025-03-25 03:01:59,320 - workflow_orchestrator - INFO - Segment 4: Renters Interested in Quality
2025-03-25 03:01:59,320 - workflow_orchestrator - INFO - Generating response with audience segments
2025-03-25 03:01:59,320 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:01:59,320 - workflow_orchestrator - INFO - Using system prompt for stage: audience_segmentation
2025-03-25 03:01:59,320 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:02:14,071 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:02:14,073 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:02:14,073 - workflow_orchestrator - INFO - Advancing workflow stage to marketing_strategy
2025-03-25 03:02:14,073 - workflow_orchestrator - INFO - Generating marketing strategies
2025-03-25 03:02:14,073 - workflow_orchestrator - INFO - Creating marketing strategies prompt
2025-03-25 03:02:14,073 - workflow_orchestrator - INFO - Calling _generate_marketing_strategies method
2025-03-25 03:02:14,073 - workflow_orchestrator - INFO - Generating marketing strategies with GPT-4
2025-03-25 03:02:25,092 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:02:25,093 - workflow_orchestrator - INFO - Received marketing strategies response from GPT-4o-mini
2025-03-25 03:02:25,094 - workflow_orchestrator - INFO - Parsed 7 marketing strategies
2025-03-25 03:02:25,094 - workflow_orchestrator - INFO - Generated 7 marketing strategies
2025-03-25 03:02:25,094 - workflow_orchestrator - INFO - Creating response with marketing strategies
2025-03-25 03:02:25,094 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:02:25,094 - workflow_orchestrator - INFO - Using system prompt for stage: marketing_strategy
2025-03-25 03:02:25,094 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:02:38,757 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:02:38,758 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:02:38,759 - workflow_orchestrator - INFO - Advancing workflow stage to final_summary
2025-03-25 03:02:38,759 - workflow_orchestrator - INFO - Generating final summary
2025-03-25 03:02:38,759 - workflow_orchestrator - INFO - Creating final summary for product: Unknown Product
2025-03-25 03:02:38,759 - workflow_orchestrator - INFO - Final summary generated successfully
2025-03-25 03:02:38,759 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:02:38,759 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-25 03:02:38,759 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:02:40,661 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:02:40,667 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:02:40,667 - api - INFO - API: Message processed, new stage: final_summary
2025-03-25 03:05:06,335 - root - INFO - Firecrawl library imported successfully
2025-03-25 03:05:06,337 - root - INFO - SerpAPI library imported successfully
2025-03-25 03:05:06,338 - tools - INFO - Directly registering tool instances...
2025-03-25 03:05:06,338 - tools - INFO - Creating FirecrawlerTool instance
2025-03-25 03:05:06,339 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-25 03:05:06,339 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-25 03:05:06,339 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-25 03:05:06,339 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-25 03:05:06,339 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-25 03:05:06,339 - tools - INFO - Creating CategoryTreeTool instance
2025-03-25 03:05:06,339 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-25 03:05:06,340 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-25 03:05:06,340 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-25 03:05:06,340 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-25 03:05:06,340 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-25 03:05:06,341 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-25 03:05:06,341 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-25 03:05:06,341 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-25 03:05:06,365 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-25 03:05:06,365 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-25 03:05:06,365 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-25 03:05:06,365 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-25 03:05:06,365 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-25 03:05:06,365 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-25 03:05:06,365 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-25 03:05:33,496 - api - INFO - API: Starting new conversation
2025-03-25 03:05:33,497 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 03:05:33,497 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 03:05:33,497 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:05:33,497 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:05:33,497 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:05:34,449 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:05:34,450 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:05:34,451 - workflow_orchestrator - INFO - Conversation started
2025-03-25 03:05:34,451 - api - INFO - API: Conversation started successfully
2025-03-25 03:05:46,873 - api - INFO - API: Processing message in stage: initial
2025-03-25 03:05:46,873 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 03:05:46,873 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-25 03:05:46,873 - workflow_orchestrator - INFO - Analysis requested with URL, starting workflow
2025-03-25 03:05:46,873 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-25 03:05:46,873 - workflow_orchestrator - INFO - Analyzing URL: https://thesleepcompany.in/
2025-03-25 03:05:46,873 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-25 03:05:46,873 - tools - INFO - Executing tool requested: firecrawler
2025-03-25 03:05:46,874 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://thesleepcompany.in/', 'depth': 2}
2025-03-25 03:05:46,874 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://thesleepcompany.in/, depth: 2
2025-03-25 03:05:46,874 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://thesleepcompany.in/
2025-03-25 03:05:52,139 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://thesleepcompany.in/
2025-03-25 03:05:52,139 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://thesleepcompany.in/
2025-03-25 03:05:52,139 - tools.firecrawler_tool - INFO - Product title: 
2025-03-25 03:05:52,139 - tools.firecrawler_tool - INFO - Product price: 
2025-03-25 03:05:52,139 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-25 03:05:52,139 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-25 03:05:52,139 - workflow_orchestrator - WARNING - Product data missing title
2025-03-25 03:05:52,139 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-25 03:05:52,140 - workflow_orchestrator - WARNING - Product data missing description
2025-03-25 03:05:52,140 - workflow_orchestrator - INFO - Generating response with product information
2025-03-25 03:05:52,140 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:05:52,140 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:05:52,140 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:05:53,124 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:05:53,126 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:05:53,126 - workflow_orchestrator - INFO - Advancing workflow stage to market_research
2025-03-25 03:05:53,126 - workflow_orchestrator - INFO - Starting market research
2025-03-25 03:05:53,126 - workflow_orchestrator - INFO - Using product title for market research: 'Unknown Product'
2025-03-25 03:05:53,126 - workflow_orchestrator - INFO - Executing SERP analysis for query: 'Unknown Product'
2025-03-25 03:05:53,126 - tools - INFO - Executing tool requested: serp_analysis
2025-03-25 03:05:53,126 - tools - INFO - Executing tool: serp_analysis with parameters: {'query': 'Unknown Product', 'results_count': 10}
2025-03-25 03:05:53,126 - tools.serp_analysis_tool - INFO - Using SerpAPI to analyze query: Unknown Product
2025-03-25 03:05:53,335 - tools.serp_analysis_tool - INFO - Successfully analyzed market data for query: Unknown Product
2025-03-25 03:05:53,335 - tools.serp_analysis_tool - INFO - Found 5 competitors and 10 keywords
2025-03-25 03:05:53,335 - tools - INFO - Tool execution completed: serp_analysis, success: True
2025-03-25 03:05:53,335 - workflow_orchestrator - INFO - Successfully completed market research, storing results
2025-03-25 03:05:53,335 - workflow_orchestrator - INFO - Generating response with market information
2025-03-25 03:05:53,335 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:05:53,335 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-25 03:05:53,335 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:06:09,598 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:06:09,600 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:06:09,600 - workflow_orchestrator - INFO - Advancing workflow stage to category_mapping
2025-03-25 03:06:09,600 - workflow_orchestrator - INFO - Starting optimized category mapping
2025-03-25 03:06:09,600 - workflow_orchestrator - INFO - Getting all marketing categories
2025-03-25 03:06:09,600 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:06:09,600 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_toplevel'}
2025-03-25 03:06:09,600 - tools.category_tree_tool - INFO - Getting all top-level categories for LLM to choose from
2025-03-25 03:06:09,600 - tools.category_tree_tool - INFO - Getting all top-level categories
2025-03-25 03:06:09,600 - tools.category_tree_tool - INFO - Found 8 top-level categories
2025-03-25 03:06:09,600 - tools.category_tree_tool - INFO - Returning 8 top-level categories for LLM exploration
2025-03-25 03:06:09,600 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:06:09,600 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:06:09,600 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Behaviors'}
2025-03-25 03:06:09,600 - tools.category_tree_tool - INFO - Getting subcategories for category: Behaviors
2025-03-25 03:06:09,600 - tools.category_tree_tool - INFO - Looking for subcategories of: Behaviors
2025-03-25 03:06:09,600 - tools.category_tree_tool - INFO - Found 3 subcategories for Behaviors
2025-03-25 03:06:09,600 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Behaviors
2025-03-25 03:06:09,600 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:06:09,600 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:06:09,600 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Demographics'}
2025-03-25 03:06:09,600 - tools.category_tree_tool - INFO - Getting subcategories for category: Demographics
2025-03-25 03:06:09,601 - tools.category_tree_tool - INFO - Looking for subcategories of: Demographics
2025-03-25 03:06:09,601 - tools.category_tree_tool - INFO - Found 1 subcategories for Demographics
2025-03-25 03:06:09,601 - tools.category_tree_tool - INFO - Returning 1 subcategories for parent category: Demographics
2025-03-25 03:06:09,601 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:06:09,601 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:06:09,601 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Financial'}
2025-03-25 03:06:09,601 - tools.category_tree_tool - INFO - Getting subcategories for category: Financial
2025-03-25 03:06:09,601 - tools.category_tree_tool - INFO - Looking for subcategories of: Financial
2025-03-25 03:06:09,601 - tools.category_tree_tool - INFO - Found 3 subcategories for Financial
2025-03-25 03:06:09,601 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Financial
2025-03-25 03:06:09,601 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:06:09,601 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:06:09,601 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Home'}
2025-03-25 03:06:09,601 - tools.category_tree_tool - INFO - Getting subcategories for category: Home
2025-03-25 03:06:09,601 - tools.category_tree_tool - INFO - Looking for subcategories of: Home
2025-03-25 03:06:09,601 - tools.category_tree_tool - INFO - Found 3 subcategories for Home
2025-03-25 03:06:09,601 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Home
2025-03-25 03:06:09,601 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:06:09,601 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:06:09,601 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Interests'}
2025-03-25 03:06:09,601 - tools.category_tree_tool - INFO - Getting subcategories for category: Interests
2025-03-25 03:06:09,602 - tools.category_tree_tool - INFO - Looking for subcategories of: Interests
2025-03-25 03:06:09,602 - tools.category_tree_tool - INFO - Found 2 subcategories for Interests
2025-03-25 03:06:09,602 - tools.category_tree_tool - INFO - Returning 2 subcategories for parent category: Interests
2025-03-25 03:06:09,602 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:06:09,602 - workflow_orchestrator - INFO - Making single comprehensive LLM call for category analysis
2025-03-25 03:06:22,160 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:06:22,163 - workflow_orchestrator - INFO - Generating response with category information
2025-03-25 03:06:22,164 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:06:22,164 - workflow_orchestrator - INFO - Using system prompt for stage: category_mapping
2025-03-25 03:06:22,164 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:06:31,426 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:06:31,429 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:06:31,429 - workflow_orchestrator - INFO - Advancing workflow stage to audience_segmentation
2025-03-25 03:06:31,429 - workflow_orchestrator - INFO - Generating audience segments
2025-03-25 03:06:31,429 - workflow_orchestrator - INFO - Found 3 audience segments in category data
2025-03-25 03:06:31,429 - workflow_orchestrator - INFO - Segment 1: Online Shoppers
2025-03-25 03:06:31,429 - workflow_orchestrator - INFO - Segment 2: Luxury Lifestyle Enthusiasts
2025-03-25 03:06:31,429 - workflow_orchestrator - INFO - Segment 3: Digital Explorers
2025-03-25 03:06:31,429 - workflow_orchestrator - INFO - Generating response with audience segments
2025-03-25 03:06:31,429 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:06:31,429 - workflow_orchestrator - INFO - Using system prompt for stage: audience_segmentation
2025-03-25 03:06:31,429 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:06:46,945 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:06:46,999 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:06:46,999 - workflow_orchestrator - INFO - Advancing workflow stage to marketing_strategy
2025-03-25 03:06:46,999 - workflow_orchestrator - INFO - Generating marketing strategies
2025-03-25 03:06:46,999 - workflow_orchestrator - INFO - Creating marketing strategies prompt
2025-03-25 03:06:47,000 - workflow_orchestrator - INFO - Calling _generate_marketing_strategies method
2025-03-25 03:06:47,000 - workflow_orchestrator - INFO - Generating marketing strategies with GPT-4
2025-03-25 03:06:57,518 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:06:57,520 - workflow_orchestrator - INFO - Received marketing strategies response from GPT-4o-mini
2025-03-25 03:06:57,520 - workflow_orchestrator - INFO - Parsed 6 marketing strategies
2025-03-25 03:06:57,520 - workflow_orchestrator - INFO - Generated 6 marketing strategies
2025-03-25 03:06:57,520 - workflow_orchestrator - INFO - Creating response with marketing strategies
2025-03-25 03:06:57,520 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:06:57,520 - workflow_orchestrator - INFO - Using system prompt for stage: marketing_strategy
2025-03-25 03:06:57,520 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:07:08,020 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:07:08,071 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:07:08,071 - workflow_orchestrator - INFO - Advancing workflow stage to final_summary
2025-03-25 03:07:08,071 - workflow_orchestrator - INFO - Generating final summary
2025-03-25 03:07:08,072 - workflow_orchestrator - INFO - Creating final summary for product: Unknown Product
2025-03-25 03:07:08,072 - workflow_orchestrator - INFO - Final summary generated successfully
2025-03-25 03:07:08,072 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:07:08,072 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-25 03:07:08,072 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:07:09,923 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:07:09,924 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:07:09,925 - api - INFO - API: Message processed, new stage: final_summary
2025-03-25 03:09:03,078 - root - INFO - Firecrawl library imported successfully
2025-03-25 03:09:03,081 - root - INFO - SerpAPI library imported successfully
2025-03-25 03:09:03,082 - tools - INFO - Directly registering tool instances...
2025-03-25 03:09:03,082 - tools - INFO - Creating FirecrawlerTool instance
2025-03-25 03:09:03,082 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-25 03:09:03,082 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-25 03:09:03,082 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-25 03:09:03,083 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-25 03:09:03,083 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-25 03:09:03,083 - tools - INFO - Creating CategoryTreeTool instance
2025-03-25 03:09:03,084 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-25 03:09:03,084 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-25 03:09:03,084 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-25 03:09:03,084 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-25 03:09:03,084 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-25 03:09:03,085 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-25 03:09:03,085 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-25 03:09:03,085 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-25 03:09:03,112 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-25 03:09:03,112 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-25 03:09:03,113 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-25 03:09:03,113 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-25 03:09:03,113 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-25 03:09:03,113 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-25 03:09:03,113 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-25 03:09:09,806 - api - INFO - API: Starting new conversation
2025-03-25 03:09:09,806 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 03:09:09,806 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 03:09:09,806 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:09:09,806 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:09:09,806 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:09:10,657 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:09:10,659 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:09:10,659 - workflow_orchestrator - INFO - Conversation started
2025-03-25 03:09:10,659 - api - INFO - API: Conversation started successfully
2025-03-25 03:09:17,017 - api - INFO - API: Processing message in stage: initial
2025-03-25 03:09:17,017 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 03:09:17,017 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-25 03:09:17,017 - workflow_orchestrator - INFO - Analysis requested with URL, starting workflow
2025-03-25 03:09:17,017 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-25 03:09:17,017 - workflow_orchestrator - INFO - Analyzing URL: https://thesleepcompany.in/
2025-03-25 03:09:17,017 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-25 03:09:17,017 - tools - INFO - Executing tool requested: firecrawler
2025-03-25 03:09:17,017 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://thesleepcompany.in/', 'depth': 2}
2025-03-25 03:09:17,017 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://thesleepcompany.in/, depth: 2
2025-03-25 03:09:17,017 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://thesleepcompany.in/
2025-03-25 03:09:21,607 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://thesleepcompany.in/
2025-03-25 03:09:21,607 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://thesleepcompany.in/
2025-03-25 03:09:21,608 - tools.firecrawler_tool - INFO - Product title: 
2025-03-25 03:09:21,608 - tools.firecrawler_tool - INFO - Product price: 
2025-03-25 03:09:21,608 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-25 03:09:21,608 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-25 03:09:21,608 - workflow_orchestrator - WARNING - Product data missing title
2025-03-25 03:09:21,608 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-25 03:09:21,608 - workflow_orchestrator - WARNING - Product data missing description
2025-03-25 03:09:21,608 - workflow_orchestrator - INFO - Generating response with product information
2025-03-25 03:09:21,608 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:09:21,608 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:09:21,608 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:09:22,844 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:09:22,845 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:09:22,845 - workflow_orchestrator - INFO - Advancing workflow stage to market_research
2025-03-25 03:09:22,845 - workflow_orchestrator - INFO - Starting market research
2025-03-25 03:09:22,845 - workflow_orchestrator - INFO - Using product title for market research: 'Unknown Product'
2025-03-25 03:09:22,845 - workflow_orchestrator - INFO - Executing SERP analysis for query: 'Unknown Product'
2025-03-25 03:09:22,845 - tools - INFO - Executing tool requested: serp_analysis
2025-03-25 03:09:22,845 - tools - INFO - Executing tool: serp_analysis with parameters: {'query': 'Unknown Product', 'results_count': 10}
2025-03-25 03:09:22,845 - tools.serp_analysis_tool - INFO - Using SerpAPI to analyze query: Unknown Product
2025-03-25 03:09:22,982 - tools.serp_analysis_tool - INFO - Successfully analyzed market data for query: Unknown Product
2025-03-25 03:09:22,982 - tools.serp_analysis_tool - INFO - Found 5 competitors and 10 keywords
2025-03-25 03:09:22,982 - tools - INFO - Tool execution completed: serp_analysis, success: True
2025-03-25 03:09:22,982 - workflow_orchestrator - INFO - Successfully completed market research, storing results
2025-03-25 03:09:22,982 - workflow_orchestrator - INFO - Generating response with market information
2025-03-25 03:09:22,982 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:09:22,982 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-25 03:09:22,983 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:09:40,363 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:09:40,365 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:09:40,365 - workflow_orchestrator - INFO - Advancing workflow stage to category_mapping
2025-03-25 03:09:40,365 - workflow_orchestrator - INFO - Starting optimized category mapping
2025-03-25 03:09:40,365 - workflow_orchestrator - INFO - Getting all marketing categories
2025-03-25 03:09:40,365 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:09:40,365 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_toplevel'}
2025-03-25 03:09:40,365 - tools.category_tree_tool - INFO - Getting all top-level categories for LLM to choose from
2025-03-25 03:09:40,365 - tools.category_tree_tool - INFO - Getting all top-level categories
2025-03-25 03:09:40,365 - tools.category_tree_tool - INFO - Found 8 top-level categories
2025-03-25 03:09:40,365 - tools.category_tree_tool - INFO - Returning 8 top-level categories for LLM exploration
2025-03-25 03:09:40,365 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:09:40,365 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:09:40,365 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Behaviors'}
2025-03-25 03:09:40,366 - tools.category_tree_tool - INFO - Getting subcategories for category: Behaviors
2025-03-25 03:09:40,366 - tools.category_tree_tool - INFO - Looking for subcategories of: Behaviors
2025-03-25 03:09:40,366 - tools.category_tree_tool - INFO - Found 3 subcategories for Behaviors
2025-03-25 03:09:40,366 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Behaviors
2025-03-25 03:09:40,366 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:09:40,366 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:09:40,366 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Demographics'}
2025-03-25 03:09:40,366 - tools.category_tree_tool - INFO - Getting subcategories for category: Demographics
2025-03-25 03:09:40,366 - tools.category_tree_tool - INFO - Looking for subcategories of: Demographics
2025-03-25 03:09:40,366 - tools.category_tree_tool - INFO - Found 1 subcategories for Demographics
2025-03-25 03:09:40,366 - tools.category_tree_tool - INFO - Returning 1 subcategories for parent category: Demographics
2025-03-25 03:09:40,366 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:09:40,366 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:09:40,366 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Financial'}
2025-03-25 03:09:40,366 - tools.category_tree_tool - INFO - Getting subcategories for category: Financial
2025-03-25 03:09:40,366 - tools.category_tree_tool - INFO - Looking for subcategories of: Financial
2025-03-25 03:09:40,366 - tools.category_tree_tool - INFO - Found 3 subcategories for Financial
2025-03-25 03:09:40,366 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Financial
2025-03-25 03:09:40,366 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:09:40,367 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:09:40,367 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Home'}
2025-03-25 03:09:40,367 - tools.category_tree_tool - INFO - Getting subcategories for category: Home
2025-03-25 03:09:40,367 - tools.category_tree_tool - INFO - Looking for subcategories of: Home
2025-03-25 03:09:40,367 - tools.category_tree_tool - INFO - Found 3 subcategories for Home
2025-03-25 03:09:40,367 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Home
2025-03-25 03:09:40,367 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:09:40,367 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:09:40,367 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Interests'}
2025-03-25 03:09:40,367 - tools.category_tree_tool - INFO - Getting subcategories for category: Interests
2025-03-25 03:09:40,367 - tools.category_tree_tool - INFO - Looking for subcategories of: Interests
2025-03-25 03:09:40,367 - tools.category_tree_tool - INFO - Found 2 subcategories for Interests
2025-03-25 03:09:40,367 - tools.category_tree_tool - INFO - Returning 2 subcategories for parent category: Interests
2025-03-25 03:09:40,367 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:09:40,367 - workflow_orchestrator - INFO - Making single comprehensive LLM call for category analysis
2025-03-25 03:09:53,512 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:09:53,513 - workflow_orchestrator - INFO - Generating response with category information
2025-03-25 03:09:53,514 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:09:53,514 - workflow_orchestrator - INFO - Using system prompt for stage: category_mapping
2025-03-25 03:09:53,514 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:10:04,765 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:10:04,766 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:10:04,767 - workflow_orchestrator - INFO - Advancing workflow stage to audience_segmentation
2025-03-25 03:10:04,767 - workflow_orchestrator - INFO - Generating audience segments
2025-03-25 03:10:04,767 - workflow_orchestrator - INFO - Found 4 audience segments in category data
2025-03-25 03:10:04,767 - workflow_orchestrator - INFO - Segment 1: Online Shoppers
2025-03-25 03:10:04,767 - workflow_orchestrator - INFO - Segment 2: Affluent Educated Consumers
2025-03-25 03:10:04,767 - workflow_orchestrator - INFO - Segment 3: Health-Conscious Professionals
2025-03-25 03:10:04,767 - workflow_orchestrator - INFO - Segment 4: Home Lifestyle Enthusiasts
2025-03-25 03:10:04,767 - workflow_orchestrator - INFO - Generating response with audience segments
2025-03-25 03:10:04,767 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:10:04,767 - workflow_orchestrator - INFO - Using system prompt for stage: audience_segmentation
2025-03-25 03:10:04,767 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:10:26,938 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:10:26,943 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:10:26,943 - workflow_orchestrator - INFO - Advancing workflow stage to marketing_strategy
2025-03-25 03:10:26,943 - workflow_orchestrator - INFO - Generating marketing strategies
2025-03-25 03:10:26,943 - workflow_orchestrator - INFO - Creating marketing strategies prompt
2025-03-25 03:10:26,943 - workflow_orchestrator - INFO - Calling _generate_marketing_strategies method
2025-03-25 03:10:26,943 - workflow_orchestrator - INFO - Generating marketing strategies with GPT-4
2025-03-25 03:10:38,710 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:10:38,835 - workflow_orchestrator - INFO - Received marketing strategies response from GPT-4o-mini
2025-03-25 03:10:38,835 - workflow_orchestrator - INFO - Parsed 10 marketing strategies
2025-03-25 03:10:38,836 - workflow_orchestrator - INFO - Generated 10 marketing strategies
2025-03-25 03:10:38,836 - workflow_orchestrator - INFO - Creating response with marketing strategies
2025-03-25 03:10:38,836 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:10:38,836 - workflow_orchestrator - INFO - Using system prompt for stage: marketing_strategy
2025-03-25 03:10:38,836 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:10:49,556 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:10:49,558 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:10:49,558 - workflow_orchestrator - INFO - Advancing workflow stage to final_summary
2025-03-25 03:10:49,558 - workflow_orchestrator - INFO - Generating final summary
2025-03-25 03:10:49,558 - workflow_orchestrator - INFO - Creating final summary for product: Unknown Product
2025-03-25 03:10:49,558 - workflow_orchestrator - INFO - Final summary generated successfully
2025-03-25 03:10:49,558 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:10:49,558 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-25 03:10:49,558 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:10:51,092 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:10:51,094 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:10:51,094 - api - INFO - API: Message processed, new stage: final_summary
2025-03-25 03:18:32,041 - api - INFO - API: Starting new conversation
2025-03-25 03:18:32,041 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 03:18:32,041 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 03:18:32,041 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:18:32,042 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:18:32,042 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:18:33,223 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:18:33,224 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:18:33,224 - workflow_orchestrator - INFO - Conversation started
2025-03-25 03:18:33,224 - api - INFO - API: Conversation started successfully
2025-03-25 03:18:37,002 - api - INFO - API: Processing message in stage: initial
2025-03-25 03:18:37,002 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 03:18:37,002 - workflow_orchestrator - INFO - Current data state - Product data exists: True, Market data exists: True, Category data exists: True, Final results exists: True
2025-03-25 03:18:37,002 - workflow_orchestrator - INFO - Product data - Title: Unknown Product, Features count: 1
2025-03-25 03:18:37,002 - workflow_orchestrator - INFO - Market data - Keywords count: 10, Competitors count: 5
2025-03-25 03:18:37,002 - workflow_orchestrator - INFO - Category data - Categories count: 3, Segments count: 4
2025-03-25 03:18:37,002 - workflow_orchestrator - INFO - No analysis request or URL detected, maintaining conversation mode
2025-03-25 03:18:37,002 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:18:37,002 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:18:37,002 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:18:38,039 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:18:38,040 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:18:38,040 - api - INFO - API: Message processed, new stage: initial
2025-03-25 03:18:54,196 - api - INFO - API: Starting new conversation
2025-03-25 03:18:54,196 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 03:18:54,196 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 03:18:54,196 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:18:54,196 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:18:54,196 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:18:55,245 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:18:55,246 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:18:55,246 - workflow_orchestrator - INFO - Conversation started
2025-03-25 03:18:55,246 - api - INFO - API: Conversation started successfully
2025-03-25 03:18:58,266 - api - INFO - API: Processing message in stage: initial
2025-03-25 03:18:58,267 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 03:18:58,267 - workflow_orchestrator - INFO - Current data state - Product data exists: True, Market data exists: True, Category data exists: True, Final results exists: True
2025-03-25 03:18:58,267 - workflow_orchestrator - INFO - Product data - Title: Unknown Product, Features count: 1
2025-03-25 03:18:58,267 - workflow_orchestrator - INFO - Market data - Keywords count: 10, Competitors count: 5
2025-03-25 03:18:58,267 - workflow_orchestrator - INFO - Category data - Categories count: 3, Segments count: 4
2025-03-25 03:18:58,267 - workflow_orchestrator - INFO - No analysis request or URL detected, maintaining conversation mode
2025-03-25 03:18:58,267 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:18:58,267 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:18:58,267 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:18:59,543 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:18:59,545 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:18:59,546 - api - INFO - API: Message processed, new stage: initial
2025-03-25 03:22:56,475 - api - INFO - API: Starting new conversation
2025-03-25 03:22:56,475 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 03:22:56,475 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 03:22:56,475 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:22:56,475 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:22:56,475 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:22:57,948 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:22:57,952 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:22:57,952 - workflow_orchestrator - INFO - Conversation started
2025-03-25 03:22:57,952 - api - INFO - API: Conversation started successfully
2025-03-25 03:23:05,842 - api - INFO - API: Processing message in stage: initial
2025-03-25 03:23:05,842 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 03:23:05,842 - workflow_orchestrator - INFO - Current data state - Product data exists: True, Market data exists: True, Category data exists: True, Final results exists: True
2025-03-25 03:23:05,842 - workflow_orchestrator - INFO - Product data - Title: Unknown Product, Features count: 1
2025-03-25 03:23:05,842 - workflow_orchestrator - INFO - Market data - Keywords count: 10, Competitors count: 5
2025-03-25 03:23:05,842 - workflow_orchestrator - INFO - Category data - Categories count: 3, Segments count: 4
2025-03-25 03:23:05,842 - workflow_orchestrator - INFO - No analysis request or URL detected, maintaining conversation mode
2025-03-25 03:23:05,842 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:23:05,843 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:23:05,843 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:23:06,944 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:23:06,945 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:23:06,945 - api - INFO - API: Message processed, new stage: initial
2025-03-25 03:23:52,000 - api - INFO - API: Starting new conversation
2025-03-25 03:23:52,000 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 03:23:52,000 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 03:23:52,000 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:23:52,000 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:23:52,000 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:23:53,245 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:23:53,246 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:23:53,246 - workflow_orchestrator - INFO - Conversation started
2025-03-25 03:23:53,246 - api - INFO - API: Conversation started successfully
2025-03-25 03:25:06,873 - api - INFO - API: Starting new conversation
2025-03-25 03:25:06,873 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 03:25:06,873 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 03:25:06,873 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:25:06,873 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:25:06,873 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:25:07,982 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:25:07,997 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:25:07,997 - workflow_orchestrator - INFO - Conversation started
2025-03-25 03:25:07,997 - api - INFO - API: Conversation started successfully
2025-03-25 03:25:12,503 - api - INFO - API: Processing message in stage: initial
2025-03-25 03:25:12,503 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 03:25:12,504 - workflow_orchestrator - INFO - Current data state - Product data exists: True, Market data exists: True, Category data exists: True, Final results exists: True
2025-03-25 03:25:12,504 - workflow_orchestrator - INFO - Product data - Title: Unknown Product, Features count: 1
2025-03-25 03:25:12,504 - workflow_orchestrator - INFO - Market data - Keywords count: 10, Competitors count: 5
2025-03-25 03:25:12,504 - workflow_orchestrator - INFO - Category data - Categories count: 3, Segments count: 4
2025-03-25 03:25:12,504 - workflow_orchestrator - INFO - No analysis request or URL detected, maintaining conversation mode
2025-03-25 03:25:12,504 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:25:12,504 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:25:12,504 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:25:13,512 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:25:13,513 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:25:13,514 - api - INFO - API: Message processed, new stage: initial
2025-03-25 03:27:11,319 - api - INFO - API: Starting new conversation
2025-03-25 03:27:11,319 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 03:27:11,320 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 03:27:11,320 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:27:11,320 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:27:11,320 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:27:13,335 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:27:13,336 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:27:13,336 - workflow_orchestrator - INFO - Conversation started
2025-03-25 03:27:13,336 - api - INFO - API: Conversation started successfully
2025-03-25 03:27:19,913 - api - INFO - API: Processing message in stage: initial
2025-03-25 03:27:19,913 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 03:27:19,913 - workflow_orchestrator - INFO - Current data state - Product data exists: True, Market data exists: True, Category data exists: True, Final results exists: True
2025-03-25 03:27:19,913 - workflow_orchestrator - INFO - Product data - Title: Unknown Product, Features count: 1
2025-03-25 03:27:19,913 - workflow_orchestrator - INFO - Market data - Keywords count: 10, Competitors count: 5
2025-03-25 03:27:19,913 - workflow_orchestrator - INFO - Category data - Categories count: 3, Segments count: 4
2025-03-25 03:27:19,913 - workflow_orchestrator - INFO - No analysis request or URL detected, maintaining conversation mode
2025-03-25 03:27:19,913 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:27:19,913 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:27:19,913 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:27:20,808 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:27:20,811 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:27:20,811 - api - INFO - API: Message processed, new stage: initial
2025-03-25 03:27:34,129 - api - INFO - API: Processing message in stage: initial
2025-03-25 03:27:34,129 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 03:27:34,129 - workflow_orchestrator - INFO - Current data state - Product data exists: True, Market data exists: True, Category data exists: True, Final results exists: True
2025-03-25 03:27:34,129 - workflow_orchestrator - INFO - Product data - Title: Unknown Product, Features count: 1
2025-03-25 03:27:34,129 - workflow_orchestrator - INFO - Market data - Keywords count: 10, Competitors count: 5
2025-03-25 03:27:34,129 - workflow_orchestrator - INFO - Category data - Categories count: 3, Segments count: 4
2025-03-25 03:27:34,129 - workflow_orchestrator - INFO - Analysis requested with URL, starting workflow
2025-03-25 03:27:34,129 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-25 03:27:34,129 - workflow_orchestrator - INFO - Analyzing URL: https://thesleepcompany.in/
2025-03-25 03:27:34,129 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-25 03:27:34,129 - tools - INFO - Executing tool requested: firecrawler
2025-03-25 03:27:34,129 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://thesleepcompany.in/', 'depth': 2}
2025-03-25 03:27:34,129 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://thesleepcompany.in/, depth: 2
2025-03-25 03:27:34,129 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://thesleepcompany.in/
2025-03-25 03:27:42,448 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://thesleepcompany.in/
2025-03-25 03:27:42,448 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://thesleepcompany.in/
2025-03-25 03:27:42,448 - tools.firecrawler_tool - INFO - Product title: 
2025-03-25 03:27:42,448 - tools.firecrawler_tool - INFO - Product price: 
2025-03-25 03:27:42,448 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-25 03:27:42,448 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-25 03:27:42,448 - workflow_orchestrator - WARNING - Product data missing title
2025-03-25 03:27:42,448 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-25 03:27:42,449 - workflow_orchestrator - WARNING - Product data missing description
2025-03-25 03:27:42,449 - workflow_orchestrator - INFO - Generating response with product information
2025-03-25 03:27:42,449 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:27:42,449 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:27:42,449 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:27:43,523 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:27:43,524 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:27:43,524 - workflow_orchestrator - INFO - Advancing workflow stage to market_research
2025-03-25 03:27:43,524 - workflow_orchestrator - INFO - Starting market research
2025-03-25 03:27:43,524 - workflow_orchestrator - INFO - Using product title for market research: 'Unknown Product'
2025-03-25 03:27:43,524 - workflow_orchestrator - INFO - Executing SERP analysis for query: 'Unknown Product'
2025-03-25 03:27:43,524 - tools - INFO - Executing tool requested: serp_analysis
2025-03-25 03:27:43,524 - tools - INFO - Executing tool: serp_analysis with parameters: {'query': 'Unknown Product', 'results_count': 10}
2025-03-25 03:27:43,524 - tools.serp_analysis_tool - INFO - Using SerpAPI to analyze query: Unknown Product
2025-03-25 03:27:43,826 - tools.serp_analysis_tool - INFO - Successfully analyzed market data for query: Unknown Product
2025-03-25 03:27:43,826 - tools.serp_analysis_tool - INFO - Found 5 competitors and 10 keywords
2025-03-25 03:27:43,826 - tools - INFO - Tool execution completed: serp_analysis, success: True
2025-03-25 03:27:43,826 - workflow_orchestrator - INFO - Successfully completed market research, storing results
2025-03-25 03:27:43,826 - workflow_orchestrator - INFO - Generating response with market information
2025-03-25 03:27:43,827 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:27:43,827 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-25 03:27:43,827 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:27:57,660 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:27:57,661 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:27:57,662 - workflow_orchestrator - INFO - Advancing workflow stage to category_mapping
2025-03-25 03:27:57,662 - workflow_orchestrator - INFO - Starting optimized category mapping
2025-03-25 03:27:57,662 - workflow_orchestrator - INFO - Getting all marketing categories
2025-03-25 03:27:57,662 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:27:57,662 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_toplevel'}
2025-03-25 03:27:57,662 - tools.category_tree_tool - INFO - Getting all top-level categories for LLM to choose from
2025-03-25 03:27:57,662 - tools.category_tree_tool - INFO - Getting all top-level categories
2025-03-25 03:27:57,662 - tools.category_tree_tool - INFO - Found 8 top-level categories
2025-03-25 03:27:57,662 - tools.category_tree_tool - INFO - Returning 8 top-level categories for LLM exploration
2025-03-25 03:27:57,662 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:27:57,662 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:27:57,662 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Behaviors'}
2025-03-25 03:27:57,662 - tools.category_tree_tool - INFO - Getting subcategories for category: Behaviors
2025-03-25 03:27:57,662 - tools.category_tree_tool - INFO - Looking for subcategories of: Behaviors
2025-03-25 03:27:57,662 - tools.category_tree_tool - INFO - Found 3 subcategories for Behaviors
2025-03-25 03:27:57,662 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Behaviors
2025-03-25 03:27:57,662 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:27:57,662 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:27:57,663 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Demographics'}
2025-03-25 03:27:57,663 - tools.category_tree_tool - INFO - Getting subcategories for category: Demographics
2025-03-25 03:27:57,663 - tools.category_tree_tool - INFO - Looking for subcategories of: Demographics
2025-03-25 03:27:57,663 - tools.category_tree_tool - INFO - Found 1 subcategories for Demographics
2025-03-25 03:27:57,663 - tools.category_tree_tool - INFO - Returning 1 subcategories for parent category: Demographics
2025-03-25 03:27:57,663 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:27:57,663 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:27:57,663 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Financial'}
2025-03-25 03:27:57,663 - tools.category_tree_tool - INFO - Getting subcategories for category: Financial
2025-03-25 03:27:57,663 - tools.category_tree_tool - INFO - Looking for subcategories of: Financial
2025-03-25 03:27:57,663 - tools.category_tree_tool - INFO - Found 3 subcategories for Financial
2025-03-25 03:27:57,663 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Financial
2025-03-25 03:27:57,663 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:27:57,663 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:27:57,663 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Home'}
2025-03-25 03:27:57,663 - tools.category_tree_tool - INFO - Getting subcategories for category: Home
2025-03-25 03:27:57,663 - tools.category_tree_tool - INFO - Looking for subcategories of: Home
2025-03-25 03:27:57,663 - tools.category_tree_tool - INFO - Found 3 subcategories for Home
2025-03-25 03:27:57,663 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Home
2025-03-25 03:27:57,663 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:27:57,664 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:27:57,664 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Interests'}
2025-03-25 03:27:57,664 - tools.category_tree_tool - INFO - Getting subcategories for category: Interests
2025-03-25 03:27:57,664 - tools.category_tree_tool - INFO - Looking for subcategories of: Interests
2025-03-25 03:27:57,664 - tools.category_tree_tool - INFO - Found 2 subcategories for Interests
2025-03-25 03:27:57,664 - tools.category_tree_tool - INFO - Returning 2 subcategories for parent category: Interests
2025-03-25 03:27:57,664 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:27:57,664 - workflow_orchestrator - INFO - Making single comprehensive LLM call for category analysis
2025-03-25 03:28:09,962 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:28:09,963 - workflow_orchestrator - INFO - Generating response with category information
2025-03-25 03:28:09,964 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:28:09,964 - workflow_orchestrator - INFO - Using system prompt for stage: category_mapping
2025-03-25 03:28:09,964 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:28:23,470 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:28:23,472 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:28:23,472 - workflow_orchestrator - INFO - Advancing workflow stage to audience_segmentation
2025-03-25 03:28:23,472 - workflow_orchestrator - INFO - Generating audience segments
2025-03-25 03:28:23,472 - workflow_orchestrator - INFO - Found 3 audience segments in category data
2025-03-25 03:28:23,472 - workflow_orchestrator - INFO - Segment 1: Health-Conscious Professionals
2025-03-25 03:28:23,472 - workflow_orchestrator - INFO - Segment 2: Leisure Seekers
2025-03-25 03:28:23,472 - workflow_orchestrator - INFO - Segment 3: Educated Consumers
2025-03-25 03:28:23,472 - workflow_orchestrator - INFO - Generating response with audience segments
2025-03-25 03:28:23,473 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:28:23,473 - workflow_orchestrator - INFO - Using system prompt for stage: audience_segmentation
2025-03-25 03:28:23,473 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:28:46,702 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:28:46,704 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:28:46,704 - workflow_orchestrator - INFO - Advancing workflow stage to marketing_strategy
2025-03-25 03:28:46,704 - workflow_orchestrator - INFO - Generating marketing strategies
2025-03-25 03:28:46,704 - workflow_orchestrator - INFO - Creating marketing strategies prompt
2025-03-25 03:28:46,704 - workflow_orchestrator - INFO - Calling _generate_marketing_strategies method
2025-03-25 03:28:46,704 - workflow_orchestrator - INFO - Generating marketing strategies with GPT-4
2025-03-25 03:28:59,099 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:28:59,101 - workflow_orchestrator - INFO - Received marketing strategies response from GPT-4o-mini
2025-03-25 03:28:59,101 - workflow_orchestrator - INFO - Parsed 6 marketing strategies
2025-03-25 03:28:59,101 - workflow_orchestrator - INFO - Generated 6 marketing strategies
2025-03-25 03:28:59,101 - workflow_orchestrator - INFO - Creating response with marketing strategies
2025-03-25 03:28:59,101 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:28:59,101 - workflow_orchestrator - INFO - Using system prompt for stage: marketing_strategy
2025-03-25 03:28:59,101 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:29:16,359 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:29:16,397 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:29:16,397 - workflow_orchestrator - INFO - Advancing workflow stage to final_summary
2025-03-25 03:29:16,397 - workflow_orchestrator - INFO - Generating final summary
2025-03-25 03:29:16,397 - workflow_orchestrator - INFO - Creating final summary for product: Unknown Product
2025-03-25 03:29:16,397 - workflow_orchestrator - INFO - Final summary generated successfully
2025-03-25 03:29:16,397 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:29:16,397 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-25 03:29:16,397 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:29:18,085 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:29:18,086 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:29:18,086 - api - INFO - API: Message processed, new stage: final_summary
2025-03-25 03:31:01,624 - api - INFO - API: Processing message in stage: final_summary
2025-03-25 03:31:01,624 - workflow_orchestrator - INFO - Processing user message in stage: final_summary
2025-03-25 03:31:01,624 - workflow_orchestrator - INFO - Current data state - Product data exists: True, Market data exists: True, Category data exists: True, Final results exists: True
2025-03-25 03:31:01,624 - workflow_orchestrator - INFO - Product data - Title: Unknown Product, Features count: 1
2025-03-25 03:31:01,624 - workflow_orchestrator - INFO - Market data - Keywords count: 10, Competitors count: 5
2025-03-25 03:31:01,625 - workflow_orchestrator - INFO - Category data - Categories count: 3, Segments count: 3
2025-03-25 03:31:01,625 - workflow_orchestrator - INFO - In final_summary stage, processing follow-up question
2025-03-25 03:31:01,625 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:31:01,625 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-25 03:31:01,625 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:31:12,846 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:31:12,847 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:31:12,848 - api - INFO - API: Message processed, new stage: final_summary
2025-03-25 03:32:56,570 - api - INFO - API: Starting new conversation
2025-03-25 03:32:56,571 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 03:32:56,571 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 03:32:56,571 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:32:56,571 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:32:56,571 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:32:57,479 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:32:57,480 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:32:57,480 - workflow_orchestrator - INFO - Conversation started
2025-03-25 03:32:57,480 - api - INFO - API: Conversation started successfully
2025-03-25 03:33:01,196 - api - INFO - API: Processing message in stage: initial
2025-03-25 03:33:01,196 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 03:33:01,197 - workflow_orchestrator - INFO - Current data state - Product data exists: True, Market data exists: True, Category data exists: True, Final results exists: True
2025-03-25 03:33:01,197 - workflow_orchestrator - INFO - Product data - Title: Unknown Product, Features count: 1
2025-03-25 03:33:01,197 - workflow_orchestrator - INFO - Market data - Keywords count: 10, Competitors count: 5
2025-03-25 03:33:01,197 - workflow_orchestrator - INFO - Category data - Categories count: 3, Segments count: 3
2025-03-25 03:33:01,197 - workflow_orchestrator - INFO - No analysis request or URL detected, maintaining conversation mode
2025-03-25 03:33:01,197 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:33:01,197 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:33:01,197 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:33:02,067 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:33:02,068 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:33:02,068 - api - INFO - API: Message processed, new stage: initial
2025-03-25 03:39:57,122 - api - INFO - API: Processing message in stage: initial
2025-03-25 03:39:57,122 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 03:39:57,122 - workflow_orchestrator - INFO - Current data state - Product data exists: True, Market data exists: True, Category data exists: True, Final results exists: True
2025-03-25 03:39:57,122 - workflow_orchestrator - INFO - Product data - Title: Unknown Product, Features count: 1
2025-03-25 03:39:57,122 - workflow_orchestrator - INFO - Market data - Keywords count: 10, Competitors count: 5
2025-03-25 03:39:57,122 - workflow_orchestrator - INFO - Category data - Categories count: 3, Segments count: 3
2025-03-25 03:39:57,122 - workflow_orchestrator - INFO - Analysis requested with URL, starting workflow
2025-03-25 03:39:57,122 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-25 03:39:57,122 - workflow_orchestrator - INFO - Analyzing URL: https://thesleepcompany.in/
2025-03-25 03:39:57,122 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-25 03:39:57,122 - tools - INFO - Executing tool requested: firecrawler
2025-03-25 03:39:57,122 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://thesleepcompany.in/', 'depth': 2}
2025-03-25 03:39:57,122 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://thesleepcompany.in/, depth: 2
2025-03-25 03:39:57,123 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://thesleepcompany.in/
2025-03-25 03:40:02,493 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://thesleepcompany.in/
2025-03-25 03:40:02,493 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://thesleepcompany.in/
2025-03-25 03:40:02,493 - tools.firecrawler_tool - INFO - Product title: 
2025-03-25 03:40:02,493 - tools.firecrawler_tool - INFO - Product price: 
2025-03-25 03:40:02,494 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-25 03:40:02,494 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-25 03:40:02,494 - workflow_orchestrator - WARNING - Product data missing title
2025-03-25 03:40:02,494 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-25 03:40:02,494 - workflow_orchestrator - WARNING - Product data missing description
2025-03-25 03:40:02,494 - workflow_orchestrator - INFO - Generating response with product information
2025-03-25 03:40:02,494 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:40:02,494 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:40:02,494 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:40:04,059 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:40:04,060 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:40:04,060 - workflow_orchestrator - INFO - Advancing workflow stage to market_research
2025-03-25 03:40:04,060 - workflow_orchestrator - INFO - Starting market research
2025-03-25 03:40:04,060 - workflow_orchestrator - INFO - Using product title for market research: 'Unknown Product'
2025-03-25 03:40:04,060 - workflow_orchestrator - INFO - Executing SERP analysis for query: 'Unknown Product'
2025-03-25 03:40:04,060 - tools - INFO - Executing tool requested: serp_analysis
2025-03-25 03:40:04,060 - tools - INFO - Executing tool: serp_analysis with parameters: {'query': 'Unknown Product', 'results_count': 10}
2025-03-25 03:40:04,060 - tools.serp_analysis_tool - INFO - Using SerpAPI to analyze query: Unknown Product
2025-03-25 03:40:04,663 - tools.serp_analysis_tool - INFO - Successfully analyzed market data for query: Unknown Product
2025-03-25 03:40:04,663 - tools.serp_analysis_tool - INFO - Found 5 competitors and 10 keywords
2025-03-25 03:40:04,663 - tools - INFO - Tool execution completed: serp_analysis, success: True
2025-03-25 03:40:04,663 - workflow_orchestrator - INFO - Successfully completed market research, storing results
2025-03-25 03:40:04,663 - workflow_orchestrator - INFO - Generating response with market information
2025-03-25 03:40:04,663 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:40:04,663 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-25 03:40:04,663 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:40:19,062 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:40:19,073 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:40:19,073 - workflow_orchestrator - INFO - Advancing workflow stage to category_mapping
2025-03-25 03:40:19,073 - workflow_orchestrator - INFO - Starting optimized category mapping
2025-03-25 03:40:19,073 - workflow_orchestrator - INFO - Getting all marketing categories
2025-03-25 03:40:19,073 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:40:19,073 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_toplevel'}
2025-03-25 03:40:19,073 - tools.category_tree_tool - INFO - Getting all top-level categories for LLM to choose from
2025-03-25 03:40:19,073 - tools.category_tree_tool - INFO - Getting all top-level categories
2025-03-25 03:40:19,073 - tools.category_tree_tool - INFO - Found 8 top-level categories
2025-03-25 03:40:19,073 - tools.category_tree_tool - INFO - Returning 8 top-level categories for LLM exploration
2025-03-25 03:40:19,073 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:40:19,074 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:40:19,074 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Behaviors'}
2025-03-25 03:40:19,074 - tools.category_tree_tool - INFO - Getting subcategories for category: Behaviors
2025-03-25 03:40:19,074 - tools.category_tree_tool - INFO - Looking for subcategories of: Behaviors
2025-03-25 03:40:19,074 - tools.category_tree_tool - INFO - Found 3 subcategories for Behaviors
2025-03-25 03:40:19,074 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Behaviors
2025-03-25 03:40:19,074 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:40:19,074 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:40:19,074 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Demographics'}
2025-03-25 03:40:19,074 - tools.category_tree_tool - INFO - Getting subcategories for category: Demographics
2025-03-25 03:40:19,074 - tools.category_tree_tool - INFO - Looking for subcategories of: Demographics
2025-03-25 03:40:19,074 - tools.category_tree_tool - INFO - Found 1 subcategories for Demographics
2025-03-25 03:40:19,074 - tools.category_tree_tool - INFO - Returning 1 subcategories for parent category: Demographics
2025-03-25 03:40:19,074 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:40:19,074 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:40:19,074 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Financial'}
2025-03-25 03:40:19,074 - tools.category_tree_tool - INFO - Getting subcategories for category: Financial
2025-03-25 03:40:19,074 - tools.category_tree_tool - INFO - Looking for subcategories of: Financial
2025-03-25 03:40:19,074 - tools.category_tree_tool - INFO - Found 3 subcategories for Financial
2025-03-25 03:40:19,074 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Financial
2025-03-25 03:40:19,074 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:40:19,075 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:40:19,075 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Home'}
2025-03-25 03:40:19,075 - tools.category_tree_tool - INFO - Getting subcategories for category: Home
2025-03-25 03:40:19,075 - tools.category_tree_tool - INFO - Looking for subcategories of: Home
2025-03-25 03:40:19,075 - tools.category_tree_tool - INFO - Found 3 subcategories for Home
2025-03-25 03:40:19,075 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Home
2025-03-25 03:40:19,075 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:40:19,075 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:40:19,075 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Interests'}
2025-03-25 03:40:19,075 - tools.category_tree_tool - INFO - Getting subcategories for category: Interests
2025-03-25 03:40:19,075 - tools.category_tree_tool - INFO - Looking for subcategories of: Interests
2025-03-25 03:40:19,075 - tools.category_tree_tool - INFO - Found 2 subcategories for Interests
2025-03-25 03:40:19,075 - tools.category_tree_tool - INFO - Returning 2 subcategories for parent category: Interests
2025-03-25 03:40:19,075 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:40:19,076 - workflow_orchestrator - INFO - Making single comprehensive LLM call for category analysis
2025-03-25 03:40:29,621 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:40:29,634 - workflow_orchestrator - INFO - Generating response with category information
2025-03-25 03:40:29,634 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:40:29,634 - workflow_orchestrator - INFO - Using system prompt for stage: category_mapping
2025-03-25 03:40:29,634 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:40:42,525 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:40:42,551 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:40:42,552 - workflow_orchestrator - INFO - Advancing workflow stage to audience_segmentation
2025-03-25 03:40:42,552 - workflow_orchestrator - INFO - Generating audience segments
2025-03-25 03:40:42,552 - workflow_orchestrator - INFO - Found 4 audience segments in category data
2025-03-25 03:40:42,552 - workflow_orchestrator - INFO - Segment 1: Online Shoppers
2025-03-25 03:40:42,552 - workflow_orchestrator - INFO - Segment 2: Affluent Homeowners
2025-03-25 03:40:42,552 - workflow_orchestrator - INFO - Segment 3: Design Enthusiasts
2025-03-25 03:40:42,552 - workflow_orchestrator - INFO - Segment 4: Young Professionals
2025-03-25 03:40:42,552 - workflow_orchestrator - INFO - Generating response with audience segments
2025-03-25 03:40:42,552 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:40:42,552 - workflow_orchestrator - INFO - Using system prompt for stage: audience_segmentation
2025-03-25 03:40:42,552 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:40:58,822 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:40:58,824 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:40:58,824 - workflow_orchestrator - INFO - Advancing workflow stage to marketing_strategy
2025-03-25 03:40:58,824 - workflow_orchestrator - INFO - Generating marketing strategies
2025-03-25 03:40:58,824 - workflow_orchestrator - INFO - Creating marketing strategies prompt
2025-03-25 03:40:58,824 - workflow_orchestrator - INFO - Calling _generate_marketing_strategies method
2025-03-25 03:40:58,824 - workflow_orchestrator - INFO - Generating marketing strategies with GPT-4
2025-03-25 03:41:12,939 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:41:12,940 - workflow_orchestrator - INFO - Received marketing strategies response from GPT-4o-mini
2025-03-25 03:41:12,940 - workflow_orchestrator - INFO - Parsed 7 marketing strategies
2025-03-25 03:41:12,940 - workflow_orchestrator - INFO - Generated 7 marketing strategies
2025-03-25 03:41:12,940 - workflow_orchestrator - INFO - Creating response with marketing strategies
2025-03-25 03:41:12,940 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:41:12,940 - workflow_orchestrator - INFO - Using system prompt for stage: marketing_strategy
2025-03-25 03:41:12,940 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:41:27,674 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:41:27,682 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:41:27,683 - workflow_orchestrator - INFO - Advancing workflow stage to final_summary
2025-03-25 03:41:27,683 - workflow_orchestrator - INFO - Generating final summary
2025-03-25 03:41:27,683 - workflow_orchestrator - INFO - Creating final summary for product: Unknown Product
2025-03-25 03:41:27,683 - workflow_orchestrator - INFO - Final summary generated successfully
2025-03-25 03:41:27,683 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:41:27,683 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-25 03:41:27,683 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:41:29,769 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:41:29,771 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:41:29,771 - api - INFO - API: Message processed, new stage: final_summary
2025-03-25 03:44:32,670 - api - INFO - API: Starting new conversation
2025-03-25 03:44:32,671 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 03:44:32,671 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 03:44:32,671 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:44:32,671 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:44:32,671 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:44:33,412 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:44:33,413 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:44:33,413 - workflow_orchestrator - INFO - Conversation started
2025-03-25 03:44:33,413 - api - INFO - API: Conversation started successfully
2025-03-25 03:44:36,758 - api - INFO - API: Processing message in stage: initial
2025-03-25 03:44:36,758 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 03:44:36,758 - workflow_orchestrator - INFO - Current data state - Product data exists: True, Market data exists: True, Category data exists: True, Final results exists: True
2025-03-25 03:44:36,758 - workflow_orchestrator - INFO - Product data - Title: Unknown Product, Features count: 1
2025-03-25 03:44:36,758 - workflow_orchestrator - INFO - Market data - Keywords count: 10, Competitors count: 5
2025-03-25 03:44:36,758 - workflow_orchestrator - INFO - Category data - Categories count: 3, Segments count: 4
2025-03-25 03:44:36,758 - workflow_orchestrator - INFO - No analysis request or URL detected, maintaining conversation mode
2025-03-25 03:44:36,758 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:44:36,758 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:44:36,758 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:44:37,636 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:44:37,638 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:44:37,638 - api - INFO - API: Message processed, new stage: initial
2025-03-25 03:44:49,851 - api - INFO - API: Processing message in stage: initial
2025-03-25 03:44:49,851 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 03:44:49,851 - workflow_orchestrator - INFO - Current data state - Product data exists: True, Market data exists: True, Category data exists: True, Final results exists: True
2025-03-25 03:44:49,851 - workflow_orchestrator - INFO - Product data - Title: Unknown Product, Features count: 1
2025-03-25 03:44:49,851 - workflow_orchestrator - INFO - Market data - Keywords count: 10, Competitors count: 5
2025-03-25 03:44:49,851 - workflow_orchestrator - INFO - Category data - Categories count: 3, Segments count: 4
2025-03-25 03:44:49,851 - workflow_orchestrator - INFO - Analysis requested with URL, starting workflow
2025-03-25 03:44:49,851 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-25 03:44:49,851 - workflow_orchestrator - INFO - Analyzing URL: https://thesleepcompany.in/
2025-03-25 03:44:49,851 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-25 03:44:49,851 - tools - INFO - Executing tool requested: firecrawler
2025-03-25 03:44:49,851 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://thesleepcompany.in/', 'depth': 2}
2025-03-25 03:44:49,851 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://thesleepcompany.in/, depth: 2
2025-03-25 03:44:49,851 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://thesleepcompany.in/
2025-03-25 03:44:54,285 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://thesleepcompany.in/
2025-03-25 03:44:54,285 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://thesleepcompany.in/
2025-03-25 03:44:54,285 - tools.firecrawler_tool - INFO - Product title: 
2025-03-25 03:44:54,285 - tools.firecrawler_tool - INFO - Product price: 
2025-03-25 03:44:54,285 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-25 03:44:54,286 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-25 03:44:54,286 - workflow_orchestrator - WARNING - Product data missing title
2025-03-25 03:44:54,286 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-25 03:44:54,286 - workflow_orchestrator - WARNING - Product data missing description
2025-03-25 03:44:54,286 - workflow_orchestrator - INFO - Generating response with product information
2025-03-25 03:44:54,286 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:44:54,286 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 03:44:54,286 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:44:55,760 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:44:55,761 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:44:55,761 - workflow_orchestrator - INFO - Advancing workflow stage to market_research
2025-03-25 03:44:55,761 - workflow_orchestrator - INFO - Starting market research
2025-03-25 03:44:55,762 - workflow_orchestrator - INFO - Using product title for market research: 'Unknown Product'
2025-03-25 03:44:55,762 - workflow_orchestrator - INFO - Executing SERP analysis for query: 'Unknown Product'
2025-03-25 03:44:55,762 - tools - INFO - Executing tool requested: serp_analysis
2025-03-25 03:44:55,762 - tools - INFO - Executing tool: serp_analysis with parameters: {'query': 'Unknown Product', 'results_count': 10}
2025-03-25 03:44:55,762 - tools.serp_analysis_tool - INFO - Using SerpAPI to analyze query: Unknown Product
2025-03-25 03:44:55,924 - tools.serp_analysis_tool - INFO - Successfully analyzed market data for query: Unknown Product
2025-03-25 03:44:55,924 - tools.serp_analysis_tool - INFO - Found 5 competitors and 10 keywords
2025-03-25 03:44:55,924 - tools - INFO - Tool execution completed: serp_analysis, success: True
2025-03-25 03:44:55,924 - workflow_orchestrator - INFO - Successfully completed market research, storing results
2025-03-25 03:44:55,924 - workflow_orchestrator - INFO - Generating response with market information
2025-03-25 03:44:55,925 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:44:55,925 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-25 03:44:55,925 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:45:10,197 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:45:10,198 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:45:10,198 - workflow_orchestrator - INFO - Advancing workflow stage to category_mapping
2025-03-25 03:45:10,198 - workflow_orchestrator - INFO - Starting optimized category mapping
2025-03-25 03:45:10,198 - workflow_orchestrator - INFO - Getting all marketing categories
2025-03-25 03:45:10,198 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:45:10,198 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_toplevel'}
2025-03-25 03:45:10,198 - tools.category_tree_tool - INFO - Getting all top-level categories for LLM to choose from
2025-03-25 03:45:10,198 - tools.category_tree_tool - INFO - Getting all top-level categories
2025-03-25 03:45:10,198 - tools.category_tree_tool - INFO - Found 8 top-level categories
2025-03-25 03:45:10,198 - tools.category_tree_tool - INFO - Returning 8 top-level categories for LLM exploration
2025-03-25 03:45:10,198 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:45:10,199 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:45:10,199 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Behaviors'}
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Getting subcategories for category: Behaviors
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Looking for subcategories of: Behaviors
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Found 3 subcategories for Behaviors
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Behaviors
2025-03-25 03:45:10,199 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:45:10,199 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:45:10,199 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Demographics'}
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Getting subcategories for category: Demographics
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Looking for subcategories of: Demographics
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Found 1 subcategories for Demographics
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Returning 1 subcategories for parent category: Demographics
2025-03-25 03:45:10,199 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:45:10,199 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:45:10,199 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Financial'}
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Getting subcategories for category: Financial
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Looking for subcategories of: Financial
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Found 3 subcategories for Financial
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Financial
2025-03-25 03:45:10,199 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:45:10,199 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:45:10,199 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Home'}
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Getting subcategories for category: Home
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Looking for subcategories of: Home
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Found 3 subcategories for Home
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Home
2025-03-25 03:45:10,199 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:45:10,199 - tools - INFO - Executing tool requested: category_tree
2025-03-25 03:45:10,199 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Interests'}
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Getting subcategories for category: Interests
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Looking for subcategories of: Interests
2025-03-25 03:45:10,199 - tools.category_tree_tool - INFO - Found 2 subcategories for Interests
2025-03-25 03:45:10,200 - tools.category_tree_tool - INFO - Returning 2 subcategories for parent category: Interests
2025-03-25 03:45:10,200 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 03:45:10,200 - workflow_orchestrator - INFO - Making single comprehensive LLM call for category analysis
2025-03-25 03:45:25,164 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:45:25,188 - workflow_orchestrator - INFO - Generating response with category information
2025-03-25 03:45:25,188 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:45:25,188 - workflow_orchestrator - INFO - Using system prompt for stage: category_mapping
2025-03-25 03:45:25,188 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:45:38,975 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:45:38,977 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:45:38,977 - workflow_orchestrator - INFO - Advancing workflow stage to audience_segmentation
2025-03-25 03:45:38,977 - workflow_orchestrator - INFO - Generating audience segments
2025-03-25 03:45:38,977 - workflow_orchestrator - INFO - Found 3 audience segments in category data
2025-03-25 03:45:38,977 - workflow_orchestrator - INFO - Segment 1: Health-Conscious Professionals
2025-03-25 03:45:38,977 - workflow_orchestrator - INFO - Segment 2: Leisure Seekers
2025-03-25 03:45:38,977 - workflow_orchestrator - INFO - Segment 3: Affluent Educated Consumers
2025-03-25 03:45:38,977 - workflow_orchestrator - INFO - Generating response with audience segments
2025-03-25 03:45:38,977 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:45:38,977 - workflow_orchestrator - INFO - Using system prompt for stage: audience_segmentation
2025-03-25 03:45:38,977 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:45:56,687 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:45:56,689 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:45:56,689 - workflow_orchestrator - INFO - Advancing workflow stage to marketing_strategy
2025-03-25 03:45:56,689 - workflow_orchestrator - INFO - Generating marketing strategies
2025-03-25 03:45:56,690 - workflow_orchestrator - INFO - Creating marketing strategies prompt
2025-03-25 03:45:56,690 - workflow_orchestrator - INFO - Calling _generate_marketing_strategies method
2025-03-25 03:45:56,690 - workflow_orchestrator - INFO - Generating marketing strategies with GPT-4
2025-03-25 03:46:09,072 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:46:09,074 - workflow_orchestrator - INFO - Received marketing strategies response from GPT-4o-mini
2025-03-25 03:46:09,074 - workflow_orchestrator - INFO - Parsed 7 marketing strategies
2025-03-25 03:46:09,074 - workflow_orchestrator - INFO - Generated 7 marketing strategies
2025-03-25 03:46:09,074 - workflow_orchestrator - INFO - Creating response with marketing strategies
2025-03-25 03:46:09,074 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:46:09,074 - workflow_orchestrator - INFO - Using system prompt for stage: marketing_strategy
2025-03-25 03:46:09,074 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:46:21,967 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:46:21,969 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:46:21,969 - workflow_orchestrator - INFO - Advancing workflow stage to final_summary
2025-03-25 03:46:21,969 - workflow_orchestrator - INFO - Generating final summary
2025-03-25 03:46:21,969 - workflow_orchestrator - INFO - Creating final summary for product: Unknown Product
2025-03-25 03:46:21,969 - workflow_orchestrator - INFO - Final summary generated successfully
2025-03-25 03:46:21,969 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 03:46:21,969 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-25 03:46:21,970 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 03:46:24,096 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 03:46:24,096 - workflow_orchestrator - INFO - Received AI response
2025-03-25 03:46:24,097 - api - INFO - API: Message processed, new stage: final_summary
2025-03-25 04:00:26,602 - api - INFO - API: Starting new conversation
2025-03-25 04:00:26,602 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 04:00:26,602 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 04:00:26,602 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:00:26,602 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 04:00:26,603 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:00:28,258 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:00:28,259 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:00:28,259 - workflow_orchestrator - INFO - Conversation started
2025-03-25 04:00:28,259 - api - INFO - API: Conversation started successfully
2025-03-25 04:00:50,771 - api - INFO - API: Processing message in stage: initial
2025-03-25 04:00:50,771 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 04:00:50,772 - workflow_orchestrator - INFO - Current data state - Product data exists: True, Market data exists: True, Category data exists: True, Final results exists: True
2025-03-25 04:00:50,772 - workflow_orchestrator - INFO - Product data - Title: Unknown Product, Features count: 1
2025-03-25 04:00:50,772 - workflow_orchestrator - INFO - Market data - Keywords count: 10, Competitors count: 5
2025-03-25 04:00:50,772 - workflow_orchestrator - INFO - Category data - Categories count: 3, Segments count: 3
2025-03-25 04:00:50,772 - workflow_orchestrator - INFO - Analysis requested but no URL provided
2025-03-25 04:00:50,772 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:00:50,772 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 04:00:50,772 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:00:51,705 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:00:51,706 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:00:51,706 - api - INFO - API: Message processed, new stage: initial
2025-03-25 04:00:58,451 - root - INFO - Firecrawl library imported successfully
2025-03-25 04:00:58,456 - root - INFO - SerpAPI library imported successfully
2025-03-25 04:00:58,458 - tools - INFO - Directly registering tool instances...
2025-03-25 04:00:58,458 - tools - INFO - Creating FirecrawlerTool instance
2025-03-25 04:00:58,458 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-25 04:00:58,458 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-25 04:00:58,458 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-25 04:00:58,459 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-25 04:00:58,459 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-25 04:00:58,459 - tools - INFO - Creating CategoryTreeTool instance
2025-03-25 04:00:58,460 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-25 04:00:58,460 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-25 04:00:58,460 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-25 04:00:58,460 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-25 04:00:58,460 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-25 04:00:58,462 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-25 04:00:58,462 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-25 04:00:58,462 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-25 04:00:58,489 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-25 04:00:58,489 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-25 04:00:58,489 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-25 04:00:58,489 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-25 04:00:58,489 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-25 04:00:58,489 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-25 04:00:58,489 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-25 04:01:03,096 - api - INFO - API: Starting new conversation
2025-03-25 04:01:03,096 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 04:01:03,096 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 04:01:03,096 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:01:03,096 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 04:01:03,096 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:01:04,594 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:01:04,597 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:01:04,597 - workflow_orchestrator - INFO - Conversation started
2025-03-25 04:01:04,597 - api - INFO - API: Conversation started successfully
2025-03-25 04:01:44,013 - api - INFO - API: Processing message in stage: initial
2025-03-25 04:01:44,013 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 04:01:44,013 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-25 04:01:44,013 - workflow_orchestrator - INFO - Analysis requested with URL, starting workflow
2025-03-25 04:01:44,014 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-25 04:01:44,014 - workflow_orchestrator - INFO - Analyzing URL: https://thesleepcompany.in/
2025-03-25 04:01:44,014 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-25 04:01:44,014 - tools - INFO - Executing tool requested: firecrawler
2025-03-25 04:01:44,014 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://thesleepcompany.in/', 'depth': 2}
2025-03-25 04:01:44,014 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://thesleepcompany.in/, depth: 2
2025-03-25 04:01:44,014 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://thesleepcompany.in/
2025-03-25 04:01:48,994 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://thesleepcompany.in/
2025-03-25 04:01:48,994 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://thesleepcompany.in/
2025-03-25 04:01:48,994 - tools.firecrawler_tool - INFO - Product title: 
2025-03-25 04:01:48,995 - tools.firecrawler_tool - INFO - Product price: 
2025-03-25 04:01:48,995 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-25 04:01:48,995 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-25 04:01:48,995 - workflow_orchestrator - WARNING - Product data missing title
2025-03-25 04:01:48,995 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-25 04:01:48,995 - workflow_orchestrator - WARNING - Product data missing description
2025-03-25 04:01:48,995 - workflow_orchestrator - INFO - Generating response with product information
2025-03-25 04:01:48,995 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:01:48,995 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 04:01:48,995 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:01:50,470 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:01:50,471 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:01:50,471 - workflow_orchestrator - INFO - Advancing workflow stage to market_research
2025-03-25 04:01:50,472 - workflow_orchestrator - INFO - Starting market research
2025-03-25 04:01:50,472 - workflow_orchestrator - INFO - Using product title for market research: 'Unknown Product'
2025-03-25 04:01:50,472 - workflow_orchestrator - INFO - Executing SERP analysis for query: 'Unknown Product'
2025-03-25 04:01:50,472 - tools - INFO - Executing tool requested: serp_analysis
2025-03-25 04:01:50,472 - tools - INFO - Executing tool: serp_analysis with parameters: {'query': 'Unknown Product', 'results_count': 10}
2025-03-25 04:01:50,472 - tools.serp_analysis_tool - INFO - Using SerpAPI to analyze query: Unknown Product
2025-03-25 04:01:50,683 - tools.serp_analysis_tool - INFO - Successfully analyzed market data for query: Unknown Product
2025-03-25 04:01:50,684 - tools.serp_analysis_tool - INFO - Found 5 competitors and 10 keywords
2025-03-25 04:01:50,684 - tools - INFO - Tool execution completed: serp_analysis, success: True
2025-03-25 04:01:50,684 - workflow_orchestrator - INFO - Successfully completed market research, storing results
2025-03-25 04:01:50,684 - workflow_orchestrator - INFO - Generating response with market information
2025-03-25 04:01:50,684 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:01:50,684 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-25 04:01:50,684 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:02:04,095 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:02:04,096 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:02:04,096 - workflow_orchestrator - INFO - Advancing workflow stage to category_mapping
2025-03-25 04:02:04,096 - workflow_orchestrator - INFO - Starting optimized category mapping
2025-03-25 04:02:04,097 - workflow_orchestrator - INFO - Getting all marketing categories
2025-03-25 04:02:04,097 - tools - INFO - Executing tool requested: category_tree
2025-03-25 04:02:04,097 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_toplevel'}
2025-03-25 04:02:04,097 - tools.category_tree_tool - INFO - Getting all top-level categories for LLM to choose from
2025-03-25 04:02:04,097 - tools.category_tree_tool - INFO - Getting all top-level categories
2025-03-25 04:02:04,097 - tools.category_tree_tool - INFO - Found 8 top-level categories
2025-03-25 04:02:04,097 - tools.category_tree_tool - INFO - Returning 8 top-level categories for LLM exploration
2025-03-25 04:02:04,097 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 04:02:04,097 - tools - INFO - Executing tool requested: category_tree
2025-03-25 04:02:04,097 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Behaviors'}
2025-03-25 04:02:04,097 - tools.category_tree_tool - INFO - Getting subcategories for category: Behaviors
2025-03-25 04:02:04,097 - tools.category_tree_tool - INFO - Looking for subcategories of: Behaviors
2025-03-25 04:02:04,097 - tools.category_tree_tool - INFO - Found 3 subcategories for Behaviors
2025-03-25 04:02:04,097 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Behaviors
2025-03-25 04:02:04,097 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 04:02:04,097 - tools - INFO - Executing tool requested: category_tree
2025-03-25 04:02:04,097 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Demographics'}
2025-03-25 04:02:04,097 - tools.category_tree_tool - INFO - Getting subcategories for category: Demographics
2025-03-25 04:02:04,097 - tools.category_tree_tool - INFO - Looking for subcategories of: Demographics
2025-03-25 04:02:04,097 - tools.category_tree_tool - INFO - Found 1 subcategories for Demographics
2025-03-25 04:02:04,097 - tools.category_tree_tool - INFO - Returning 1 subcategories for parent category: Demographics
2025-03-25 04:02:04,097 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 04:02:04,097 - tools - INFO - Executing tool requested: category_tree
2025-03-25 04:02:04,097 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Financial'}
2025-03-25 04:02:04,098 - tools.category_tree_tool - INFO - Getting subcategories for category: Financial
2025-03-25 04:02:04,098 - tools.category_tree_tool - INFO - Looking for subcategories of: Financial
2025-03-25 04:02:04,098 - tools.category_tree_tool - INFO - Found 3 subcategories for Financial
2025-03-25 04:02:04,098 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Financial
2025-03-25 04:02:04,098 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 04:02:04,098 - tools - INFO - Executing tool requested: category_tree
2025-03-25 04:02:04,098 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Home'}
2025-03-25 04:02:04,098 - tools.category_tree_tool - INFO - Getting subcategories for category: Home
2025-03-25 04:02:04,098 - tools.category_tree_tool - INFO - Looking for subcategories of: Home
2025-03-25 04:02:04,098 - tools.category_tree_tool - INFO - Found 3 subcategories for Home
2025-03-25 04:02:04,098 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Home
2025-03-25 04:02:04,098 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 04:02:04,098 - tools - INFO - Executing tool requested: category_tree
2025-03-25 04:02:04,098 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Interests'}
2025-03-25 04:02:04,098 - tools.category_tree_tool - INFO - Getting subcategories for category: Interests
2025-03-25 04:02:04,098 - tools.category_tree_tool - INFO - Looking for subcategories of: Interests
2025-03-25 04:02:04,098 - tools.category_tree_tool - INFO - Found 2 subcategories for Interests
2025-03-25 04:02:04,098 - tools.category_tree_tool - INFO - Returning 2 subcategories for parent category: Interests
2025-03-25 04:02:04,098 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 04:02:04,098 - workflow_orchestrator - INFO - Making single comprehensive LLM call for category analysis
2025-03-25 04:02:12,712 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:02:12,719 - workflow_orchestrator - INFO - Generating response with category information
2025-03-25 04:02:12,720 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:02:12,720 - workflow_orchestrator - INFO - Using system prompt for stage: category_mapping
2025-03-25 04:02:12,720 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:02:24,153 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:02:24,154 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:02:24,154 - workflow_orchestrator - INFO - Advancing workflow stage to audience_segmentation
2025-03-25 04:02:24,154 - workflow_orchestrator - INFO - Generating audience segments
2025-03-25 04:02:24,154 - workflow_orchestrator - INFO - Found 3 audience segments in category data
2025-03-25 04:02:24,154 - workflow_orchestrator - INFO - Segment 1: Online Home Goods Shoppers
2025-03-25 04:02:24,155 - workflow_orchestrator - INFO - Segment 2: Educated Homeowners
2025-03-25 04:02:24,155 - workflow_orchestrator - INFO - Segment 3: Urban Apartment Dwellers
2025-03-25 04:02:24,155 - workflow_orchestrator - INFO - Generating response with audience segments
2025-03-25 04:02:24,155 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:02:24,155 - workflow_orchestrator - INFO - Using system prompt for stage: audience_segmentation
2025-03-25 04:02:24,155 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:02:41,861 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:02:41,863 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:02:41,863 - workflow_orchestrator - INFO - Advancing workflow stage to marketing_strategy
2025-03-25 04:02:41,863 - workflow_orchestrator - INFO - Generating marketing strategies
2025-03-25 04:02:41,863 - workflow_orchestrator - INFO - Creating marketing strategies prompt
2025-03-25 04:02:41,863 - workflow_orchestrator - INFO - Calling _generate_marketing_strategies method
2025-03-25 04:02:41,863 - workflow_orchestrator - INFO - Generating marketing strategies with GPT-4
2025-03-25 04:02:54,773 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:02:54,775 - workflow_orchestrator - INFO - Received marketing strategies response from GPT-4o-mini
2025-03-25 04:02:54,775 - workflow_orchestrator - INFO - Parsed 7 marketing strategies
2025-03-25 04:02:54,776 - workflow_orchestrator - INFO - Generated 7 marketing strategies
2025-03-25 04:02:54,776 - workflow_orchestrator - INFO - Creating response with marketing strategies
2025-03-25 04:02:54,776 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:02:54,776 - workflow_orchestrator - INFO - Using system prompt for stage: marketing_strategy
2025-03-25 04:02:54,776 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:03:06,538 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:03:06,539 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:03:06,539 - workflow_orchestrator - INFO - Advancing workflow stage to final_summary
2025-03-25 04:03:06,540 - workflow_orchestrator - INFO - Generating final summary
2025-03-25 04:03:06,540 - workflow_orchestrator - INFO - Creating final summary for product: Unknown Product
2025-03-25 04:03:06,540 - workflow_orchestrator - INFO - Final summary generated successfully
2025-03-25 04:03:06,540 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:03:06,540 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-25 04:03:06,540 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:03:08,546 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:03:08,549 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:03:08,549 - api - INFO - API: Message processed, new stage: final_summary
2025-03-25 04:20:26,266 - api - INFO - API: Starting new conversation
2025-03-25 04:20:26,266 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 04:20:26,266 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 04:20:26,266 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:20:26,266 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 04:20:26,266 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:20:28,178 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:20:28,179 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:20:28,179 - workflow_orchestrator - INFO - Conversation started
2025-03-25 04:20:28,179 - api - INFO - API: Conversation started successfully
2025-03-25 04:20:42,473 - api - INFO - API: Resetting workflow
2025-03-25 04:20:42,473 - api - INFO - API: Workflow reset successfully
2025-03-25 04:20:42,476 - api - INFO - API: Starting new conversation
2025-03-25 04:20:42,476 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 04:20:42,476 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 04:20:42,476 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:20:42,476 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 04:20:42,476 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:20:44,158 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:20:44,164 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:20:44,164 - workflow_orchestrator - INFO - Conversation started
2025-03-25 04:20:44,164 - api - INFO - API: Conversation started successfully
2025-03-25 04:20:57,915 - api - INFO - API: Processing message in stage: initial
2025-03-25 04:20:57,915 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 04:20:57,915 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-25 04:20:57,915 - workflow_orchestrator - INFO - Analysis requested with URL, starting workflow
2025-03-25 04:20:57,915 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-25 04:20:57,915 - workflow_orchestrator - INFO - Analyzing URL: https://www.uber.com/in/en/
2025-03-25 04:20:57,915 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-25 04:20:57,916 - tools - INFO - Executing tool requested: firecrawler
2025-03-25 04:20:57,916 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://www.uber.com/in/en/', 'depth': 2}
2025-03-25 04:20:57,916 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://www.uber.com/in/en/, depth: 2
2025-03-25 04:20:57,916 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://www.uber.com/in/en/
2025-03-25 04:21:08,667 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://www.uber.com/in/en/
2025-03-25 04:21:08,667 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://www.uber.com/in/en/
2025-03-25 04:21:08,667 - tools.firecrawler_tool - INFO - Product title: 
2025-03-25 04:21:08,667 - tools.firecrawler_tool - INFO - Product price: 
2025-03-25 04:21:08,667 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-25 04:21:08,667 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-25 04:21:08,667 - workflow_orchestrator - WARNING - Product data missing title
2025-03-25 04:21:08,667 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-25 04:21:08,667 - workflow_orchestrator - WARNING - Product data missing description
2025-03-25 04:21:08,668 - workflow_orchestrator - INFO - Generating response with product information
2025-03-25 04:21:08,668 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:21:08,668 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 04:21:08,668 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:21:10,415 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:21:10,416 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:21:10,416 - workflow_orchestrator - INFO - Advancing workflow stage to market_research
2025-03-25 04:21:10,416 - workflow_orchestrator - INFO - Starting market research
2025-03-25 04:21:10,416 - workflow_orchestrator - INFO - Using product title for market research: 'Unknown Product'
2025-03-25 04:21:10,416 - workflow_orchestrator - INFO - Executing SERP analysis for query: 'Unknown Product'
2025-03-25 04:21:10,416 - tools - INFO - Executing tool requested: serp_analysis
2025-03-25 04:21:10,416 - tools - INFO - Executing tool: serp_analysis with parameters: {'query': 'Unknown Product', 'results_count': 10}
2025-03-25 04:21:10,416 - tools.serp_analysis_tool - INFO - Using SerpAPI to analyze query: Unknown Product
2025-03-25 04:21:10,898 - tools.serp_analysis_tool - INFO - Successfully analyzed market data for query: Unknown Product
2025-03-25 04:21:10,898 - tools.serp_analysis_tool - INFO - Found 5 competitors and 10 keywords
2025-03-25 04:21:10,898 - tools - INFO - Tool execution completed: serp_analysis, success: True
2025-03-25 04:21:10,898 - workflow_orchestrator - INFO - Successfully completed market research, storing results
2025-03-25 04:21:10,898 - workflow_orchestrator - INFO - Generating response with market information
2025-03-25 04:21:10,898 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:21:10,898 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-25 04:21:10,898 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:21:26,857 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:21:26,858 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:21:26,858 - workflow_orchestrator - INFO - Advancing workflow stage to category_mapping
2025-03-25 04:21:26,858 - workflow_orchestrator - INFO - Starting optimized category mapping
2025-03-25 04:21:26,858 - workflow_orchestrator - INFO - Getting all marketing categories
2025-03-25 04:21:26,858 - tools - INFO - Executing tool requested: category_tree
2025-03-25 04:21:26,859 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://www.uber.com/in/en/', 'mode': 'explore_toplevel'}
2025-03-25 04:21:26,859 - tools.category_tree_tool - INFO - Getting all top-level categories for LLM to choose from
2025-03-25 04:21:26,859 - tools.category_tree_tool - INFO - Getting all top-level categories
2025-03-25 04:21:26,859 - tools.category_tree_tool - INFO - Found 8 top-level categories
2025-03-25 04:21:26,859 - tools.category_tree_tool - INFO - Returning 8 top-level categories for LLM exploration
2025-03-25 04:21:26,859 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 04:21:26,859 - tools - INFO - Executing tool requested: category_tree
2025-03-25 04:21:26,859 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://www.uber.com/in/en/', 'mode': 'explore_subcategories', 'parent_category': 'Behaviors'}
2025-03-25 04:21:26,859 - tools.category_tree_tool - INFO - Getting subcategories for category: Behaviors
2025-03-25 04:21:26,859 - tools.category_tree_tool - INFO - Looking for subcategories of: Behaviors
2025-03-25 04:21:26,859 - tools.category_tree_tool - INFO - Found 3 subcategories for Behaviors
2025-03-25 04:21:26,859 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Behaviors
2025-03-25 04:21:26,859 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 04:21:26,859 - tools - INFO - Executing tool requested: category_tree
2025-03-25 04:21:26,859 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://www.uber.com/in/en/', 'mode': 'explore_subcategories', 'parent_category': 'Demographics'}
2025-03-25 04:21:26,859 - tools.category_tree_tool - INFO - Getting subcategories for category: Demographics
2025-03-25 04:21:26,859 - tools.category_tree_tool - INFO - Looking for subcategories of: Demographics
2025-03-25 04:21:26,859 - tools.category_tree_tool - INFO - Found 1 subcategories for Demographics
2025-03-25 04:21:26,859 - tools.category_tree_tool - INFO - Returning 1 subcategories for parent category: Demographics
2025-03-25 04:21:26,859 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 04:21:26,859 - tools - INFO - Executing tool requested: category_tree
2025-03-25 04:21:26,860 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://www.uber.com/in/en/', 'mode': 'explore_subcategories', 'parent_category': 'Financial'}
2025-03-25 04:21:26,860 - tools.category_tree_tool - INFO - Getting subcategories for category: Financial
2025-03-25 04:21:26,860 - tools.category_tree_tool - INFO - Looking for subcategories of: Financial
2025-03-25 04:21:26,860 - tools.category_tree_tool - INFO - Found 3 subcategories for Financial
2025-03-25 04:21:26,860 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Financial
2025-03-25 04:21:26,860 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 04:21:26,860 - tools - INFO - Executing tool requested: category_tree
2025-03-25 04:21:26,860 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://www.uber.com/in/en/', 'mode': 'explore_subcategories', 'parent_category': 'Home'}
2025-03-25 04:21:26,860 - tools.category_tree_tool - INFO - Getting subcategories for category: Home
2025-03-25 04:21:26,860 - tools.category_tree_tool - INFO - Looking for subcategories of: Home
2025-03-25 04:21:26,860 - tools.category_tree_tool - INFO - Found 3 subcategories for Home
2025-03-25 04:21:26,860 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Home
2025-03-25 04:21:26,860 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 04:21:26,860 - tools - INFO - Executing tool requested: category_tree
2025-03-25 04:21:26,860 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://www.uber.com/in/en/', 'mode': 'explore_subcategories', 'parent_category': 'Interests'}
2025-03-25 04:21:26,860 - tools.category_tree_tool - INFO - Getting subcategories for category: Interests
2025-03-25 04:21:26,860 - tools.category_tree_tool - INFO - Looking for subcategories of: Interests
2025-03-25 04:21:26,860 - tools.category_tree_tool - INFO - Found 2 subcategories for Interests
2025-03-25 04:21:26,860 - tools.category_tree_tool - INFO - Returning 2 subcategories for parent category: Interests
2025-03-25 04:21:26,860 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 04:21:26,860 - workflow_orchestrator - INFO - Making single comprehensive LLM call for category analysis
2025-03-25 04:21:40,258 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:21:40,284 - workflow_orchestrator - INFO - Generating response with category information
2025-03-25 04:21:40,284 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:21:40,284 - workflow_orchestrator - INFO - Using system prompt for stage: category_mapping
2025-03-25 04:21:40,284 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:22:07,025 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:22:07,026 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:22:07,026 - workflow_orchestrator - INFO - Advancing workflow stage to audience_segmentation
2025-03-25 04:22:07,027 - workflow_orchestrator - INFO - Generating audience segments
2025-03-25 04:22:07,027 - workflow_orchestrator - INFO - Found 4 audience segments in category data
2025-03-25 04:22:07,027 - workflow_orchestrator - INFO - Segment 1: Online Shoppers
2025-03-25 04:22:07,027 - workflow_orchestrator - INFO - Segment 2: Design Enthusiasts
2025-03-25 04:22:07,027 - workflow_orchestrator - INFO - Segment 3: Affluent Consumers
2025-03-25 04:22:07,027 - workflow_orchestrator - INFO - Segment 4: Educated Professionals
2025-03-25 04:22:07,027 - workflow_orchestrator - INFO - Generating response with audience segments
2025-03-25 04:22:07,027 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:22:07,027 - workflow_orchestrator - INFO - Using system prompt for stage: audience_segmentation
2025-03-25 04:22:07,027 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:22:30,623 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:22:30,625 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:22:30,625 - workflow_orchestrator - INFO - Advancing workflow stage to marketing_strategy
2025-03-25 04:22:30,625 - workflow_orchestrator - INFO - Generating marketing strategies
2025-03-25 04:22:30,625 - workflow_orchestrator - INFO - Creating marketing strategies prompt
2025-03-25 04:22:30,625 - workflow_orchestrator - INFO - Calling _generate_marketing_strategies method
2025-03-25 04:22:30,625 - workflow_orchestrator - INFO - Generating marketing strategies with GPT-4
2025-03-25 04:22:40,725 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:22:40,726 - workflow_orchestrator - INFO - Received marketing strategies response from GPT-4o-mini
2025-03-25 04:22:40,726 - workflow_orchestrator - INFO - Parsed 9 marketing strategies
2025-03-25 04:22:40,726 - workflow_orchestrator - INFO - Generated 9 marketing strategies
2025-03-25 04:22:40,726 - workflow_orchestrator - INFO - Creating response with marketing strategies
2025-03-25 04:22:40,726 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:22:40,726 - workflow_orchestrator - INFO - Using system prompt for stage: marketing_strategy
2025-03-25 04:22:40,726 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:22:54,239 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:22:54,240 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:22:54,240 - workflow_orchestrator - INFO - Advancing workflow stage to final_summary
2025-03-25 04:22:54,240 - workflow_orchestrator - INFO - Generating final summary
2025-03-25 04:22:54,240 - workflow_orchestrator - INFO - Creating final summary for product: Unknown Product
2025-03-25 04:22:54,240 - workflow_orchestrator - INFO - Final summary generated successfully
2025-03-25 04:22:54,240 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:22:54,241 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-25 04:22:54,241 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:22:56,163 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:22:56,165 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:22:56,165 - api - INFO - API: Message processed, new stage: final_summary
2025-03-25 04:29:04,955 - root - INFO - Firecrawl library imported successfully
2025-03-25 04:29:04,959 - root - INFO - SerpAPI library imported successfully
2025-03-25 04:29:04,961 - tools - INFO - Directly registering tool instances...
2025-03-25 04:29:04,961 - tools - INFO - Creating FirecrawlerTool instance
2025-03-25 04:29:04,961 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-25 04:29:04,961 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-25 04:29:04,961 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-25 04:29:04,962 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-25 04:29:04,962 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-25 04:29:04,962 - tools - INFO - Creating CategoryTreeTool instance
2025-03-25 04:29:04,962 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-25 04:29:04,963 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-25 04:29:04,963 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-25 04:29:04,963 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-25 04:29:04,963 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-25 04:29:04,964 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-25 04:29:04,965 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-25 04:29:04,965 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-25 04:29:04,989 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-25 04:29:04,989 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-25 04:29:04,989 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-25 04:29:04,989 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-25 04:29:04,989 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-25 04:29:04,989 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-25 04:29:04,989 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-25 04:52:55,092 - api - INFO - API: Starting new conversation
2025-03-25 04:52:55,092 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 04:52:55,092 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 04:52:55,092 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:52:55,092 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 04:52:55,092 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:52:56,450 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:52:56,452 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:52:56,452 - workflow_orchestrator - INFO - Conversation started
2025-03-25 04:52:56,452 - api - INFO - API: Conversation started successfully
2025-03-25 04:53:00,692 - api - INFO - API: Starting new conversation
2025-03-25 04:53:00,692 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 04:53:00,692 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 04:53:00,692 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:53:00,692 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 04:53:00,692 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:53:01,733 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:53:01,734 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:53:01,734 - workflow_orchestrator - INFO - Conversation started
2025-03-25 04:53:01,734 - api - INFO - API: Conversation started successfully
2025-03-25 04:53:45,739 - api - INFO - API: Starting new conversation
2025-03-25 04:53:45,739 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 04:53:45,739 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 04:53:45,739 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:53:45,739 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 04:53:45,739 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:53:50,743 - openai._base_client - INFO - Retrying request to /chat/completions in 0.438532 seconds
2025-03-25 04:53:51,185 - openai._base_client - INFO - Retrying request to /chat/completions in 0.792650 seconds
2025-03-25 04:53:51,980 - workflow_orchestrator - ERROR - Error getting AI response: Connection error.
Traceback (most recent call last):
  File "/home/srinivasan/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 72, in map_httpcore_exceptions
    yield
  File "/home/srinivasan/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 377, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/home/srinivasan/.local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/home/srinivasan/.local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/home/srinivasan/.local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/home/srinivasan/.local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
  File "/home/srinivasan/.local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
  File "/home/srinivasan/.local/lib/python3.10/site-packages/httpcore/_backends/auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
  File "/home/srinivasan/.local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/srinivasan/.local/lib/python3.10/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno -2] Name or service not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/srinivasan/.local/lib/python3.10/site-packages/openai/_base_client.py", line 1500, in _request
    response = await self._client.send(
  File "/home/srinivasan/.local/lib/python3.10/site-packages/httpx/_client.py", line 1674, in send
    response = await self._send_handling_auth(
  File "/home/srinivasan/.local/lib/python3.10/site-packages/httpx/_client.py", line 1702, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/home/srinivasan/.local/lib/python3.10/site-packages/httpx/_client.py", line 1739, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/home/srinivasan/.local/lib/python3.10/site-packages/httpx/_client.py", line 1776, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/home/srinivasan/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 376, in handle_async_request
    with map_httpcore_exceptions():
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/srinivasan/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 89, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno -2] Name or service not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/srinivasan/FIles/frontend/agent/workflow_orchestrator.py", line 934, in _get_ai_response
    response = await self.client.chat.completions.create(
  File "/home/srinivasan/.local/lib/python3.10/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
  File "/home/srinivasan/.local/lib/python3.10/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
  File "/home/srinivasan/.local/lib/python3.10/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
  File "/home/srinivasan/.local/lib/python3.10/site-packages/openai/_base_client.py", line 1509, in _request
    return await self._retry_request(
  File "/home/srinivasan/.local/lib/python3.10/site-packages/openai/_base_client.py", line 1524, in _request
    return await self._retry_request(
  File "/home/srinivasan/.local/lib/python3.10/site-packages/openai/_base_client.py", line 1534, in _request
    raise APIConnectionError(request=request) from err
openai.APIConnectionError: Connection error.
2025-03-25 04:53:51,987 - workflow_orchestrator - INFO - Conversation started
2025-03-25 04:53:51,987 - api - INFO - API: Conversation started successfully
2025-03-25 04:55:10,501 - api - INFO - API: Starting new conversation
2025-03-25 04:55:10,501 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 04:55:10,501 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 04:55:10,501 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 04:55:10,501 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 04:55:10,501 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 04:55:11,923 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 04:55:11,931 - workflow_orchestrator - INFO - Received AI response
2025-03-25 04:55:11,931 - workflow_orchestrator - INFO - Conversation started
2025-03-25 04:55:11,931 - api - INFO - API: Conversation started successfully
2025-03-25 05:01:18,639 - root - INFO - Firecrawl library imported successfully
2025-03-25 05:01:18,642 - root - INFO - SerpAPI library imported successfully
2025-03-25 05:01:18,643 - tools - INFO - Directly registering tool instances...
2025-03-25 05:01:18,643 - tools - INFO - Creating FirecrawlerTool instance
2025-03-25 05:01:18,644 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-25 05:01:18,644 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-25 05:01:18,644 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-25 05:01:18,644 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-25 05:01:18,644 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-25 05:01:18,644 - tools - INFO - Creating CategoryTreeTool instance
2025-03-25 05:01:18,645 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-25 05:01:18,645 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-25 05:01:18,645 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-25 05:01:18,645 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-25 05:01:18,645 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-25 05:01:18,646 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-25 05:01:18,647 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-25 05:01:18,647 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-25 05:01:18,669 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-25 05:01:18,669 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-25 05:01:18,669 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-25 05:01:18,669 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-25 05:01:18,669 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-25 05:01:18,669 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-25 05:01:18,669 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-25 05:11:09,917 - api - INFO - API: Starting new conversation
2025-03-25 05:11:09,917 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 05:11:09,917 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 05:11:09,917 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 05:11:09,917 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 05:11:09,917 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 05:11:11,111 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 05:11:11,115 - workflow_orchestrator - INFO - Received AI response
2025-03-25 05:11:11,115 - workflow_orchestrator - INFO - Conversation started
2025-03-25 05:11:11,115 - api - INFO - API: Conversation started successfully
2025-03-25 05:18:10,387 - api - INFO - API: Starting new conversation
2025-03-25 05:18:10,387 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 05:18:10,387 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 05:18:10,387 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 05:18:10,387 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 05:18:10,387 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 05:18:11,800 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 05:18:11,801 - workflow_orchestrator - INFO - Received AI response
2025-03-25 05:18:11,801 - workflow_orchestrator - INFO - Conversation started
2025-03-25 05:18:11,801 - api - INFO - API: Conversation started successfully
2025-03-25 05:20:24,573 - api - INFO - API: Starting new conversation
2025-03-25 05:20:24,574 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 05:20:24,574 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 05:20:24,574 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 05:20:24,574 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 05:20:24,574 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 05:20:26,149 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 05:20:26,150 - workflow_orchestrator - INFO - Received AI response
2025-03-25 05:20:26,150 - workflow_orchestrator - INFO - Conversation started
2025-03-25 05:20:26,150 - api - INFO - API: Conversation started successfully
2025-03-25 05:29:16,308 - api - INFO - API: Starting new conversation
2025-03-25 05:29:16,309 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 05:29:16,309 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 05:29:16,309 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 05:29:16,309 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 05:29:16,309 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 05:29:20,271 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 05:29:20,272 - workflow_orchestrator - INFO - Received AI response
2025-03-25 05:29:20,272 - workflow_orchestrator - INFO - Conversation started
2025-03-25 05:29:20,272 - api - INFO - API: Conversation started successfully
2025-03-25 05:31:45,320 - api - INFO - API: Starting new conversation
2025-03-25 05:31:45,320 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 05:31:45,320 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 05:31:45,320 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 05:31:45,320 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 05:31:45,320 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 05:31:46,744 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 05:31:46,746 - workflow_orchestrator - INFO - Received AI response
2025-03-25 05:31:46,746 - workflow_orchestrator - INFO - Conversation started
2025-03-25 05:31:46,746 - api - INFO - API: Conversation started successfully
2025-03-25 05:33:23,736 - api - INFO - API: Starting new conversation
2025-03-25 05:33:23,736 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 05:33:23,736 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 05:33:23,737 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 05:33:23,737 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 05:33:23,737 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 05:33:25,007 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 05:33:25,008 - workflow_orchestrator - INFO - Received AI response
2025-03-25 05:33:25,008 - workflow_orchestrator - INFO - Conversation started
2025-03-25 05:33:25,008 - api - INFO - API: Conversation started successfully
2025-03-25 05:33:45,615 - api - INFO - API: Processing message in stage: initial
2025-03-25 05:33:45,615 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 05:33:45,615 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-25 05:33:45,615 - workflow_orchestrator - INFO - Analysis requested with URL, starting workflow
2025-03-25 05:33:45,615 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-25 05:33:45,615 - workflow_orchestrator - INFO - Analyzing URL: https://www.uber.com/global/en/sign-in/
2025-03-25 05:33:45,615 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-25 05:33:45,615 - tools - INFO - Executing tool requested: firecrawler
2025-03-25 05:33:45,615 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://www.uber.com/global/en/sign-in/', 'depth': 2}
2025-03-25 05:33:45,615 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://www.uber.com/global/en/sign-in/, depth: 2
2025-03-25 05:33:45,615 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://www.uber.com/global/en/sign-in/
2025-03-25 05:33:51,130 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://www.uber.com/global/en/sign-in/
2025-03-25 05:33:51,130 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://www.uber.com/global/en/sign-in/
2025-03-25 05:33:51,130 - tools.firecrawler_tool - INFO - Product title: 
2025-03-25 05:33:51,130 - tools.firecrawler_tool - INFO - Product price: 
2025-03-25 05:33:51,130 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-25 05:33:51,131 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-25 05:33:51,131 - workflow_orchestrator - WARNING - Product data missing title
2025-03-25 05:33:51,131 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-25 05:33:51,131 - workflow_orchestrator - WARNING - Product data missing description
2025-03-25 05:33:51,131 - workflow_orchestrator - INFO - Generating response with product information
2025-03-25 05:33:51,131 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 05:33:51,131 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 05:33:51,131 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 05:33:52,558 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 05:33:52,561 - workflow_orchestrator - INFO - Received AI response
2025-03-25 05:33:52,561 - workflow_orchestrator - INFO - Advancing workflow stage to market_research
2025-03-25 05:33:52,561 - workflow_orchestrator - INFO - Starting market research
2025-03-25 05:33:52,562 - workflow_orchestrator - INFO - Using product title for market research: 'Unknown Product'
2025-03-25 05:33:52,562 - workflow_orchestrator - INFO - Executing SERP analysis for query: 'Unknown Product'
2025-03-25 05:33:52,562 - tools - INFO - Executing tool requested: serp_analysis
2025-03-25 05:33:52,562 - tools - INFO - Executing tool: serp_analysis with parameters: {'query': 'Unknown Product', 'results_count': 10}
2025-03-25 05:33:52,562 - tools.serp_analysis_tool - INFO - Using SerpAPI to analyze query: Unknown Product
2025-03-25 05:33:54,711 - tools.serp_analysis_tool - INFO - Successfully analyzed market data for query: Unknown Product
2025-03-25 05:33:54,711 - tools.serp_analysis_tool - INFO - Found 5 competitors and 10 keywords
2025-03-25 05:33:54,711 - tools - INFO - Tool execution completed: serp_analysis, success: True
2025-03-25 05:33:54,711 - workflow_orchestrator - INFO - Successfully completed market research, storing results
2025-03-25 05:33:54,711 - workflow_orchestrator - INFO - Generating response with market information
2025-03-25 05:33:54,711 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 05:33:54,711 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-25 05:33:54,711 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 05:34:10,779 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 05:34:10,788 - workflow_orchestrator - INFO - Received AI response
2025-03-25 05:34:10,788 - workflow_orchestrator - INFO - Advancing workflow stage to category_mapping
2025-03-25 05:34:10,788 - workflow_orchestrator - INFO - Starting optimized category mapping
2025-03-25 05:34:10,788 - workflow_orchestrator - INFO - Getting all marketing categories
2025-03-25 05:34:10,788 - tools - INFO - Executing tool requested: category_tree
2025-03-25 05:34:10,788 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://www.uber.com/global/en/sign-in/', 'mode': 'explore_toplevel'}
2025-03-25 05:34:10,788 - tools.category_tree_tool - INFO - Getting all top-level categories for LLM to choose from
2025-03-25 05:34:10,788 - tools.category_tree_tool - INFO - Getting all top-level categories
2025-03-25 05:34:10,788 - tools.category_tree_tool - INFO - Found 8 top-level categories
2025-03-25 05:34:10,788 - tools.category_tree_tool - INFO - Returning 8 top-level categories for LLM exploration
2025-03-25 05:34:10,788 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 05:34:10,789 - tools - INFO - Executing tool requested: category_tree
2025-03-25 05:34:10,789 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://www.uber.com/global/en/sign-in/', 'mode': 'explore_subcategories', 'parent_category': 'Behaviors'}
2025-03-25 05:34:10,789 - tools.category_tree_tool - INFO - Getting subcategories for category: Behaviors
2025-03-25 05:34:10,789 - tools.category_tree_tool - INFO - Looking for subcategories of: Behaviors
2025-03-25 05:34:10,789 - tools.category_tree_tool - INFO - Found 3 subcategories for Behaviors
2025-03-25 05:34:10,789 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Behaviors
2025-03-25 05:34:10,789 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 05:34:10,789 - tools - INFO - Executing tool requested: category_tree
2025-03-25 05:34:10,789 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://www.uber.com/global/en/sign-in/', 'mode': 'explore_subcategories', 'parent_category': 'Demographics'}
2025-03-25 05:34:10,789 - tools.category_tree_tool - INFO - Getting subcategories for category: Demographics
2025-03-25 05:34:10,789 - tools.category_tree_tool - INFO - Looking for subcategories of: Demographics
2025-03-25 05:34:10,789 - tools.category_tree_tool - INFO - Found 1 subcategories for Demographics
2025-03-25 05:34:10,789 - tools.category_tree_tool - INFO - Returning 1 subcategories for parent category: Demographics
2025-03-25 05:34:10,789 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 05:34:10,789 - tools - INFO - Executing tool requested: category_tree
2025-03-25 05:34:10,789 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://www.uber.com/global/en/sign-in/', 'mode': 'explore_subcategories', 'parent_category': 'Financial'}
2025-03-25 05:34:10,789 - tools.category_tree_tool - INFO - Getting subcategories for category: Financial
2025-03-25 05:34:10,789 - tools.category_tree_tool - INFO - Looking for subcategories of: Financial
2025-03-25 05:34:10,790 - tools.category_tree_tool - INFO - Found 3 subcategories for Financial
2025-03-25 05:34:10,790 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Financial
2025-03-25 05:34:10,790 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 05:34:10,790 - tools - INFO - Executing tool requested: category_tree
2025-03-25 05:34:10,790 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://www.uber.com/global/en/sign-in/', 'mode': 'explore_subcategories', 'parent_category': 'Home'}
2025-03-25 05:34:10,790 - tools.category_tree_tool - INFO - Getting subcategories for category: Home
2025-03-25 05:34:10,790 - tools.category_tree_tool - INFO - Looking for subcategories of: Home
2025-03-25 05:34:10,790 - tools.category_tree_tool - INFO - Found 3 subcategories for Home
2025-03-25 05:34:10,790 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Home
2025-03-25 05:34:10,790 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 05:34:10,790 - tools - INFO - Executing tool requested: category_tree
2025-03-25 05:34:10,790 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://www.uber.com/global/en/sign-in/', 'mode': 'explore_subcategories', 'parent_category': 'Interests'}
2025-03-25 05:34:10,790 - tools.category_tree_tool - INFO - Getting subcategories for category: Interests
2025-03-25 05:34:10,790 - tools.category_tree_tool - INFO - Looking for subcategories of: Interests
2025-03-25 05:34:10,790 - tools.category_tree_tool - INFO - Found 2 subcategories for Interests
2025-03-25 05:34:10,790 - tools.category_tree_tool - INFO - Returning 2 subcategories for parent category: Interests
2025-03-25 05:34:10,790 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 05:34:10,791 - workflow_orchestrator - INFO - Making single comprehensive LLM call for category analysis
2025-03-25 05:34:20,406 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 05:34:20,407 - workflow_orchestrator - INFO - Generating response with category information
2025-03-25 05:34:20,407 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 05:34:20,407 - workflow_orchestrator - INFO - Using system prompt for stage: category_mapping
2025-03-25 05:34:20,407 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 05:34:32,514 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 05:34:32,515 - workflow_orchestrator - INFO - Received AI response
2025-03-25 05:34:32,515 - workflow_orchestrator - INFO - Advancing workflow stage to audience_segmentation
2025-03-25 05:34:32,515 - workflow_orchestrator - INFO - Generating audience segments
2025-03-25 05:34:32,515 - workflow_orchestrator - INFO - Found 4 audience segments in category data
2025-03-25 05:34:32,515 - workflow_orchestrator - INFO - Segment 1: Digital Engagement Enthusiasts
2025-03-25 05:34:32,515 - workflow_orchestrator - INFO - Segment 2: Designer Product Seekers
2025-03-25 05:34:32,515 - workflow_orchestrator - INFO - Segment 3: Professionals with Higher Education
2025-03-25 05:34:32,515 - workflow_orchestrator - INFO - Segment 4: Leisure Travelers
2025-03-25 05:34:32,515 - workflow_orchestrator - INFO - Generating response with audience segments
2025-03-25 05:34:32,515 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 05:34:32,515 - workflow_orchestrator - INFO - Using system prompt for stage: audience_segmentation
2025-03-25 05:34:32,515 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 05:34:47,355 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 05:34:47,361 - workflow_orchestrator - INFO - Received AI response
2025-03-25 05:34:47,361 - workflow_orchestrator - INFO - Advancing workflow stage to marketing_strategy
2025-03-25 05:34:47,361 - workflow_orchestrator - INFO - Generating marketing strategies
2025-03-25 05:34:47,361 - workflow_orchestrator - INFO - Creating marketing strategies prompt
2025-03-25 05:34:47,361 - workflow_orchestrator - INFO - Calling _generate_marketing_strategies method
2025-03-25 05:34:47,361 - workflow_orchestrator - INFO - Generating marketing strategies with GPT-4
2025-03-25 05:35:00,343 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 05:35:00,344 - workflow_orchestrator - INFO - Received marketing strategies response from GPT-4o-mini
2025-03-25 05:35:00,344 - workflow_orchestrator - INFO - Parsed 10 marketing strategies
2025-03-25 05:35:00,344 - workflow_orchestrator - INFO - Generated 10 marketing strategies
2025-03-25 05:35:00,344 - workflow_orchestrator - INFO - Creating response with marketing strategies
2025-03-25 05:35:00,344 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 05:35:00,345 - workflow_orchestrator - INFO - Using system prompt for stage: marketing_strategy
2025-03-25 05:35:00,345 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 05:35:11,298 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 05:35:11,299 - workflow_orchestrator - INFO - Received AI response
2025-03-25 05:35:11,300 - workflow_orchestrator - INFO - Advancing workflow stage to final_summary
2025-03-25 05:35:11,300 - workflow_orchestrator - INFO - Generating final summary
2025-03-25 05:35:11,300 - workflow_orchestrator - INFO - Creating final summary for product: Unknown Product
2025-03-25 05:35:11,300 - workflow_orchestrator - INFO - Final summary generated successfully
2025-03-25 05:35:11,300 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 05:35:11,300 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-25 05:35:11,300 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 05:35:13,748 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 05:35:13,753 - workflow_orchestrator - INFO - Received AI response
2025-03-25 05:35:13,754 - api - INFO - API: Message processed, new stage: final_summary
2025-03-25 13:41:36,454 - root - INFO - Firecrawl library imported successfully
2025-03-25 13:41:36,457 - root - INFO - SerpAPI library imported successfully
2025-03-25 13:41:36,458 - tools - INFO - Directly registering tool instances...
2025-03-25 13:41:36,458 - tools - INFO - Creating FirecrawlerTool instance
2025-03-25 13:41:36,459 - tools.firecrawler_tool - INFO - FirecrawlApp initialized successfully
2025-03-25 13:41:36,459 - tools - INFO - Successfully created FirecrawlerTool with name: firecrawler
2025-03-25 13:41:36,459 - tools - INFO - Creating SerpAnalysisTool instance
2025-03-25 13:41:36,459 - tools.serp_analysis_tool - INFO - SerpAnalysisTool initialized successfully
2025-03-25 13:41:36,459 - tools - INFO - Successfully created SerpAnalysisTool with name: serp_analysis
2025-03-25 13:41:36,459 - tools - INFO - Creating CategoryTreeTool instance
2025-03-25 13:41:36,460 - tools.category_tree_tool - INFO - Attempting to load marketing categories from: marketing_categories.json
2025-03-25 13:41:36,460 - tools.category_tree_tool - INFO - Successfully loaded marketing categories from: marketing_categories.json
2025-03-25 13:41:36,460 - tools - INFO - Successfully created CategoryTreeTool with name: category_tree
2025-03-25 13:41:36,460 - tools - INFO - Registered tools: ['firecrawler', 'serp_analysis', 'category_tree']
2025-03-25 13:41:36,460 - tools - INFO - Tool initialization status: {'firecrawler': 'initialized', 'serp_analysis': 'initialized', 'category_tree': 'initialized'}
2025-03-25 13:41:36,462 - api - INFO - Initializing WorkflowOrchestrator for API use
2025-03-25 13:41:36,462 - workflow_orchestrator - INFO - Initializing WorkflowOrchestrator
2025-03-25 13:41:36,462 - workflow_orchestrator - INFO - Setting up OpenAI client
2025-03-25 13:41:36,490 - workflow_orchestrator - INFO - Initializing ToolRegistry
2025-03-25 13:41:36,490 - workflow_orchestrator - INFO - Tool firecrawler initialized successfully
2025-03-25 13:41:36,490 - workflow_orchestrator - INFO - Tool serp_analysis initialized successfully
2025-03-25 13:41:36,491 - workflow_orchestrator - INFO - Tool category_tree initialized successfully
2025-03-25 13:41:36,491 - workflow_orchestrator - INFO - Setting up initial workflow state
2025-03-25 13:41:36,491 - workflow_orchestrator - INFO - WorkflowOrchestrator initialization complete
2025-03-25 13:41:36,491 - api - INFO - WorkflowOrchestrator initialized successfully
2025-03-25 13:41:43,305 - api - INFO - API: Starting new conversation
2025-03-25 13:41:43,305 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 13:41:43,306 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 13:41:43,306 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 13:41:43,306 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 13:41:43,306 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 13:41:44,551 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 13:41:44,553 - workflow_orchestrator - INFO - Received AI response
2025-03-25 13:41:44,553 - workflow_orchestrator - INFO - Conversation started
2025-03-25 13:41:44,553 - api - INFO - API: Conversation started successfully
2025-03-25 13:41:57,490 - api - INFO - API: Processing message in stage: initial
2025-03-25 13:41:57,490 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 13:41:57,491 - workflow_orchestrator - INFO - Current data state - Product data exists: False, Market data exists: False, Category data exists: False, Final results exists: False
2025-03-25 13:41:57,491 - workflow_orchestrator - INFO - Analysis requested with URL, starting workflow
2025-03-25 13:41:57,491 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-25 13:41:57,491 - workflow_orchestrator - INFO - Analyzing URL: https://sleepyowl.co/
2025-03-25 13:41:57,491 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-25 13:41:57,491 - tools - INFO - Executing tool requested: firecrawler
2025-03-25 13:41:57,491 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://sleepyowl.co/', 'depth': 2}
2025-03-25 13:41:57,491 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://sleepyowl.co/, depth: 2
2025-03-25 13:41:57,491 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://sleepyowl.co/
2025-03-25 13:42:19,487 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://sleepyowl.co/
2025-03-25 13:42:19,487 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://sleepyowl.co/
2025-03-25 13:42:19,487 - tools.firecrawler_tool - INFO - Product title: 
2025-03-25 13:42:19,487 - tools.firecrawler_tool - INFO - Product price: 
2025-03-25 13:42:19,487 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-25 13:42:19,487 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-25 13:42:19,487 - workflow_orchestrator - WARNING - Product data missing title
2025-03-25 13:42:19,487 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-25 13:42:19,487 - workflow_orchestrator - WARNING - Product data missing description
2025-03-25 13:42:19,487 - workflow_orchestrator - INFO - Generating response with product information
2025-03-25 13:42:19,487 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 13:42:19,487 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 13:42:19,488 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 13:42:21,454 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 13:42:21,456 - workflow_orchestrator - INFO - Received AI response
2025-03-25 13:42:21,456 - workflow_orchestrator - INFO - Advancing workflow stage to market_research
2025-03-25 13:42:21,456 - workflow_orchestrator - INFO - Starting market research
2025-03-25 13:42:21,456 - workflow_orchestrator - INFO - Using product title for market research: 'Unknown Product'
2025-03-25 13:42:21,456 - workflow_orchestrator - INFO - Executing SERP analysis for query: 'Unknown Product'
2025-03-25 13:42:21,456 - tools - INFO - Executing tool requested: serp_analysis
2025-03-25 13:42:21,456 - tools - INFO - Executing tool: serp_analysis with parameters: {'query': 'Unknown Product', 'results_count': 10}
2025-03-25 13:42:21,456 - tools.serp_analysis_tool - INFO - Using SerpAPI to analyze query: Unknown Product
2025-03-25 13:42:22,175 - tools.serp_analysis_tool - INFO - Successfully analyzed market data for query: Unknown Product
2025-03-25 13:42:22,175 - tools.serp_analysis_tool - INFO - Found 5 competitors and 10 keywords
2025-03-25 13:42:22,175 - tools - INFO - Tool execution completed: serp_analysis, success: True
2025-03-25 13:42:22,175 - workflow_orchestrator - INFO - Successfully completed market research, storing results
2025-03-25 13:42:22,175 - workflow_orchestrator - INFO - Generating response with market information
2025-03-25 13:42:22,175 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 13:42:22,175 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-25 13:42:22,175 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 13:42:37,466 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 13:42:37,468 - workflow_orchestrator - INFO - Received AI response
2025-03-25 13:42:37,468 - workflow_orchestrator - INFO - Advancing workflow stage to category_mapping
2025-03-25 13:42:37,468 - workflow_orchestrator - INFO - Starting optimized category mapping
2025-03-25 13:42:37,468 - workflow_orchestrator - INFO - Getting all marketing categories
2025-03-25 13:42:37,468 - tools - INFO - Executing tool requested: category_tree
2025-03-25 13:42:37,468 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://sleepyowl.co/', 'mode': 'explore_toplevel'}
2025-03-25 13:42:37,468 - tools.category_tree_tool - INFO - Getting all top-level categories for LLM to choose from
2025-03-25 13:42:37,468 - tools.category_tree_tool - INFO - Getting all top-level categories
2025-03-25 13:42:37,468 - tools.category_tree_tool - INFO - Found 8 top-level categories
2025-03-25 13:42:37,468 - tools.category_tree_tool - INFO - Returning 8 top-level categories for LLM exploration
2025-03-25 13:42:37,468 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 13:42:37,468 - tools - INFO - Executing tool requested: category_tree
2025-03-25 13:42:37,468 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://sleepyowl.co/', 'mode': 'explore_subcategories', 'parent_category': 'Behaviors'}
2025-03-25 13:42:37,468 - tools.category_tree_tool - INFO - Getting subcategories for category: Behaviors
2025-03-25 13:42:37,468 - tools.category_tree_tool - INFO - Looking for subcategories of: Behaviors
2025-03-25 13:42:37,469 - tools.category_tree_tool - INFO - Found 3 subcategories for Behaviors
2025-03-25 13:42:37,469 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Behaviors
2025-03-25 13:42:37,469 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 13:42:37,469 - tools - INFO - Executing tool requested: category_tree
2025-03-25 13:42:37,469 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://sleepyowl.co/', 'mode': 'explore_subcategories', 'parent_category': 'Demographics'}
2025-03-25 13:42:37,469 - tools.category_tree_tool - INFO - Getting subcategories for category: Demographics
2025-03-25 13:42:37,469 - tools.category_tree_tool - INFO - Looking for subcategories of: Demographics
2025-03-25 13:42:37,469 - tools.category_tree_tool - INFO - Found 1 subcategories for Demographics
2025-03-25 13:42:37,469 - tools.category_tree_tool - INFO - Returning 1 subcategories for parent category: Demographics
2025-03-25 13:42:37,469 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 13:42:37,469 - tools - INFO - Executing tool requested: category_tree
2025-03-25 13:42:37,469 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://sleepyowl.co/', 'mode': 'explore_subcategories', 'parent_category': 'Financial'}
2025-03-25 13:42:37,469 - tools.category_tree_tool - INFO - Getting subcategories for category: Financial
2025-03-25 13:42:37,469 - tools.category_tree_tool - INFO - Looking for subcategories of: Financial
2025-03-25 13:42:37,469 - tools.category_tree_tool - INFO - Found 3 subcategories for Financial
2025-03-25 13:42:37,469 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Financial
2025-03-25 13:42:37,469 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 13:42:37,469 - tools - INFO - Executing tool requested: category_tree
2025-03-25 13:42:37,469 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://sleepyowl.co/', 'mode': 'explore_subcategories', 'parent_category': 'Home'}
2025-03-25 13:42:37,469 - tools.category_tree_tool - INFO - Getting subcategories for category: Home
2025-03-25 13:42:37,469 - tools.category_tree_tool - INFO - Looking for subcategories of: Home
2025-03-25 13:42:37,469 - tools.category_tree_tool - INFO - Found 3 subcategories for Home
2025-03-25 13:42:37,469 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Home
2025-03-25 13:42:37,469 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 13:42:37,470 - tools - INFO - Executing tool requested: category_tree
2025-03-25 13:42:37,470 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://sleepyowl.co/', 'mode': 'explore_subcategories', 'parent_category': 'Interests'}
2025-03-25 13:42:37,470 - tools.category_tree_tool - INFO - Getting subcategories for category: Interests
2025-03-25 13:42:37,470 - tools.category_tree_tool - INFO - Looking for subcategories of: Interests
2025-03-25 13:42:37,470 - tools.category_tree_tool - INFO - Found 2 subcategories for Interests
2025-03-25 13:42:37,470 - tools.category_tree_tool - INFO - Returning 2 subcategories for parent category: Interests
2025-03-25 13:42:37,470 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 13:42:37,470 - workflow_orchestrator - INFO - Making single comprehensive LLM call for category analysis
2025-03-25 13:42:48,828 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 13:42:48,829 - workflow_orchestrator - INFO - Generating response with category information
2025-03-25 13:42:48,829 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 13:42:48,829 - workflow_orchestrator - INFO - Using system prompt for stage: category_mapping
2025-03-25 13:42:48,829 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 13:43:02,209 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 13:43:02,210 - workflow_orchestrator - INFO - Received AI response
2025-03-25 13:43:02,210 - workflow_orchestrator - INFO - Advancing workflow stage to audience_segmentation
2025-03-25 13:43:02,210 - workflow_orchestrator - INFO - Generating audience segments
2025-03-25 13:43:02,210 - workflow_orchestrator - INFO - Found 3 audience segments in category data
2025-03-25 13:43:02,210 - workflow_orchestrator - INFO - Segment 1: Digital Savvy Shoppers
2025-03-25 13:43:02,210 - workflow_orchestrator - INFO - Segment 2: Affluent Professionals
2025-03-25 13:43:02,210 - workflow_orchestrator - INFO - Segment 3: Lifestyle Enthusiasts
2025-03-25 13:43:02,210 - workflow_orchestrator - INFO - Generating response with audience segments
2025-03-25 13:43:02,210 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 13:43:02,211 - workflow_orchestrator - INFO - Using system prompt for stage: audience_segmentation
2025-03-25 13:43:02,211 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 13:43:22,179 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 13:43:22,181 - workflow_orchestrator - INFO - Received AI response
2025-03-25 13:43:22,181 - workflow_orchestrator - INFO - Advancing workflow stage to marketing_strategy
2025-03-25 13:43:22,181 - workflow_orchestrator - INFO - Generating marketing strategies
2025-03-25 13:43:22,181 - workflow_orchestrator - INFO - Creating marketing strategies prompt
2025-03-25 13:43:22,181 - workflow_orchestrator - INFO - Calling _generate_marketing_strategies method
2025-03-25 13:43:22,181 - workflow_orchestrator - INFO - Generating marketing strategies with GPT-4
2025-03-25 13:43:39,072 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 13:43:39,074 - workflow_orchestrator - INFO - Received marketing strategies response from GPT-4o-mini
2025-03-25 13:43:39,074 - workflow_orchestrator - INFO - Parsed 7 marketing strategies
2025-03-25 13:43:39,074 - workflow_orchestrator - INFO - Generated 7 marketing strategies
2025-03-25 13:43:39,074 - workflow_orchestrator - INFO - Creating response with marketing strategies
2025-03-25 13:43:39,074 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 13:43:39,075 - workflow_orchestrator - INFO - Using system prompt for stage: marketing_strategy
2025-03-25 13:43:39,075 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 13:43:56,538 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 13:43:56,539 - workflow_orchestrator - INFO - Received AI response
2025-03-25 13:43:56,539 - workflow_orchestrator - INFO - Advancing workflow stage to final_summary
2025-03-25 13:43:56,539 - workflow_orchestrator - INFO - Generating final summary
2025-03-25 13:43:56,539 - workflow_orchestrator - INFO - Creating final summary for product: Unknown Product
2025-03-25 13:43:56,540 - workflow_orchestrator - INFO - Final summary generated successfully
2025-03-25 13:43:56,540 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 13:43:56,540 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-25 13:43:56,540 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 13:44:04,476 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 13:44:04,478 - workflow_orchestrator - INFO - Received AI response
2025-03-25 13:44:04,478 - api - INFO - API: Message processed, new stage: final_summary
2025-03-25 14:10:09,304 - api - INFO - API: Starting new conversation
2025-03-25 14:10:09,304 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 14:10:09,304 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 14:10:09,304 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 14:10:09,304 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 14:10:09,304 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 14:10:11,737 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 14:10:11,738 - workflow_orchestrator - INFO - Received AI response
2025-03-25 14:10:11,738 - workflow_orchestrator - INFO - Conversation started
2025-03-25 14:10:11,738 - api - INFO - API: Conversation started successfully
2025-03-25 14:11:00,485 - api - INFO - API: Starting new conversation
2025-03-25 14:11:00,486 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 14:11:00,486 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 14:11:00,486 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 14:11:00,486 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 14:11:00,486 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 14:11:02,057 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 14:11:02,058 - workflow_orchestrator - INFO - Received AI response
2025-03-25 14:11:02,058 - workflow_orchestrator - INFO - Conversation started
2025-03-25 14:11:02,058 - api - INFO - API: Conversation started successfully
2025-03-25 14:13:14,861 - api - INFO - API: Starting new conversation
2025-03-25 14:13:14,861 - workflow_orchestrator - INFO - Starting new conversation
2025-03-25 14:13:14,861 - workflow_orchestrator - INFO - Generating initial greeting message
2025-03-25 14:13:14,861 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 14:13:14,861 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 14:13:14,861 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 14:13:16,544 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 14:13:16,545 - workflow_orchestrator - INFO - Received AI response
2025-03-25 14:13:16,545 - workflow_orchestrator - INFO - Conversation started
2025-03-25 14:13:16,545 - api - INFO - API: Conversation started successfully
2025-03-25 14:13:29,307 - api - INFO - API: Processing message in stage: initial
2025-03-25 14:13:29,307 - workflow_orchestrator - INFO - Processing user message in stage: initial
2025-03-25 14:13:29,307 - workflow_orchestrator - INFO - Current data state - Product data exists: True, Market data exists: True, Category data exists: True, Final results exists: True
2025-03-25 14:13:29,307 - workflow_orchestrator - INFO - Product data - Title: Unknown Product, Features count: 1
2025-03-25 14:13:29,307 - workflow_orchestrator - INFO - Market data - Keywords count: 10, Competitors count: 5
2025-03-25 14:13:29,307 - workflow_orchestrator - INFO - Category data - Categories count: 3, Segments count: 3
2025-03-25 14:13:29,307 - workflow_orchestrator - INFO - Analysis requested with URL, starting workflow
2025-03-25 14:13:29,307 - workflow_orchestrator - INFO - Handling URL analysis
2025-03-25 14:13:29,307 - workflow_orchestrator - INFO - Analyzing URL: https://thesleepcompany.in/
2025-03-25 14:13:29,307 - workflow_orchestrator - INFO - Executing firecrawler tool
2025-03-25 14:13:29,307 - tools - INFO - Executing tool requested: firecrawler
2025-03-25 14:13:29,308 - tools - INFO - Executing tool: firecrawler with parameters: {'url': 'https://thesleepcompany.in/', 'depth': 2}
2025-03-25 14:13:29,308 - tools.firecrawler_tool - INFO - Executing firecrawler tool with URL: https://thesleepcompany.in/, depth: 2
2025-03-25 14:13:29,308 - tools.firecrawler_tool - INFO - Calling FirecrawlApp.scrape_url with URL: https://thesleepcompany.in/
2025-03-25 14:13:44,739 - tools.firecrawler_tool - INFO - Successfully received response from Firecrawl API for URL: https://thesleepcompany.in/
2025-03-25 14:13:44,739 - tools.firecrawler_tool - INFO - Successfully parsed product data from URL: https://thesleepcompany.in/
2025-03-25 14:13:44,740 - tools.firecrawler_tool - INFO - Product title: 
2025-03-25 14:13:44,740 - tools.firecrawler_tool - INFO - Product price: 
2025-03-25 14:13:44,740 - tools - INFO - Tool execution completed: firecrawler, success: True
2025-03-25 14:13:44,740 - workflow_orchestrator - INFO - Successfully analyzed URL, storing product data
2025-03-25 14:13:44,740 - workflow_orchestrator - WARNING - Product data missing title
2025-03-25 14:13:44,740 - workflow_orchestrator - WARNING - Product data missing features, adding placeholder feature
2025-03-25 14:13:44,740 - workflow_orchestrator - WARNING - Product data missing description
2025-03-25 14:13:44,740 - workflow_orchestrator - INFO - Generating response with product information
2025-03-25 14:13:44,740 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 14:13:44,740 - workflow_orchestrator - INFO - Using system prompt for stage: initial
2025-03-25 14:13:44,740 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 14:13:46,821 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 14:13:46,822 - workflow_orchestrator - INFO - Received AI response
2025-03-25 14:13:46,822 - workflow_orchestrator - INFO - Advancing workflow stage to market_research
2025-03-25 14:13:46,822 - workflow_orchestrator - INFO - Starting market research
2025-03-25 14:13:46,822 - workflow_orchestrator - INFO - Using product title for market research: 'Unknown Product'
2025-03-25 14:13:46,822 - workflow_orchestrator - INFO - Executing SERP analysis for query: 'Unknown Product'
2025-03-25 14:13:46,822 - tools - INFO - Executing tool requested: serp_analysis
2025-03-25 14:13:46,822 - tools - INFO - Executing tool: serp_analysis with parameters: {'query': 'Unknown Product', 'results_count': 10}
2025-03-25 14:13:46,822 - tools.serp_analysis_tool - INFO - Using SerpAPI to analyze query: Unknown Product
2025-03-25 14:13:47,869 - tools.serp_analysis_tool - INFO - Successfully analyzed market data for query: Unknown Product
2025-03-25 14:13:47,869 - tools.serp_analysis_tool - INFO - Found 5 competitors and 10 keywords
2025-03-25 14:13:47,870 - tools - INFO - Tool execution completed: serp_analysis, success: True
2025-03-25 14:13:47,870 - workflow_orchestrator - INFO - Successfully completed market research, storing results
2025-03-25 14:13:47,870 - workflow_orchestrator - INFO - Generating response with market information
2025-03-25 14:13:47,870 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 14:13:47,870 - workflow_orchestrator - INFO - Using system prompt for stage: market_research
2025-03-25 14:13:47,870 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 14:14:06,199 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 14:14:06,213 - workflow_orchestrator - INFO - Received AI response
2025-03-25 14:14:06,213 - workflow_orchestrator - INFO - Advancing workflow stage to category_mapping
2025-03-25 14:14:06,213 - workflow_orchestrator - INFO - Starting optimized category mapping
2025-03-25 14:14:06,213 - workflow_orchestrator - INFO - Getting all marketing categories
2025-03-25 14:14:06,213 - tools - INFO - Executing tool requested: category_tree
2025-03-25 14:14:06,213 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_toplevel'}
2025-03-25 14:14:06,214 - tools.category_tree_tool - INFO - Getting all top-level categories for LLM to choose from
2025-03-25 14:14:06,214 - tools.category_tree_tool - INFO - Getting all top-level categories
2025-03-25 14:14:06,214 - tools.category_tree_tool - INFO - Found 8 top-level categories
2025-03-25 14:14:06,214 - tools.category_tree_tool - INFO - Returning 8 top-level categories for LLM exploration
2025-03-25 14:14:06,214 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 14:14:06,214 - tools - INFO - Executing tool requested: category_tree
2025-03-25 14:14:06,214 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Behaviors'}
2025-03-25 14:14:06,214 - tools.category_tree_tool - INFO - Getting subcategories for category: Behaviors
2025-03-25 14:14:06,214 - tools.category_tree_tool - INFO - Looking for subcategories of: Behaviors
2025-03-25 14:14:06,214 - tools.category_tree_tool - INFO - Found 3 subcategories for Behaviors
2025-03-25 14:14:06,214 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Behaviors
2025-03-25 14:14:06,214 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 14:14:06,214 - tools - INFO - Executing tool requested: category_tree
2025-03-25 14:14:06,214 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Demographics'}
2025-03-25 14:14:06,214 - tools.category_tree_tool - INFO - Getting subcategories for category: Demographics
2025-03-25 14:14:06,214 - tools.category_tree_tool - INFO - Looking for subcategories of: Demographics
2025-03-25 14:14:06,214 - tools.category_tree_tool - INFO - Found 1 subcategories for Demographics
2025-03-25 14:14:06,214 - tools.category_tree_tool - INFO - Returning 1 subcategories for parent category: Demographics
2025-03-25 14:14:06,214 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 14:14:06,214 - tools - INFO - Executing tool requested: category_tree
2025-03-25 14:14:06,214 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Financial'}
2025-03-25 14:14:06,214 - tools.category_tree_tool - INFO - Getting subcategories for category: Financial
2025-03-25 14:14:06,215 - tools.category_tree_tool - INFO - Looking for subcategories of: Financial
2025-03-25 14:14:06,215 - tools.category_tree_tool - INFO - Found 3 subcategories for Financial
2025-03-25 14:14:06,215 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Financial
2025-03-25 14:14:06,215 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 14:14:06,215 - tools - INFO - Executing tool requested: category_tree
2025-03-25 14:14:06,215 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Home'}
2025-03-25 14:14:06,215 - tools.category_tree_tool - INFO - Getting subcategories for category: Home
2025-03-25 14:14:06,215 - tools.category_tree_tool - INFO - Looking for subcategories of: Home
2025-03-25 14:14:06,215 - tools.category_tree_tool - INFO - Found 3 subcategories for Home
2025-03-25 14:14:06,215 - tools.category_tree_tool - INFO - Returning 3 subcategories for parent category: Home
2025-03-25 14:14:06,215 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 14:14:06,215 - tools - INFO - Executing tool requested: category_tree
2025-03-25 14:14:06,215 - tools - INFO - Executing tool: category_tree with parameters: {'product_description': 'Online product at https://thesleepcompany.in/', 'mode': 'explore_subcategories', 'parent_category': 'Interests'}
2025-03-25 14:14:06,215 - tools.category_tree_tool - INFO - Getting subcategories for category: Interests
2025-03-25 14:14:06,215 - tools.category_tree_tool - INFO - Looking for subcategories of: Interests
2025-03-25 14:14:06,215 - tools.category_tree_tool - INFO - Found 2 subcategories for Interests
2025-03-25 14:14:06,215 - tools.category_tree_tool - INFO - Returning 2 subcategories for parent category: Interests
2025-03-25 14:14:06,215 - tools - INFO - Tool execution completed: category_tree, success: True
2025-03-25 14:14:06,215 - workflow_orchestrator - INFO - Making single comprehensive LLM call for category analysis
2025-03-25 14:14:15,037 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 14:14:15,039 - workflow_orchestrator - INFO - Generating response with category information
2025-03-25 14:14:15,039 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 14:14:15,039 - workflow_orchestrator - INFO - Using system prompt for stage: category_mapping
2025-03-25 14:14:15,039 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 14:14:25,189 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 14:14:25,200 - workflow_orchestrator - INFO - Received AI response
2025-03-25 14:14:25,200 - workflow_orchestrator - INFO - Advancing workflow stage to audience_segmentation
2025-03-25 14:14:25,200 - workflow_orchestrator - INFO - Generating audience segments
2025-03-25 14:14:25,200 - workflow_orchestrator - INFO - Found 3 audience segments in category data
2025-03-25 14:14:25,200 - workflow_orchestrator - INFO - Segment 1: Health-Conscious Professionals
2025-03-25 14:14:25,200 - workflow_orchestrator - INFO - Segment 2: Young Renters Seeking Comfort
2025-03-25 14:14:25,200 - workflow_orchestrator - INFO - Segment 3: Educated Homeowners
2025-03-25 14:14:25,200 - workflow_orchestrator - INFO - Generating response with audience segments
2025-03-25 14:14:25,200 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 14:14:25,200 - workflow_orchestrator - INFO - Using system prompt for stage: audience_segmentation
2025-03-25 14:14:25,200 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 14:14:42,493 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 14:14:42,494 - workflow_orchestrator - INFO - Received AI response
2025-03-25 14:14:42,494 - workflow_orchestrator - INFO - Advancing workflow stage to marketing_strategy
2025-03-25 14:14:42,494 - workflow_orchestrator - INFO - Generating marketing strategies
2025-03-25 14:14:42,494 - workflow_orchestrator - INFO - Creating marketing strategies prompt
2025-03-25 14:14:42,494 - workflow_orchestrator - INFO - Calling _generate_marketing_strategies method
2025-03-25 14:14:42,494 - workflow_orchestrator - INFO - Generating marketing strategies with GPT-4
2025-03-25 14:14:58,131 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 14:14:58,132 - workflow_orchestrator - INFO - Received marketing strategies response from GPT-4o-mini
2025-03-25 14:14:58,132 - workflow_orchestrator - INFO - Parsed 7 marketing strategies
2025-03-25 14:14:58,132 - workflow_orchestrator - INFO - Generated 7 marketing strategies
2025-03-25 14:14:58,132 - workflow_orchestrator - INFO - Creating response with marketing strategies
2025-03-25 14:14:58,132 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 14:14:58,133 - workflow_orchestrator - INFO - Using system prompt for stage: marketing_strategy
2025-03-25 14:14:58,133 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 14:15:13,119 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 14:15:13,120 - workflow_orchestrator - INFO - Received AI response
2025-03-25 14:15:13,120 - workflow_orchestrator - INFO - Advancing workflow stage to final_summary
2025-03-25 14:15:13,120 - workflow_orchestrator - INFO - Generating final summary
2025-03-25 14:15:13,120 - workflow_orchestrator - INFO - Creating final summary for product: Unknown Product
2025-03-25 14:15:13,120 - workflow_orchestrator - INFO - Final summary generated successfully
2025-03-25 14:15:13,120 - workflow_orchestrator - INFO - Getting AI response
2025-03-25 14:15:13,120 - workflow_orchestrator - INFO - Using system prompt for stage: final_summary
2025-03-25 14:15:13,121 - workflow_orchestrator - INFO - Calling OpenAI API for chat completion
2025-03-25 14:15:15,628 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-25 14:15:15,629 - workflow_orchestrator - INFO - Received AI response
2025-03-25 14:15:15,629 - api - INFO - API: Message processed, new stage: final_summary
